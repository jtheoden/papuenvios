function mC(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var ld={exports:{}},xo={},cd={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function gC(){if(mg)return ze;mg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function _(E,L,Q){this.props=E,this.context=L,this.refs=j,this.updater=Q||w}_.prototype.isReactComponent={},_.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},_.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function O(){}O.prototype=_.prototype;function T(E,L,Q){this.props=E,this.context=L,this.refs=j,this.updater=Q||w}var P=T.prototype=new O;P.constructor=T,C(P,_.prototype),P.isPureReactComponent=!0;var N=Array.isArray,I=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function H(E,L,Q){var oe,ve={},Ce=null,le=null;if(L!=null)for(oe in L.ref!==void 0&&(le=L.ref),L.key!==void 0&&(Ce=""+L.key),L)I.call(L,oe)&&!D.hasOwnProperty(oe)&&(ve[oe]=L[oe]);var xe=arguments.length-2;if(xe===1)ve.children=Q;else if(1<xe){for(var Ae=Array(xe),Y=0;Y<xe;Y++)Ae[Y]=arguments[Y+2];ve.children=Ae}if(E&&E.defaultProps)for(oe in xe=E.defaultProps,xe)ve[oe]===void 0&&(ve[oe]=xe[oe]);return{$$typeof:t,type:E,key:Ce,ref:le,props:ve,_owner:M.current}}function te(E,L){return{$$typeof:t,type:E.type,key:L,ref:E.ref,props:E.props,_owner:E._owner}}function U(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function me(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return L[Q]})}var se=/\/+/g;function re(E,L){return typeof E=="object"&&E!==null&&E.key!=null?me(""+E.key):L.toString(36)}function B(E,L,Q,oe,ve){var Ce=typeof E;(Ce==="undefined"||Ce==="boolean")&&(E=null);var le=!1;if(E===null)le=!0;else switch(Ce){case"string":case"number":le=!0;break;case"object":switch(E.$$typeof){case t:case e:le=!0}}if(le)return le=E,ve=ve(le),E=oe===""?"."+re(le,0):oe,N(ve)?(Q="",E!=null&&(Q=E.replace(se,"$&/")+"/"),B(ve,L,Q,"",function(Y){return Y})):ve!=null&&(U(ve)&&(ve=te(ve,Q+(!ve.key||le&&le.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+E)),L.push(ve)),1;if(le=0,oe=oe===""?".":oe+":",N(E))for(var xe=0;xe<E.length;xe++){Ce=E[xe];var Ae=oe+re(Ce,xe);le+=B(Ce,L,Q,Ae,ve)}else if(Ae=v(E),typeof Ae=="function")for(E=Ae.call(E),xe=0;!(Ce=E.next()).done;)Ce=Ce.value,Ae=oe+re(Ce,xe++),le+=B(Ce,L,Q,Ae,ve);else if(Ce==="object")throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return le}function we(E,L,Q){if(E==null)return E;var oe=[],ve=0;return B(E,oe,"","",function(Ce){return L.call(Q,Ce,ve++)}),oe}function J(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var fe={current:null},q={transition:null},ie={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:q,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:we,forEach:function(E,L,Q){we(E,function(){L.apply(this,arguments)},Q)},count:function(E){var L=0;return we(E,function(){L++}),L},toArray:function(E){return we(E,function(L){return L})||[]},only:function(E){if(!U(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ze.Component=_,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=T,ze.StrictMode=s,ze.Suspense=h,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ze.act=ne,ze.cloneElement=function(E,L,Q){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=C({},E.props),ve=E.key,Ce=E.ref,le=E._owner;if(L!=null){if(L.ref!==void 0&&(Ce=L.ref,le=M.current),L.key!==void 0&&(ve=""+L.key),E.type&&E.type.defaultProps)var xe=E.type.defaultProps;for(Ae in L)I.call(L,Ae)&&!D.hasOwnProperty(Ae)&&(oe[Ae]=L[Ae]===void 0&&xe!==void 0?xe[Ae]:L[Ae])}var Ae=arguments.length-2;if(Ae===1)oe.children=Q;else if(1<Ae){xe=Array(Ae);for(var Y=0;Y<Ae;Y++)xe[Y]=arguments[Y+2];oe.children=xe}return{$$typeof:t,type:E.type,key:ve,ref:Ce,props:oe,_owner:le}},ze.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},ze.createElement=H,ze.createFactory=function(E){var L=H.bind(null,E);return L.type=E,L},ze.createRef=function(){return{current:null}},ze.forwardRef=function(E){return{$$typeof:d,render:E}},ze.isValidElement=U,ze.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:J}},ze.memo=function(E,L){return{$$typeof:m,type:E,compare:L===void 0?null:L}},ze.startTransition=function(E){var L=q.transition;q.transition={};try{E()}finally{q.transition=L}},ze.unstable_act=ne,ze.useCallback=function(E,L){return fe.current.useCallback(E,L)},ze.useContext=function(E){return fe.current.useContext(E)},ze.useDebugValue=function(){},ze.useDeferredValue=function(E){return fe.current.useDeferredValue(E)},ze.useEffect=function(E,L){return fe.current.useEffect(E,L)},ze.useId=function(){return fe.current.useId()},ze.useImperativeHandle=function(E,L,Q){return fe.current.useImperativeHandle(E,L,Q)},ze.useInsertionEffect=function(E,L){return fe.current.useInsertionEffect(E,L)},ze.useLayoutEffect=function(E,L){return fe.current.useLayoutEffect(E,L)},ze.useMemo=function(E,L){return fe.current.useMemo(E,L)},ze.useReducer=function(E,L,Q){return fe.current.useReducer(E,L,Q)},ze.useRef=function(E){return fe.current.useRef(E)},ze.useState=function(E){return fe.current.useState(E)},ze.useSyncExternalStore=function(E,L,Q){return fe.current.useSyncExternalStore(E,L,Q)},ze.useTransition=function(){return fe.current.useTransition()},ze.version="18.3.1",ze}var pg;function sc(){return pg||(pg=1,cd.exports=gC()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function yC(){if(gg)return xo;gg=1;var t=sc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var p,y={},v=null,w=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)s.call(h,p)&&!l.hasOwnProperty(p)&&(y[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:e,type:d,key:v,ref:w,props:y,_owner:o.current}}return xo.Fragment=r,xo.jsx=u,xo.jsxs=u,xo}var yg;function vC(){return yg||(yg=1,ld.exports=yC()),ld.exports}var a=vC(),b=sc();const rt=ks(b),Uv=mC({__proto__:null,default:rt},[b]);var bl={},ud={exports:{}},Jt={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function xC(){return vg||(vg=1,(function(t){function e(q,ie){var ne=q.length;q.push(ie);e:for(;0<ne;){var E=ne-1>>>1,L=q[E];if(0<o(L,ie))q[E]=ie,q[ne]=L,ne=E;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ie=q[0],ne=q.pop();if(ne!==ie){q[0]=ne;e:for(var E=0,L=q.length,Q=L>>>1;E<Q;){var oe=2*(E+1)-1,ve=q[oe],Ce=oe+1,le=q[Ce];if(0>o(ve,ne))Ce<L&&0>o(le,ve)?(q[E]=le,q[Ce]=ne,E=Ce):(q[E]=ve,q[oe]=ne,E=oe);else if(Ce<L&&0>o(le,ne))q[E]=le,q[Ce]=ne,E=Ce;else break e}}return ie}function o(q,ie){var ne=q.sortIndex-ie.sortIndex;return ne!==0?ne:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],p=1,y=null,v=3,w=!1,C=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(q){for(var ie=r(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=q)s(m),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=r(m)}}function N(q){if(j=!1,P(q),!C)if(r(h)!==null)C=!0,J(I);else{var ie=r(m);ie!==null&&fe(N,ie.startTime-q)}}function I(q,ie){C=!1,j&&(j=!1,O(H),H=-1),w=!0;var ne=v;try{for(P(ie),y=r(h);y!==null&&(!(y.expirationTime>ie)||q&&!me());){var E=y.callback;if(typeof E=="function"){y.callback=null,v=y.priorityLevel;var L=E(y.expirationTime<=ie);ie=t.unstable_now(),typeof L=="function"?y.callback=L:y===r(h)&&s(h),P(ie)}else s(h);y=r(h)}if(y!==null)var Q=!0;else{var oe=r(m);oe!==null&&fe(N,oe.startTime-ie),Q=!1}return Q}finally{y=null,v=ne,w=!1}}var M=!1,D=null,H=-1,te=5,U=-1;function me(){return!(t.unstable_now()-U<te)}function se(){if(D!==null){var q=t.unstable_now();U=q;var ie=!0;try{ie=D(!0,q)}finally{ie?re():(M=!1,D=null)}}else M=!1}var re;if(typeof T=="function")re=function(){T(se)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,we=B.port2;B.port1.onmessage=se,re=function(){we.postMessage(null)}}else re=function(){_(se,0)};function J(q){D=q,M||(M=!0,re())}function fe(q,ie){H=_(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,J(I))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ne=v;v=ie;try{return q()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=v;v=q;try{return ie()}finally{v=ne}},t.unstable_scheduleCallback=function(q,ie,ne){var E=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?E+ne:E):ne=E,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ne+L,q={id:p++,callback:ie,priorityLevel:q,startTime:ne,expirationTime:L,sortIndex:-1},ne>E?(q.sortIndex=ne,e(m,q),r(h)===null&&q===r(m)&&(j?(O(H),H=-1):j=!0,fe(N,ne-E))):(q.sortIndex=L,e(h,q),C||w||(C=!0,J(I))),q},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(q){var ie=v;return function(){var ne=v;v=ie;try{return q.apply(this,arguments)}finally{v=ne}}}})(fd)),fd}var xg;function wC(){return xg||(xg=1,dd.exports=xC()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function bC(){if(wg)return Jt;wg=1;var t=sc(),e=wC();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(n){return h.call(y,n)?!0:h.call(p,n)?!1:m.test(n)?y[n]=!0:(p[n]=!0,!1)}function w(n,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,c,f){if(i===null||typeof i>"u"||w(n,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,c,f,g,x,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=x,this.removeEmptyString=S}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];_[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(O,T);_[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(O,T);_[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(O,T);_[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),_.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function P(n,i,c,f){var g=_.hasOwnProperty(i)?_[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,c,g,f)&&(c=null),f||g===null?v(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):g.mustUseProperty?n[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?n.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?n.setAttributeNS(f,i,c):n.setAttribute(i,c))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),me=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,E;function L(n){if(E===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+n}var Q=!1;function oe(n,i){if(!n||Q)return"";Q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var f=G}Reflect.construct(n,[],i)}else{try{i.call()}catch(G){f=G}n.call(i.prototype)}else{try{throw Error()}catch(G){f=G}n()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),x=f.stack.split(`
`),S=g.length-1,R=x.length-1;1<=S&&0<=R&&g[S]!==x[R];)R--;for(;1<=S&&0<=R;S--,R--)if(g[S]!==x[R]){if(S!==1||R!==1)do if(S--,R--,0>R||g[S]!==x[R]){var $=`
`+g[S].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=S&&0<=R);break}}}finally{Q=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?L(n):""}function ve(n){switch(n.tag){case 5:return L(n.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function Ce(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case M:return"Portal";case te:return"Profiler";case H:return"StrictMode";case re:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case me:return(n.displayName||"Context")+".Consumer";case U:return(n._context.displayName||"Context")+".Provider";case se:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case we:return i=n.displayName||null,i!==null?i:Ce(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return Ce(n(i))}catch{}}return null}function le(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(i);case 8:return i===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ae(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Y(n){var i=Ae(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function K(n){n._valueTracker||(n._valueTracker=Y(n))}function Le(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return n&&(f=Ae(n)?n.checked?"true":"false":n.value),n=f,n!==c?(i.setValue(n),!0):!1}function je(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function A(n,i){var c=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function he(n,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=xe(i.value!=null?i.value:c),n._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Z(n,i){i=i.checked,i!=null&&P(n,"checked",i,!1)}function Re(n,i){Z(n,i);var c=xe(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?He(n,i.type,c):i.hasOwnProperty("defaultValue")&&He(n,i.type,xe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Oe(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function He(n,i,c){(i!=="number"||je(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var X=Array.isArray;function be(n,i,c,f){if(n=n.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<n.length;c++)g=i.hasOwnProperty("$"+n[c].value),n[c].selected!==g&&(n[c].selected=g),g&&f&&(n[c].defaultSelected=!0)}else{for(c=""+xe(c),i=null,g=0;g<n.length;g++){if(n[g].value===c){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Ve(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ye(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(X(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:xe(c)}}function Nt(n,i){var c=xe(i.value),f=xe(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),f!=null&&(n.defaultValue=""+f)}function ut(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Mt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Mt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ge,Ut=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return n(i,c,f,g)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ge.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ir(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sc=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(n){Sc.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Kr[i]=Kr[n]})});function la(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Kr.hasOwnProperty(n)&&Kr[n]?(""+i).trim():i+"px"}function ca(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=la(c,i[c],f);c==="float"&&(c="cssFloat"),f?n.setProperty(c,g):n[c]=g}}var Nc=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Li(n,i){if(i){if(Nc[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function $i(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function Ms(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Is=null,Qr=null,hn=null;function Ds(n){if(n=no(n)){if(typeof Is!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Da(i),Is(n.stateNode,n.type,i))}}function ua(n){Qr?hn?hn.push(n):hn=[n]:Qr=n}function da(){if(Qr){var n=Qr,i=hn;if(hn=Qr=null,Ds(n),i)for(n=0;n<i.length;n++)Ds(i[n])}}function fa(n,i){return n(i)}function ha(){}var Xn=!1;function ma(n,i,c){if(Xn)return n(i,c);Xn=!0;try{return fa(n,i,c)}finally{Xn=!1,(Qr!==null||hn!==null)&&(ha(),da())}}function wr(n,i){var c=n.stateNode;if(c===null)return null;var f=Da(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var mn=!1;if(d)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{mn=!1}function kc(n,i,c,f,g,x,S,R,$){var G=Array.prototype.slice.call(arguments,3);try{i.apply(c,G)}catch(ce){this.onError(ce)}}var es=!1,Ls=null,k=!1,V=null,_e={onError:function(n){es=!0,Ls=n}};function Be(n,i,c,f,g,x,S,R,$){es=!1,Ls=null,kc.apply(_e,arguments)}function Ke(n,i,c,f,g,x,S,R,$){if(Be.apply(this,arguments),es){if(es){var G=Ls;es=!1,Ls=null}else throw Error(r(198));k||(k=!0,V=G)}}function Ze(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function pa(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function $h(n){if(Ze(n)!==n)throw Error(r(188))}function jb(n){var i=n.alternate;if(!i){if(i=Ze(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,f=i;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return $h(g),n;if(x===f)return $h(g),i;x=x.sibling}throw Error(r(188))}if(c.return!==f.return)c=g,f=x;else{for(var S=!1,R=g.child;R;){if(R===c){S=!0,c=g,f=x;break}if(R===f){S=!0,f=g,c=x;break}R=R.sibling}if(!S){for(R=x.child;R;){if(R===c){S=!0,c=x,f=g;break}if(R===f){S=!0,f=x,c=g;break}R=R.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function Fh(n){return n=jb(n),n!==null?Uh(n):null}function Uh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Uh(n);if(i!==null)return i;n=n.sibling}return null}var Bh=e.unstable_scheduleCallback,Vh=e.unstable_cancelCallback,Sb=e.unstable_shouldYield,Nb=e.unstable_requestPaint,gt=e.unstable_now,kb=e.unstable_getCurrentPriorityLevel,Ec=e.unstable_ImmediatePriority,zh=e.unstable_UserBlockingPriority,ga=e.unstable_NormalPriority,Eb=e.unstable_LowPriority,qh=e.unstable_IdlePriority,ya=null,Dr=null;function Pb(n){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(ya,n,void 0,(n.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:Rb,Tb=Math.log,Ab=Math.LN2;function Rb(n){return n>>>=0,n===0?32:31-(Tb(n)/Ab|0)|0}var va=64,xa=4194304;function Fi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wa(n,i){var c=n.pendingLanes;if(c===0)return 0;var f=0,g=n.suspendedLanes,x=n.pingedLanes,S=c&268435455;if(S!==0){var R=S&~g;R!==0?f=Fi(R):(x&=S,x!==0&&(f=Fi(x)))}else S=c&~g,S!==0?f=Fi(S):x!==0&&(f=Fi(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,x=i&-i,g>=x||g===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=f;0<i;)c=31-br(i),g=1<<c,f|=n[c],i&=~g;return f}function Ob(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mb(n,i){for(var c=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes;0<x;){var S=31-br(x),R=1<<S,$=g[S];$===-1?((R&c)===0||(R&f)!==0)&&(g[S]=Ob(R,i)):$<=i&&(n.expiredLanes|=R),x&=~R}}function Pc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wh(){var n=va;return va<<=1,(va&4194240)===0&&(va=64),n}function Tc(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Ui(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-br(i),n[i]=c}function Ib(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<c;){var g=31-br(c),x=1<<g;i[g]=0,f[g]=-1,n[g]=-1,c&=~x}}function Ac(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var f=31-br(c),g=1<<f;g&i|n[f]&i&&(n[f]|=i),c&=~g}}var Xe=0;function Hh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Gh,Rc,Kh,Qh,Yh,Oc=!1,ba=[],pn=null,gn=null,yn=null,Bi=new Map,Vi=new Map,vn=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(n,i){switch(n){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(i.pointerId)}}function zi(n,i,c,f,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=no(i),i!==null&&Rc(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function Lb(n,i,c,f,g){switch(i){case"focusin":return pn=zi(pn,n,i,c,f,g),!0;case"dragenter":return gn=zi(gn,n,i,c,f,g),!0;case"mouseover":return yn=zi(yn,n,i,c,f,g),!0;case"pointerover":var x=g.pointerId;return Bi.set(x,zi(Bi.get(x)||null,n,i,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Vi.set(x,zi(Vi.get(x)||null,n,i,c,f,g)),!0}return!1}function Xh(n){var i=ts(n.target);if(i!==null){var c=Ze(i);if(c!==null){if(i=c.tag,i===13){if(i=pa(c),i!==null){n.blockedOn=i,Yh(n.priority,function(){Kh(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _a(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Ic(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var f=new c.constructor(c.type,c);Os=f,c.target.dispatchEvent(f),Os=null}else return i=no(c),i!==null&&Rc(i),n.blockedOn=c,!1;i.shift()}return!0}function Zh(n,i,c){_a(n)&&c.delete(i)}function $b(){Oc=!1,pn!==null&&_a(pn)&&(pn=null),gn!==null&&_a(gn)&&(gn=null),yn!==null&&_a(yn)&&(yn=null),Bi.forEach(Zh),Vi.forEach(Zh)}function qi(n,i){n.blockedOn===i&&(n.blockedOn=null,Oc||(Oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$b)))}function Wi(n){function i(g){return qi(g,n)}if(0<ba.length){qi(ba[0],n);for(var c=1;c<ba.length;c++){var f=ba[c];f.blockedOn===n&&(f.blockedOn=null)}}for(pn!==null&&qi(pn,n),gn!==null&&qi(gn,n),yn!==null&&qi(yn,n),Bi.forEach(i),Vi.forEach(i),c=0;c<vn.length;c++)f=vn[c],f.blockedOn===n&&(f.blockedOn=null);for(;0<vn.length&&(c=vn[0],c.blockedOn===null);)Xh(c),c.blockedOn===null&&vn.shift()}var $s=N.ReactCurrentBatchConfig,Ca=!0;function Fb(n,i,c,f){var g=Xe,x=$s.transition;$s.transition=null;try{Xe=1,Mc(n,i,c,f)}finally{Xe=g,$s.transition=x}}function Ub(n,i,c,f){var g=Xe,x=$s.transition;$s.transition=null;try{Xe=4,Mc(n,i,c,f)}finally{Xe=g,$s.transition=x}}function Mc(n,i,c,f){if(Ca){var g=Ic(n,i,c,f);if(g===null)Xc(n,i,f,ja,c),Jh(n,f);else if(Lb(g,n,i,c,f))f.stopPropagation();else if(Jh(n,f),i&4&&-1<Db.indexOf(n)){for(;g!==null;){var x=no(g);if(x!==null&&Gh(x),x=Ic(n,i,c,f),x===null&&Xc(n,i,f,ja,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else Xc(n,i,f,null,c)}}var ja=null;function Ic(n,i,c,f){if(ja=null,n=Ms(f),n=ts(n),n!==null)if(i=Ze(n),i===null)n=null;else if(c=i.tag,c===13){if(n=pa(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ja=n,null}function em(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case Ec:return 1;case zh:return 4;case ga:case Eb:return 16;case qh:return 536870912;default:return 16}default:return 16}}var xn=null,Dc=null,Sa=null;function tm(){if(Sa)return Sa;var n,i=Dc,c=i.length,f,g="value"in xn?xn.value:xn.textContent,x=g.length;for(n=0;n<c&&i[n]===g[n];n++);var S=c-n;for(f=1;f<=S&&i[c-f]===g[x-f];f++);return Sa=g.slice(n,1<f?1-f:void 0)}function Na(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ka(){return!0}function rm(){return!1}function tr(n){function i(c,f,g,x,S){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(c=n[R],this[R]=c?c(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ka:rm,this.isPropagationStopped=rm,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),i}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=tr(Fs),Hi=ne({},Fs,{view:0,detail:0}),Bb=tr(Hi),$c,Fc,Gi,Ea=ne({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gi&&(Gi&&n.type==="mousemove"?($c=n.screenX-Gi.screenX,Fc=n.screenY-Gi.screenY):Fc=$c=0,Gi=n),$c)},movementY:function(n){return"movementY"in n?n.movementY:Fc}}),nm=tr(Ea),Vb=ne({},Ea,{dataTransfer:0}),zb=tr(Vb),qb=ne({},Hi,{relatedTarget:0}),Uc=tr(qb),Wb=ne({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hb=tr(Wb),Gb=ne({},Fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Kb=tr(Gb),Qb=ne({},Fs,{data:0}),sm=tr(Qb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Xb[n])?!!i[n]:!1}function Bc(){return Zb}var e_=ne({},Hi,{key:function(n){if(n.key){var i=Yb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(n){return n.type==="keypress"?Na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),t_=tr(e_),r_=ne({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=tr(r_),n_=ne({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),s_=tr(n_),i_=ne({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),o_=tr(i_),a_=ne({},Ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),l_=tr(a_),c_=[9,13,27,32],Vc=d&&"CompositionEvent"in window,Ki=null;d&&"documentMode"in document&&(Ki=document.documentMode);var u_=d&&"TextEvent"in window&&!Ki,om=d&&(!Vc||Ki&&8<Ki&&11>=Ki),am=" ",lm=!1;function cm(n,i){switch(n){case"keyup":return c_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function um(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function d_(n,i){switch(n){case"compositionend":return um(i);case"keypress":return i.which!==32?null:(lm=!0,am);case"textInput":return n=i.data,n===am&&lm?null:n;default:return null}}function f_(n,i){if(Us)return n==="compositionend"||!Vc&&cm(n,i)?(n=tm(),Sa=Dc=xn=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return om&&i.locale!=="ko"?null:i.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!h_[n.type]:i==="textarea"}function fm(n,i,c,f){ua(f),i=Oa(i,"onChange"),0<i.length&&(c=new Lc("onChange","change",null,c,f),n.push({event:c,listeners:i}))}var Qi=null,Yi=null;function m_(n){Tm(n,0)}function Pa(n){var i=Ws(n);if(Le(i))return n}function p_(n,i){if(n==="change")return i}var hm=!1;if(d){var zc;if(d){var qc="oninput"in document;if(!qc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),qc=typeof mm.oninput=="function"}zc=qc}else zc=!1;hm=zc&&(!document.documentMode||9<document.documentMode)}function pm(){Qi&&(Qi.detachEvent("onpropertychange",gm),Yi=Qi=null)}function gm(n){if(n.propertyName==="value"&&Pa(Yi)){var i=[];fm(i,Yi,n,Ms(n)),ma(m_,i)}}function g_(n,i,c){n==="focusin"?(pm(),Qi=i,Yi=c,Qi.attachEvent("onpropertychange",gm)):n==="focusout"&&pm()}function y_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Pa(Yi)}function v_(n,i){if(n==="click")return Pa(i)}function x_(n,i){if(n==="input"||n==="change")return Pa(i)}function w_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var _r=typeof Object.is=="function"?Object.is:w_;function Ji(n,i){if(_r(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(i,g)||!_r(n[g],i[g]))return!1}return!0}function ym(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vm(n,i){var c=ym(n);n=0;for(var f;c;){if(c.nodeType===3){if(f=n+c.textContent.length,n<=i&&f>=i)return{node:c,offset:i-n};n=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ym(c)}}function xm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function wm(){for(var n=window,i=je();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=je(n.document)}return i}function Wc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function b_(n){var i=wm(),c=n.focusedElem,f=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&xm(c.ownerDocument.documentElement,c)){if(f!==null&&Wc(c)){if(i=f.start,n=f.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!n.extend&&x>f&&(g=f,f=x,x=g),g=vm(c,x);var S=vm(c,f);g&&S&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),n.removeAllRanges(),x>f?(n.addRange(i),n.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var __=d&&"documentMode"in document&&11>=document.documentMode,Bs=null,Hc=null,Xi=null,Gc=!1;function bm(n,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gc||Bs==null||Bs!==je(f)||(f=Bs,"selectionStart"in f&&Wc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Xi&&Ji(Xi,f)||(Xi=f,f=Oa(Hc,"onSelect"),0<f.length&&(i=new Lc("onSelect","select",null,i,c),n.push({event:i,listeners:f}),i.target=Bs)))}function Ta(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Vs={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Kc={},_m={};d&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Aa(n){if(Kc[n])return Kc[n];if(!Vs[n])return n;var i=Vs[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in _m)return Kc[n]=i[c];return n}var Cm=Aa("animationend"),jm=Aa("animationiteration"),Sm=Aa("animationstart"),Nm=Aa("transitionend"),km=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(n,i){km.set(n,i),l(i,[n])}for(var Qc=0;Qc<Em.length;Qc++){var Yc=Em[Qc],C_=Yc.toLowerCase(),j_=Yc[0].toUpperCase()+Yc.slice(1);wn(C_,"on"+j_)}wn(Cm,"onAnimationEnd"),wn(jm,"onAnimationIteration"),wn(Sm,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Nm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Pm(n,i,c){var f=n.type||"unknown-event";n.currentTarget=c,Ke(f,i,void 0,n),n.currentTarget=null}function Tm(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var f=n[c],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var S=f.length-1;0<=S;S--){var R=f[S],$=R.instance,G=R.currentTarget;if(R=R.listener,$!==x&&g.isPropagationStopped())break e;Pm(g,R,G),x=$}else for(S=0;S<f.length;S++){if(R=f[S],$=R.instance,G=R.currentTarget,R=R.listener,$!==x&&g.isPropagationStopped())break e;Pm(g,R,G),x=$}}}if(k)throw n=V,k=!1,V=null,n}function ot(n,i){var c=i[su];c===void 0&&(c=i[su]=new Set);var f=n+"__bubble";c.has(f)||(Am(i,n,2,!1),c.add(f))}function Jc(n,i,c){var f=0;i&&(f|=4),Am(c,n,f,i)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function eo(n){if(!n[Ra]){n[Ra]=!0,s.forEach(function(c){c!=="selectionchange"&&(S_.has(c)||Jc(c,!1,n),Jc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ra]||(i[Ra]=!0,Jc("selectionchange",!1,i))}}function Am(n,i,c,f){switch(em(i)){case 1:var g=Fb;break;case 4:g=Ub;break;default:g=Mc}c=g.bind(null,i,c,n),g=void 0,!mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,c,{capture:!0,passive:g}):n.addEventListener(i,c,!0):g!==void 0?n.addEventListener(i,c,{passive:g}):n.addEventListener(i,c,!1)}function Xc(n,i,c,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var $=S.tag;if(($===3||$===4)&&($=S.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;S=S.return}for(;R!==null;){if(S=ts(R),S===null)return;if($=S.tag,$===5||$===6){f=x=S;continue e}R=R.parentNode}}f=f.return}ma(function(){var G=x,ce=Ms(c),de=[];e:{var ae=km.get(n);if(ae!==void 0){var Se=Lc,ke=n;switch(n){case"keypress":if(Na(c)===0)break e;case"keydown":case"keyup":Se=t_;break;case"focusin":ke="focus",Se=Uc;break;case"focusout":ke="blur",Se=Uc;break;case"beforeblur":case"afterblur":Se=Uc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=s_;break;case Cm:case jm:case Sm:Se=Hb;break;case Nm:Se=o_;break;case"scroll":Se=Bb;break;case"wheel":Se=l_;break;case"copy":case"cut":case"paste":Se=Kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=im}var Ee=(i&4)!==0,yt=!Ee&&n==="scroll",z=Ee?ae!==null?ae+"Capture":null:ae;Ee=[];for(var F=G,W;F!==null;){W=F;var ge=W.stateNode;if(W.tag===5&&ge!==null&&(W=ge,z!==null&&(ge=wr(F,z),ge!=null&&Ee.push(to(F,ge,W)))),yt)break;F=F.return}0<Ee.length&&(ae=new Se(ae,ke,null,c,ce),de.push({event:ae,listeners:Ee}))}}if((i&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",ae&&c!==Os&&(ke=c.relatedTarget||c.fromElement)&&(ts(ke)||ke[Yr]))break e;if((Se||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(ke=c.relatedTarget||c.toElement,Se=G,ke=ke?ts(ke):null,ke!==null&&(yt=Ze(ke),ke!==yt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Se=null,ke=G),Se!==ke)){if(Ee=nm,ge="onMouseLeave",z="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=im,ge="onPointerLeave",z="onPointerEnter",F="pointer"),yt=Se==null?ae:Ws(Se),W=ke==null?ae:Ws(ke),ae=new Ee(ge,F+"leave",Se,c,ce),ae.target=yt,ae.relatedTarget=W,ge=null,ts(ce)===G&&(Ee=new Ee(z,F+"enter",ke,c,ce),Ee.target=W,Ee.relatedTarget=yt,ge=Ee),yt=ge,Se&&ke)t:{for(Ee=Se,z=ke,F=0,W=Ee;W;W=zs(W))F++;for(W=0,ge=z;ge;ge=zs(ge))W++;for(;0<F-W;)Ee=zs(Ee),F--;for(;0<W-F;)z=zs(z),W--;for(;F--;){if(Ee===z||z!==null&&Ee===z.alternate)break t;Ee=zs(Ee),z=zs(z)}Ee=null}else Ee=null;Se!==null&&Rm(de,ae,Se,Ee,!1),ke!==null&&yt!==null&&Rm(de,yt,ke,Ee,!0)}}e:{if(ae=G?Ws(G):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var Pe=p_;else if(dm(ae))if(hm)Pe=x_;else{Pe=y_;var Me=g_}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Pe=v_);if(Pe&&(Pe=Pe(n,G))){fm(de,Pe,c,ce);break e}Me&&Me(n,ae,G),n==="focusout"&&(Me=ae._wrapperState)&&Me.controlled&&ae.type==="number"&&He(ae,"number",ae.value)}switch(Me=G?Ws(G):window,n){case"focusin":(dm(Me)||Me.contentEditable==="true")&&(Bs=Me,Hc=G,Xi=null);break;case"focusout":Xi=Hc=Bs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,bm(de,c,ce);break;case"selectionchange":if(__)break;case"keydown":case"keyup":bm(de,c,ce)}var Ie;if(Vc)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Us?cm(n,c)&&($e="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(om&&c.locale!=="ko"&&(Us||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Us&&(Ie=tm()):(xn=ce,Dc="value"in xn?xn.value:xn.textContent,Us=!0)),Me=Oa(G,$e),0<Me.length&&($e=new sm($e,n,null,c,ce),de.push({event:$e,listeners:Me}),Ie?$e.data=Ie:(Ie=um(c),Ie!==null&&($e.data=Ie)))),(Ie=u_?d_(n,c):f_(n,c))&&(G=Oa(G,"onBeforeInput"),0<G.length&&(ce=new sm("onBeforeInput","beforeinput",null,c,ce),de.push({event:ce,listeners:G}),ce.data=Ie))}Tm(de,i)})}function to(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Oa(n,i){for(var c=i+"Capture",f=[];n!==null;){var g=n,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=wr(n,c),x!=null&&f.unshift(to(n,x,g)),x=wr(n,i),x!=null&&f.push(to(n,x,g))),n=n.return}return f}function zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Rm(n,i,c,f,g){for(var x=i._reactName,S=[];c!==null&&c!==f;){var R=c,$=R.alternate,G=R.stateNode;if($!==null&&$===f)break;R.tag===5&&G!==null&&(R=G,g?($=wr(c,x),$!=null&&S.unshift(to(c,$,R))):g||($=wr(c,x),$!=null&&S.push(to(c,$,R)))),c=c.return}S.length!==0&&n.push({event:i,listeners:S})}var N_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function Om(n){return(typeof n=="string"?n:""+n).replace(N_,`
`).replace(k_,"")}function Ma(n,i,c){if(i=Om(i),Om(n)!==i&&c)throw Error(r(425))}function Ia(){}var Zc=null,eu=null;function tu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(n){return Mm.resolve(null).then(n).catch(T_)}:ru;function T_(n){setTimeout(function(){throw n})}function nu(n,i){var c=i,f=0;do{var g=c.nextSibling;if(n.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){n.removeChild(g),Wi(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Wi(i)}function bn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Im(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Lr="__reactFiber$"+qs,ro="__reactProps$"+qs,Yr="__reactContainer$"+qs,su="__reactEvents$"+qs,A_="__reactListeners$"+qs,R_="__reactHandles$"+qs;function ts(n){var i=n[Lr];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Yr]||c[Lr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Im(n);n!==null;){if(c=n[Lr])return c;n=Im(n)}return i}n=c,c=n.parentNode}return null}function no(n){return n=n[Lr]||n[Yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ws(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Da(n){return n[ro]||null}var iu=[],Hs=-1;function _n(n){return{current:n}}function at(n){0>Hs||(n.current=iu[Hs],iu[Hs]=null,Hs--)}function nt(n,i){Hs++,iu[Hs]=n.current,n.current=i}var Cn={},It=_n(Cn),Ht=_n(!1),rs=Cn;function Gs(n,i){var c=n.type.contextTypes;if(!c)return Cn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=i[x];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=g),g}function Gt(n){return n=n.childContextTypes,n!=null}function La(){at(Ht),at(It)}function Dm(n,i,c){if(It.current!==Cn)throw Error(r(168));nt(It,i),nt(Ht,c)}function Lm(n,i,c){var f=n.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(r(108,le(n)||"Unknown",g));return ne({},c,f)}function $a(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cn,rs=It.current,nt(It,n),nt(Ht,Ht.current),!0}function $m(n,i,c){var f=n.stateNode;if(!f)throw Error(r(169));c?(n=Lm(n,i,rs),f.__reactInternalMemoizedMergedChildContext=n,at(Ht),at(It),nt(It,n)):at(Ht),nt(Ht,c)}var Jr=null,Fa=!1,ou=!1;function Fm(n){Jr===null?Jr=[n]:Jr.push(n)}function O_(n){Fa=!0,Fm(n)}function jn(){if(!ou&&Jr!==null){ou=!0;var n=0,i=Xe;try{var c=Jr;for(Xe=1;n<c.length;n++){var f=c[n];do f=f(!0);while(f!==null)}Jr=null,Fa=!1}catch(g){throw Jr!==null&&(Jr=Jr.slice(n+1)),Bh(Ec,jn),g}finally{Xe=i,ou=!1}}return null}var Ks=[],Qs=0,Ua=null,Ba=0,cr=[],ur=0,ns=null,Xr=1,Zr="";function ss(n,i){Ks[Qs++]=Ba,Ks[Qs++]=Ua,Ua=n,Ba=i}function Um(n,i,c){cr[ur++]=Xr,cr[ur++]=Zr,cr[ur++]=ns,ns=n;var f=Xr;n=Zr;var g=32-br(f)-1;f&=~(1<<g),c+=1;var x=32-br(i)+g;if(30<x){var S=g-g%5;x=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Xr=1<<32-br(i)+g|c<<g|f,Zr=x+n}else Xr=1<<x|c<<g|f,Zr=n}function au(n){n.return!==null&&(ss(n,1),Um(n,1,0))}function lu(n){for(;n===Ua;)Ua=Ks[--Qs],Ks[Qs]=null,Ba=Ks[--Qs],Ks[Qs]=null;for(;n===ns;)ns=cr[--ur],cr[ur]=null,Zr=cr[--ur],cr[ur]=null,Xr=cr[--ur],cr[ur]=null}var rr=null,nr=null,ct=!1,Cr=null;function Bm(n,i){var c=mr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Vm(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,rr=n,nr=bn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,rr=n,nr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ns!==null?{id:Xr,overflow:Zr}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=mr(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,rr=n,nr=null,!0):!1;default:return!1}}function cu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function uu(n){if(ct){var i=nr;if(i){var c=i;if(!Vm(n,i)){if(cu(n))throw Error(r(418));i=bn(c.nextSibling);var f=rr;i&&Vm(n,i)?Bm(f,c):(n.flags=n.flags&-4097|2,ct=!1,rr=n)}}else{if(cu(n))throw Error(r(418));n.flags=n.flags&-4097|2,ct=!1,rr=n}}}function zm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rr=n}function Va(n){if(n!==rr)return!1;if(!ct)return zm(n),ct=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!tu(n.type,n.memoizedProps)),i&&(i=nr)){if(cu(n))throw qm(),Error(r(418));for(;i;)Bm(n,i),i=bn(i.nextSibling)}if(zm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){nr=bn(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}nr=null}}else nr=rr?bn(n.stateNode.nextSibling):null;return!0}function qm(){for(var n=nr;n;)n=bn(n.nextSibling)}function Ys(){nr=rr=null,ct=!1}function du(n){Cr===null?Cr=[n]:Cr.push(n)}var M_=N.ReactCurrentBatchConfig;function so(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var f=c.stateNode}if(!f)throw Error(r(147,n));var g=f,x=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(S){var R=g.refs;S===null?delete R[x]:R[x]=S},i._stringRef=x,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function za(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Wm(n){var i=n._init;return i(n._payload)}function Hm(n){function i(z,F){if(n){var W=z.deletions;W===null?(z.deletions=[F],z.flags|=16):W.push(F)}}function c(z,F){if(!n)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function f(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function g(z,F){return z=Rn(z,F),z.index=0,z.sibling=null,z}function x(z,F,W){return z.index=W,n?(W=z.alternate,W!==null?(W=W.index,W<F?(z.flags|=2,F):W):(z.flags|=2,F)):(z.flags|=1048576,F)}function S(z){return n&&z.alternate===null&&(z.flags|=2),z}function R(z,F,W,ge){return F===null||F.tag!==6?(F=rd(W,z.mode,ge),F.return=z,F):(F=g(F,W),F.return=z,F)}function $(z,F,W,ge){var Pe=W.type;return Pe===D?ce(z,F,W.props.children,ge,W.key):F!==null&&(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&Wm(Pe)===F.type)?(ge=g(F,W.props),ge.ref=so(z,F,W),ge.return=z,ge):(ge=hl(W.type,W.key,W.props,null,z.mode,ge),ge.ref=so(z,F,W),ge.return=z,ge)}function G(z,F,W,ge){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=nd(W,z.mode,ge),F.return=z,F):(F=g(F,W.children||[]),F.return=z,F)}function ce(z,F,W,ge,Pe){return F===null||F.tag!==7?(F=fs(W,z.mode,ge,Pe),F.return=z,F):(F=g(F,W),F.return=z,F)}function de(z,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=rd(""+F,z.mode,W),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return W=hl(F.type,F.key,F.props,null,z.mode,W),W.ref=so(z,null,F),W.return=z,W;case M:return F=nd(F,z.mode,W),F.return=z,F;case J:var ge=F._init;return de(z,ge(F._payload),W)}if(X(F)||ie(F))return F=fs(F,z.mode,W,null),F.return=z,F;za(z,F)}return null}function ae(z,F,W,ge){var Pe=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Pe!==null?null:R(z,F,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return W.key===Pe?$(z,F,W,ge):null;case M:return W.key===Pe?G(z,F,W,ge):null;case J:return Pe=W._init,ae(z,F,Pe(W._payload),ge)}if(X(W)||ie(W))return Pe!==null?null:ce(z,F,W,ge,null);za(z,W)}return null}function Se(z,F,W,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return z=z.get(W)||null,R(F,z,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case I:return z=z.get(ge.key===null?W:ge.key)||null,$(F,z,ge,Pe);case M:return z=z.get(ge.key===null?W:ge.key)||null,G(F,z,ge,Pe);case J:var Me=ge._init;return Se(z,F,W,Me(ge._payload),Pe)}if(X(ge)||ie(ge))return z=z.get(W)||null,ce(F,z,ge,Pe,null);za(F,ge)}return null}function ke(z,F,W,ge){for(var Pe=null,Me=null,Ie=F,$e=F=0,Pt=null;Ie!==null&&$e<W.length;$e++){Ie.index>$e?(Pt=Ie,Ie=null):Pt=Ie.sibling;var Je=ae(z,Ie,W[$e],ge);if(Je===null){Ie===null&&(Ie=Pt);break}n&&Ie&&Je.alternate===null&&i(z,Ie),F=x(Je,F,$e),Me===null?Pe=Je:Me.sibling=Je,Me=Je,Ie=Pt}if($e===W.length)return c(z,Ie),ct&&ss(z,$e),Pe;if(Ie===null){for(;$e<W.length;$e++)Ie=de(z,W[$e],ge),Ie!==null&&(F=x(Ie,F,$e),Me===null?Pe=Ie:Me.sibling=Ie,Me=Ie);return ct&&ss(z,$e),Pe}for(Ie=f(z,Ie);$e<W.length;$e++)Pt=Se(Ie,z,$e,W[$e],ge),Pt!==null&&(n&&Pt.alternate!==null&&Ie.delete(Pt.key===null?$e:Pt.key),F=x(Pt,F,$e),Me===null?Pe=Pt:Me.sibling=Pt,Me=Pt);return n&&Ie.forEach(function(On){return i(z,On)}),ct&&ss(z,$e),Pe}function Ee(z,F,W,ge){var Pe=ie(W);if(typeof Pe!="function")throw Error(r(150));if(W=Pe.call(W),W==null)throw Error(r(151));for(var Me=Pe=null,Ie=F,$e=F=0,Pt=null,Je=W.next();Ie!==null&&!Je.done;$e++,Je=W.next()){Ie.index>$e?(Pt=Ie,Ie=null):Pt=Ie.sibling;var On=ae(z,Ie,Je.value,ge);if(On===null){Ie===null&&(Ie=Pt);break}n&&Ie&&On.alternate===null&&i(z,Ie),F=x(On,F,$e),Me===null?Pe=On:Me.sibling=On,Me=On,Ie=Pt}if(Je.done)return c(z,Ie),ct&&ss(z,$e),Pe;if(Ie===null){for(;!Je.done;$e++,Je=W.next())Je=de(z,Je.value,ge),Je!==null&&(F=x(Je,F,$e),Me===null?Pe=Je:Me.sibling=Je,Me=Je);return ct&&ss(z,$e),Pe}for(Ie=f(z,Ie);!Je.done;$e++,Je=W.next())Je=Se(Ie,z,$e,Je.value,ge),Je!==null&&(n&&Je.alternate!==null&&Ie.delete(Je.key===null?$e:Je.key),F=x(Je,F,$e),Me===null?Pe=Je:Me.sibling=Je,Me=Je);return n&&Ie.forEach(function(hC){return i(z,hC)}),ct&&ss(z,$e),Pe}function yt(z,F,W,ge){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case I:e:{for(var Pe=W.key,Me=F;Me!==null;){if(Me.key===Pe){if(Pe=W.type,Pe===D){if(Me.tag===7){c(z,Me.sibling),F=g(Me,W.props.children),F.return=z,z=F;break e}}else if(Me.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&Wm(Pe)===Me.type){c(z,Me.sibling),F=g(Me,W.props),F.ref=so(z,Me,W),F.return=z,z=F;break e}c(z,Me);break}else i(z,Me);Me=Me.sibling}W.type===D?(F=fs(W.props.children,z.mode,ge,W.key),F.return=z,z=F):(ge=hl(W.type,W.key,W.props,null,z.mode,ge),ge.ref=so(z,F,W),ge.return=z,z=ge)}return S(z);case M:e:{for(Me=W.key;F!==null;){if(F.key===Me)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){c(z,F.sibling),F=g(F,W.children||[]),F.return=z,z=F;break e}else{c(z,F);break}else i(z,F);F=F.sibling}F=nd(W,z.mode,ge),F.return=z,z=F}return S(z);case J:return Me=W._init,yt(z,F,Me(W._payload),ge)}if(X(W))return ke(z,F,W,ge);if(ie(W))return Ee(z,F,W,ge);za(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(c(z,F.sibling),F=g(F,W),F.return=z,z=F):(c(z,F),F=rd(W,z.mode,ge),F.return=z,z=F),S(z)):c(z,F)}return yt}var Js=Hm(!0),Gm=Hm(!1),qa=_n(null),Wa=null,Xs=null,fu=null;function hu(){fu=Xs=Wa=null}function mu(n){var i=qa.current;at(qa),n._currentValue=i}function pu(n,i,c){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===c)break;n=n.return}}function Zs(n,i){Wa=n,fu=Xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Kt=!0),n.firstContext=null)}function dr(n){var i=n._currentValue;if(fu!==n)if(n={context:n,memoizedValue:i,next:null},Xs===null){if(Wa===null)throw Error(r(308));Xs=n,Wa.dependencies={lanes:0,firstContext:n}}else Xs=Xs.next=n;return i}var is=null;function gu(n){is===null?is=[n]:is.push(n)}function Km(n,i,c,f){var g=i.interleaved;return g===null?(c.next=c,gu(i)):(c.next=g.next,g.next=c),i.interleaved=c,en(n,f)}function en(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var Sn=!1;function yu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function tn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Nn(n,i,c){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Qe&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,en(n,c)}return g=f.interleaved,g===null?(i.next=i,gu(f)):(i.next=g.next,g.next=i),f.interleaved=i,en(n,c)}function Ha(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=n.pendingLanes,c|=f,i.lanes=c,Ac(n,c)}}function Ym(n,i){var c=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?g=x=i:x=x.next=i}else g=x=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Ga(n,i,c,f){var g=n.updateQueue;Sn=!1;var x=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var $=R,G=$.next;$.next=null,S===null?x=G:S.next=G,S=$;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==S&&(R===null?ce.firstBaseUpdate=G:R.next=G,ce.lastBaseUpdate=$))}if(x!==null){var de=g.baseState;S=0,ce=G=$=null,R=x;do{var ae=R.lane,Se=R.eventTime;if((f&ae)===ae){ce!==null&&(ce=ce.next={eventTime:Se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ke=n,Ee=R;switch(ae=i,Se=c,Ee.tag){case 1:if(ke=Ee.payload,typeof ke=="function"){de=ke.call(Se,de,ae);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ee.payload,ae=typeof ke=="function"?ke.call(Se,de,ae):ke,ae==null)break e;de=ne({},de,ae);break e;case 2:Sn=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,ae=g.effects,ae===null?g.effects=[R]:ae.push(R))}else Se={eventTime:Se,lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(G=ce=Se,$=de):ce=ce.next=Se,S|=ae;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(ce===null&&($=de),g.baseState=$,g.firstBaseUpdate=G,g.lastBaseUpdate=ce,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else x===null&&(g.shared.lanes=0);ls|=S,n.lanes=S,n.memoizedState=de}}function Jm(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var f=n[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var io={},$r=_n(io),oo=_n(io),ao=_n(io);function os(n){if(n===io)throw Error(r(174));return n}function vu(n,i){switch(nt(ao,i),nt(oo,n),nt($r,io),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:tt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=tt(i,n)}at($r),nt($r,i)}function ei(){at($r),at(oo),at(ao)}function Xm(n){os(ao.current);var i=os($r.current),c=tt(i,n.type);i!==c&&(nt(oo,n),nt($r,c))}function xu(n){oo.current===n&&(at($r),at(oo))}var dt=_n(0);function Ka(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wu=[];function bu(){for(var n=0;n<wu.length;n++)wu[n]._workInProgressVersionPrimary=null;wu.length=0}var Qa=N.ReactCurrentDispatcher,_u=N.ReactCurrentBatchConfig,as=0,ft=null,_t=null,kt=null,Ya=!1,lo=!1,co=0,I_=0;function Dt(){throw Error(r(321))}function Cu(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!_r(n[c],i[c]))return!1;return!0}function ju(n,i,c,f,g,x){if(as=x,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Qa.current=n===null||n.memoizedState===null?F_:U_,n=c(f,g),lo){x=0;do{if(lo=!1,co=0,25<=x)throw Error(r(301));x+=1,kt=_t=null,i.updateQueue=null,Qa.current=B_,n=c(f,g)}while(lo)}if(Qa.current=Za,i=_t!==null&&_t.next!==null,as=0,kt=_t=ft=null,Ya=!1,i)throw Error(r(300));return n}function Su(){var n=co!==0;return co=0,n}function Fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ft.memoizedState=kt=n:kt=kt.next=n,kt}function fr(){if(_t===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=kt===null?ft.memoizedState:kt.next;if(i!==null)kt=i,_t=n;else{if(n===null)throw Error(r(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},kt===null?ft.memoizedState=kt=n:kt=kt.next=n}return kt}function uo(n,i){return typeof i=="function"?i(n):i}function Nu(n){var i=fr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var f=_t,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var S=g.next;g.next=x.next,x.next=S}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var R=S=null,$=null,G=x;do{var ce=G.lane;if((as&ce)===ce)$!==null&&($=$.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:n(f,G.action);else{var de={lane:ce,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};$===null?(R=$=de,S=f):$=$.next=de,ft.lanes|=ce,ls|=ce}G=G.next}while(G!==null&&G!==x);$===null?S=f:$.next=R,_r(f,i.memoizedState)||(Kt=!0),i.memoizedState=f,i.baseState=S,i.baseQueue=$,c.lastRenderedState=f}if(n=c.interleaved,n!==null){g=n;do x=g.lane,ft.lanes|=x,ls|=x,g=g.next;while(g!==n)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function ku(n){var i=fr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var f=c.dispatch,g=c.pending,x=i.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do x=n(x,S.action),S=S.next;while(S!==g);_r(x,i.memoizedState)||(Kt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function Zm(){}function ep(n,i){var c=ft,f=fr(),g=i(),x=!_r(f.memoizedState,g);if(x&&(f.memoizedState=g,Kt=!0),f=f.queue,Eu(np.bind(null,c,f,n),[n]),f.getSnapshot!==i||x||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,fo(9,rp.bind(null,c,f,g,i),void 0,null),Et===null)throw Error(r(349));(as&30)!==0||tp(c,i,g)}return g}function tp(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=ft.updateQueue,i===null?(i={lastEffect:null,stores:null},ft.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function rp(n,i,c,f){i.value=c,i.getSnapshot=f,sp(i)&&ip(n)}function np(n,i,c){return c(function(){sp(i)&&ip(n)})}function sp(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!_r(n,c)}catch{return!0}}function ip(n){var i=en(n,1);i!==null&&kr(i,n,1,-1)}function op(n){var i=Fr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:n},i.queue=n,n=n.dispatch=$_.bind(null,ft,n),[i.memoizedState,n]}function fo(n,i,c,f){return n={tag:n,create:i,destroy:c,deps:f,next:null},i=ft.updateQueue,i===null?(i={lastEffect:null,stores:null},ft.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(f=c.next,c.next=n,n.next=f,i.lastEffect=n)),n}function ap(){return fr().memoizedState}function Ja(n,i,c,f){var g=Fr();ft.flags|=n,g.memoizedState=fo(1|i,c,void 0,f===void 0?null:f)}function Xa(n,i,c,f){var g=fr();f=f===void 0?null:f;var x=void 0;if(_t!==null){var S=_t.memoizedState;if(x=S.destroy,f!==null&&Cu(f,S.deps)){g.memoizedState=fo(i,c,x,f);return}}ft.flags|=n,g.memoizedState=fo(1|i,c,x,f)}function lp(n,i){return Ja(8390656,8,n,i)}function Eu(n,i){return Xa(2048,8,n,i)}function cp(n,i){return Xa(4,2,n,i)}function up(n,i){return Xa(4,4,n,i)}function dp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fp(n,i,c){return c=c!=null?c.concat([n]):null,Xa(4,4,dp.bind(null,i,n),c)}function Pu(){}function hp(n,i){var c=fr();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Cu(i,f[1])?f[0]:(c.memoizedState=[n,i],n)}function mp(n,i){var c=fr();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Cu(i,f[1])?f[0]:(n=n(),c.memoizedState=[n,i],n)}function pp(n,i,c){return(as&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=c):(_r(c,i)||(c=Wh(),ft.lanes|=c,ls|=c,n.baseState=!0),i)}function D_(n,i){var c=Xe;Xe=c!==0&&4>c?c:4,n(!0);var f=_u.transition;_u.transition={};try{n(!1),i()}finally{Xe=c,_u.transition=f}}function gp(){return fr().memoizedState}function L_(n,i,c){var f=Tn(n);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},yp(n))vp(i,c);else if(c=Km(n,i,c,f),c!==null){var g=Vt();kr(c,n,f,g),xp(c,i,f)}}function $_(n,i,c){var f=Tn(n),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(yp(n))vp(i,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,R=x(S,c);if(g.hasEagerState=!0,g.eagerState=R,_r(R,S)){var $=i.interleaved;$===null?(g.next=g,gu(i)):(g.next=$.next,$.next=g),i.interleaved=g;return}}catch{}finally{}c=Km(n,i,g,f),c!==null&&(g=Vt(),kr(c,n,f,g),xp(c,i,f))}}function yp(n){var i=n.alternate;return n===ft||i!==null&&i===ft}function vp(n,i){lo=Ya=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function xp(n,i,c){if((c&4194240)!==0){var f=i.lanes;f&=n.pendingLanes,c|=f,i.lanes=c,Ac(n,c)}}var Za={readContext:dr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},F_={readContext:dr,useCallback:function(n,i){return Fr().memoizedState=[n,i===void 0?null:i],n},useContext:dr,useEffect:lp,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Ja(4194308,4,dp.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Ja(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ja(4,2,n,i)},useMemo:function(n,i){var c=Fr();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var f=Fr();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},f.queue=n,n=n.dispatch=L_.bind(null,ft,n),[f.memoizedState,n]},useRef:function(n){var i=Fr();return n={current:n},i.memoizedState=n},useState:op,useDebugValue:Pu,useDeferredValue:function(n){return Fr().memoizedState=n},useTransition:function(){var n=op(!1),i=n[0];return n=D_.bind(null,n[1]),Fr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var f=ft,g=Fr();if(ct){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),Et===null)throw Error(r(349));(as&30)!==0||tp(f,i,c)}g.memoizedState=c;var x={value:c,getSnapshot:i};return g.queue=x,lp(np.bind(null,f,x,n),[n]),f.flags|=2048,fo(9,rp.bind(null,f,x,c,i),void 0,null),c},useId:function(){var n=Fr(),i=Et.identifierPrefix;if(ct){var c=Zr,f=Xr;c=(f&~(1<<32-br(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=co++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=I_++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},U_={readContext:dr,useCallback:hp,useContext:dr,useEffect:Eu,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:up,useMemo:mp,useReducer:Nu,useRef:ap,useState:function(){return Nu(uo)},useDebugValue:Pu,useDeferredValue:function(n){var i=fr();return pp(i,_t.memoizedState,n)},useTransition:function(){var n=Nu(uo)[0],i=fr().memoizedState;return[n,i]},useMutableSource:Zm,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1},B_={readContext:dr,useCallback:hp,useContext:dr,useEffect:Eu,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:up,useMemo:mp,useReducer:ku,useRef:ap,useState:function(){return ku(uo)},useDebugValue:Pu,useDeferredValue:function(n){var i=fr();return _t===null?i.memoizedState=n:pp(i,_t.memoizedState,n)},useTransition:function(){var n=ku(uo)[0],i=fr().memoizedState;return[n,i]},useMutableSource:Zm,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1};function jr(n,i){if(n&&n.defaultProps){i=ne({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function Tu(n,i,c,f){i=n.memoizedState,c=c(f,i),c=c==null?i:ne({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var el={isMounted:function(n){return(n=n._reactInternals)?Ze(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var f=Vt(),g=Tn(n),x=tn(f,g);x.payload=i,c!=null&&(x.callback=c),i=Nn(n,x,g),i!==null&&(kr(i,n,g,f),Ha(i,n,g))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var f=Vt(),g=Tn(n),x=tn(f,g);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Nn(n,x,g),i!==null&&(kr(i,n,g,f),Ha(i,n,g))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Vt(),f=Tn(n),g=tn(c,f);g.tag=2,i!=null&&(g.callback=i),i=Nn(n,g,f),i!==null&&(kr(i,n,f,c),Ha(i,n,f))}};function wp(n,i,c,f,g,x,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,x,S):i.prototype&&i.prototype.isPureReactComponent?!Ji(c,f)||!Ji(g,x):!0}function bp(n,i,c){var f=!1,g=Cn,x=i.contextType;return typeof x=="object"&&x!==null?x=dr(x):(g=Gt(i)?rs:It.current,f=i.contextTypes,x=(f=f!=null)?Gs(n,g):Cn),i=new i(c,x),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=el,n.stateNode=i,i._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=x),i}function _p(n,i,c,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==n&&el.enqueueReplaceState(i,i.state,null)}function Au(n,i,c,f){var g=n.stateNode;g.props=c,g.state=n.memoizedState,g.refs={},yu(n);var x=i.contextType;typeof x=="object"&&x!==null?g.context=dr(x):(x=Gt(i)?rs:It.current,g.context=Gs(n,x)),g.state=n.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Tu(n,i,x,c),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&el.enqueueReplaceState(g,g.state,null),Ga(n,c,g,f),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function ti(n,i){try{var c="",f=i;do c+=ve(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:i,stack:g,digest:null}}function Ru(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Ou(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Cp(n,i,c){c=tn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){al||(al=!0,Ku=f),Ou(n,i)},c}function jp(n,i,c){c=tn(-1,c),c.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){Ou(n,i)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Ou(n,i),typeof f!="function"&&(En===null?En=new Set([this]):En.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),c}function Sp(n,i,c){var f=n.pingCache;if(f===null){f=n.pingCache=new V_;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),n=rC.bind(null,n,i,c),i.then(n,n))}function Np(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function kp(n,i,c,f,g){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=tn(-1,1),i.tag=2,Nn(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var z_=N.ReactCurrentOwner,Kt=!1;function Bt(n,i,c,f){i.child=n===null?Gm(i,null,c,f):Js(i,n.child,c,f)}function Ep(n,i,c,f,g){c=c.render;var x=i.ref;return Zs(i,g),f=ju(n,i,c,f,x,g),c=Su(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,rn(n,i,g)):(ct&&c&&au(i),i.flags|=1,Bt(n,i,f,g),i.child)}function Pp(n,i,c,f,g){if(n===null){var x=c.type;return typeof x=="function"&&!td(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,Tp(n,i,x,f,g)):(n=hl(c.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,(n.lanes&g)===0){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:Ji,c(S,f)&&n.ref===i.ref)return rn(n,i,g)}return i.flags|=1,n=Rn(x,f),n.ref=i.ref,n.return=i,i.child=n}function Tp(n,i,c,f,g){if(n!==null){var x=n.memoizedProps;if(Ji(x,f)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=f=x,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Kt=!0);else return i.lanes=n.lanes,rn(n,i,g)}return Mu(n,i,c,f,g)}function Ap(n,i,c){var f=i.pendingProps,g=f.children,x=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ni,sr),sr|=c;else{if((c&1073741824)===0)return n=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,nt(ni,sr),sr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,nt(ni,sr),sr|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,nt(ni,sr),sr|=f;return Bt(n,i,g,c),i.child}function Rp(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Mu(n,i,c,f,g){var x=Gt(c)?rs:It.current;return x=Gs(i,x),Zs(i,g),c=ju(n,i,c,f,x,g),f=Su(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,rn(n,i,g)):(ct&&f&&au(i),i.flags|=1,Bt(n,i,c,g),i.child)}function Op(n,i,c,f,g){if(Gt(c)){var x=!0;$a(i)}else x=!1;if(Zs(i,g),i.stateNode===null)rl(n,i),bp(i,c,f),Au(i,c,f,g),f=!0;else if(n===null){var S=i.stateNode,R=i.memoizedProps;S.props=R;var $=S.context,G=c.contextType;typeof G=="object"&&G!==null?G=dr(G):(G=Gt(c)?rs:It.current,G=Gs(i,G));var ce=c.getDerivedStateFromProps,de=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function";de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==f||$!==G)&&_p(i,S,f,G),Sn=!1;var ae=i.memoizedState;S.state=ae,Ga(i,f,S,g),$=i.memoizedState,R!==f||ae!==$||Ht.current||Sn?(typeof ce=="function"&&(Tu(i,c,ce,f),$=i.memoizedState),(R=Sn||wp(i,c,R,f,ae,$,G))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=$),S.props=f,S.state=$,S.context=G,f=R):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{S=i.stateNode,Qm(n,i),R=i.memoizedProps,G=i.type===i.elementType?R:jr(i.type,R),S.props=G,de=i.pendingProps,ae=S.context,$=c.contextType,typeof $=="object"&&$!==null?$=dr($):($=Gt(c)?rs:It.current,$=Gs(i,$));var Se=c.getDerivedStateFromProps;(ce=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==de||ae!==$)&&_p(i,S,f,$),Sn=!1,ae=i.memoizedState,S.state=ae,Ga(i,f,S,g);var ke=i.memoizedState;R!==de||ae!==ke||Ht.current||Sn?(typeof Se=="function"&&(Tu(i,c,Se,f),ke=i.memoizedState),(G=Sn||wp(i,c,G,f,ae,ke,$)||!1)?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ke,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ke,$)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ke),S.props=f,S.state=ke,S.context=$,f=G):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),f=!1)}return Iu(n,i,c,f,x,g)}function Iu(n,i,c,f,g,x){Rp(n,i);var S=(i.flags&128)!==0;if(!f&&!S)return g&&$m(i,c,!1),rn(n,i,x);f=i.stateNode,z_.current=i;var R=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,n!==null&&S?(i.child=Js(i,n.child,null,x),i.child=Js(i,null,R,x)):Bt(n,i,R,x),i.memoizedState=f.state,g&&$m(i,c,!0),i.child}function Mp(n){var i=n.stateNode;i.pendingContext?Dm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Dm(n,i.context,!1),vu(n,i.containerInfo)}function Ip(n,i,c,f,g){return Ys(),du(g),i.flags|=256,Bt(n,i,c,f),i.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Lu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Dp(n,i,c){var f=i.pendingProps,g=dt.current,x=!1,S=(i.flags&128)!==0,R;if((R=S)||(R=n!==null&&n.memoizedState===null?!1:(g&2)!==0),R?(x=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),nt(dt,g&1),n===null)return uu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=f.children,n=f.fallback,x?(f=i.mode,x=i.child,S={mode:"hidden",children:S},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=ml(S,f,0,null),n=fs(n,f,c,null),x.return=i,n.return=i,x.sibling=n,i.child=x,i.child.memoizedState=Lu(c),i.memoizedState=Du,n):$u(i,S));if(g=n.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return q_(n,i,S,f,R,g,c);if(x){x=f.fallback,S=i.mode,g=n.child,R=g.sibling;var $={mode:"hidden",children:f.children};return(S&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=$,i.deletions=null):(f=Rn(g,$),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?x=Rn(R,x):(x=fs(x,S,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,S=n.child.memoizedState,S=S===null?Lu(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=n.childLanes&~c,i.memoizedState=Du,f}return x=n.child,n=x.sibling,f=Rn(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=f,i.memoizedState=null,f}function $u(n,i){return i=ml({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function tl(n,i,c,f){return f!==null&&du(f),Js(i,n.child,null,c),n=$u(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q_(n,i,c,f,g,x,S){if(c)return i.flags&256?(i.flags&=-257,f=Ru(Error(r(422))),tl(n,i,S,f)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(x=f.fallback,g=i.mode,f=ml({mode:"visible",children:f.children},g,0,null),x=fs(x,g,S,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Js(i,n.child,null,S),i.child.memoizedState=Lu(S),i.memoizedState=Du,x);if((i.mode&1)===0)return tl(n,i,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,x=Error(r(419)),f=Ru(x,f,void 0),tl(n,i,S,f)}if(R=(S&n.childLanes)!==0,Kt||R){if(f=Et,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,en(n,g),kr(f,n,g,-1))}return ed(),f=Ru(Error(r(421))),tl(n,i,S,f)}return g.data==="$?"?(i.flags|=128,i.child=n.child,i=nC.bind(null,n),g._reactRetry=i,null):(n=x.treeContext,nr=bn(g.nextSibling),rr=i,ct=!0,Cr=null,n!==null&&(cr[ur++]=Xr,cr[ur++]=Zr,cr[ur++]=ns,Xr=n.id,Zr=n.overflow,ns=i),i=$u(i,f.children),i.flags|=4096,i)}function Lp(n,i,c){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),pu(n.return,i,c)}function Fu(n,i,c,f,g){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function $p(n,i,c){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(Bt(n,i,f.children,c),f=dt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lp(n,c,i);else if(n.tag===19)Lp(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(nt(dt,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)n=c.alternate,n!==null&&Ka(n)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),Fu(i,!1,g,c,x);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Ka(n)===null){i.child=g;break}n=g.sibling,g.sibling=c,c=g,g=n}Fu(i,!0,c,null,x);break;case"together":Fu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function rn(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),ls|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Rn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Rn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function W_(n,i,c){switch(i.tag){case 3:Mp(i),Ys();break;case 5:Xm(i);break;case 1:Gt(i.type)&&$a(i);break;case 4:vu(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;nt(qa,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(nt(dt,dt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Dp(n,i,c):(nt(dt,dt.current&1),n=rn(n,i,c),n!==null?n.sibling:null);nt(dt,dt.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(n.flags&128)!==0){if(f)return $p(n,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(dt,dt.current),f)break;return null;case 22:case 23:return i.lanes=0,Ap(n,i,c)}return rn(n,i,c)}var Fp,Uu,Up,Bp;Fp=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Uu=function(){},Up=function(n,i,c,f){var g=n.memoizedProps;if(g!==f){n=i.stateNode,os($r.current);var x=null;switch(c){case"input":g=A(n,g),f=A(n,f),x=[];break;case"select":g=ne({},g,{value:void 0}),f=ne({},f,{value:void 0}),x=[];break;case"textarea":g=Ve(n,g),f=Ve(n,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Ia)}Li(c,f);var S;c=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var R=g[G];for(S in R)R.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?x||(x=[]):(x=x||[]).push(G,null));for(G in f){var $=f[G];if(R=g?.[G],f.hasOwnProperty(G)&&$!==R&&($!=null||R!=null))if(G==="style")if(R){for(S in R)!R.hasOwnProperty(S)||$&&$.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in $)$.hasOwnProperty(S)&&R[S]!==$[S]&&(c||(c={}),c[S]=$[S])}else c||(x||(x=[]),x.push(G,c)),c=$;else G==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,R=R?R.__html:void 0,$!=null&&R!==$&&(x=x||[]).push(G,$)):G==="children"?typeof $!="string"&&typeof $!="number"||(x=x||[]).push(G,""+$):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?($!=null&&G==="onScroll"&&ot("scroll",n),x||R===$||(x=[])):(x=x||[]).push(G,$))}c&&(x=x||[]).push("style",c);var G=x;(i.updateQueue=G)&&(i.flags|=4)}},Bp=function(n,i,c,f){c!==f&&(i.flags|=4)};function ho(n,i){if(!ct)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,f=0;if(i)for(var g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=c,i}function H_(n,i,c){var f=i.pendingProps;switch(lu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Gt(i.type)&&La(),Lt(i),null;case 3:return f=i.stateNode,ei(),at(Ht),at(It),bu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(Va(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cr!==null&&(Ju(Cr),Cr=null))),Uu(n,i),Lt(i),null;case 5:xu(i);var g=os(ao.current);if(c=i.type,n!==null&&i.stateNode!=null)Up(n,i,c,f,g),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(r(166));return Lt(i),null}if(n=os($r.current),Va(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[Lr]=i,f[ro]=x,n=(i.mode&1)!==0,c){case"dialog":ot("cancel",f),ot("close",f);break;case"iframe":case"object":case"embed":ot("load",f);break;case"video":case"audio":for(g=0;g<Zi.length;g++)ot(Zi[g],f);break;case"source":ot("error",f);break;case"img":case"image":case"link":ot("error",f),ot("load",f);break;case"details":ot("toggle",f);break;case"input":he(f,x),ot("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},ot("invalid",f);break;case"textarea":Ye(f,x),ot("invalid",f)}Li(c,x),g=null;for(var S in x)if(x.hasOwnProperty(S)){var R=x[S];S==="children"?typeof R=="string"?f.textContent!==R&&(x.suppressHydrationWarning!==!0&&Ma(f.textContent,R,n),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(x.suppressHydrationWarning!==!0&&Ma(f.textContent,R,n),g=["children",""+R]):o.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&ot("scroll",f)}switch(c){case"input":K(f),Oe(f,x,!0);break;case"textarea":K(f),ut(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Ia)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Mt(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=S.createElement(c,{is:f.is}):(n=S.createElement(c),c==="select"&&(S=n,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):n=S.createElementNS(n,c),n[Lr]=i,n[ro]=f,Fp(n,i,!1,!1),i.stateNode=n;e:{switch(S=$i(c,f),c){case"dialog":ot("cancel",n),ot("close",n),g=f;break;case"iframe":case"object":case"embed":ot("load",n),g=f;break;case"video":case"audio":for(g=0;g<Zi.length;g++)ot(Zi[g],n);g=f;break;case"source":ot("error",n),g=f;break;case"img":case"image":case"link":ot("error",n),ot("load",n),g=f;break;case"details":ot("toggle",n),g=f;break;case"input":he(n,f),g=A(n,f),ot("invalid",n);break;case"option":g=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},g=ne({},f,{value:void 0}),ot("invalid",n);break;case"textarea":Ye(n,f),g=Ve(n,f),ot("invalid",n);break;default:g=f}Li(c,g),R=g;for(x in R)if(R.hasOwnProperty(x)){var $=R[x];x==="style"?ca(n,$):x==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ut(n,$)):x==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Ir(n,$):typeof $=="number"&&Ir(n,""+$):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?$!=null&&x==="onScroll"&&ot("scroll",n):$!=null&&P(n,x,$,S))}switch(c){case"input":K(n),Oe(n,f,!1);break;case"textarea":K(n),ut(n);break;case"option":f.value!=null&&n.setAttribute("value",""+xe(f.value));break;case"select":n.multiple=!!f.multiple,x=f.value,x!=null?be(n,!!f.multiple,x,!1):f.defaultValue!=null&&be(n,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Ia)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)Bp(n,i,n.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(r(166));if(c=os(ao.current),os($r.current),Va(i)){if(f=i.stateNode,c=i.memoizedProps,f[Lr]=i,(x=f.nodeValue!==c)&&(n=rr,n!==null))switch(n.tag){case 3:Ma(f.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ma(f.nodeValue,c,(n.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Lr]=i,i.stateNode=f}return Lt(i),null;case 13:if(at(dt),f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ct&&nr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)qm(),Ys(),i.flags|=98560,x=!1;else if(x=Va(i),f!==null&&f.dehydrated!==null){if(n===null){if(!x)throw Error(r(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Lr]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),x=!1}else Cr!==null&&(Ju(Cr),Cr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(dt.current&1)!==0?Ct===0&&(Ct=3):ed())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return ei(),Uu(n,i),n===null&&eo(i.stateNode.containerInfo),Lt(i),null;case 10:return mu(i.type._context),Lt(i),null;case 17:return Gt(i.type)&&La(),Lt(i),null;case 19:if(at(dt),x=i.memoizedState,x===null)return Lt(i),null;if(f=(i.flags&128)!==0,S=x.rendering,S===null)if(f)ho(x,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(S=Ka(n),S!==null){for(i.flags|=128,ho(x,!1),f=S.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,n=f,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,n=S.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return nt(dt,dt.current&1|2),i.child}n=n.sibling}x.tail!==null&&gt()>si&&(i.flags|=128,f=!0,ho(x,!1),i.lanes=4194304)}else{if(!f)if(n=Ka(S),n!==null){if(i.flags|=128,f=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ho(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!ct)return Lt(i),null}else 2*gt()-x.renderingStartTime>si&&c!==1073741824&&(i.flags|=128,f=!0,ho(x,!1),i.lanes=4194304);x.isBackwards?(S.sibling=i.child,i.child=S):(c=x.last,c!==null?c.sibling=S:i.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=gt(),i.sibling=null,c=dt.current,nt(dt,f?c&1|2:c&1),i):(Lt(i),null);case 22:case 23:return Zu(),f=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(sr&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function G_(n,i){switch(lu(i),i.tag){case 1:return Gt(i.type)&&La(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ei(),at(Ht),at(It),bu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return xu(i),null;case 13:if(at(dt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ys()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return at(dt),null;case 4:return ei(),null;case 10:return mu(i.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var nl=!1,$t=!1,K_=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ri(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){pt(n,i,f)}else c.current=null}function Bu(n,i,c){try{c()}catch(f){pt(n,i,f)}}var Vp=!1;function Q_(n,i){if(Zc=Ca,n=wm(),Wc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,R=-1,$=-1,G=0,ce=0,de=n,ae=null;t:for(;;){for(var Se;de!==c||g!==0&&de.nodeType!==3||(R=S+g),de!==x||f!==0&&de.nodeType!==3||($=S+f),de.nodeType===3&&(S+=de.nodeValue.length),(Se=de.firstChild)!==null;)ae=de,de=Se;for(;;){if(de===n)break t;if(ae===c&&++G===g&&(R=S),ae===x&&++ce===f&&($=S),(Se=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=Se}c=R===-1||$===-1?null:{start:R,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(eu={focusedElem:n,selectionRange:c},Ca=!1,Ne=i;Ne!==null;)if(i=Ne,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ne=n;else for(;Ne!==null;){i=Ne;try{var ke=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ee=ke.memoizedProps,yt=ke.memoizedState,z=i.stateNode,F=z.getSnapshotBeforeUpdate(i.elementType===i.type?Ee:jr(i.type,Ee),yt);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){pt(i,i.return,ge)}if(n=i.sibling,n!==null){n.return=i.return,Ne=n;break}Ne=i.return}return ke=Vp,Vp=!1,ke}function mo(n,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&n)===n){var x=g.destroy;g.destroy=void 0,x!==void 0&&Bu(i,c,x)}g=g.next}while(g!==f)}}function sl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Vu(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function zp(n){var i=n.alternate;i!==null&&(n.alternate=null,zp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Lr],delete i[ro],delete i[su],delete i[A_],delete i[R_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function qp(n){return n.tag===5||n.tag===3||n.tag===4}function Wp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zu(n,i,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ia));else if(f!==4&&(n=n.child,n!==null))for(zu(n,i,c),n=n.sibling;n!==null;)zu(n,i,c),n=n.sibling}function qu(n,i,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(qu(n,i,c),n=n.sibling;n!==null;)qu(n,i,c),n=n.sibling}var At=null,Sr=!1;function kn(n,i,c){for(c=c.child;c!==null;)Hp(n,i,c),c=c.sibling}function Hp(n,i,c){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(ya,c)}catch{}switch(c.tag){case 5:$t||ri(c,i);case 6:var f=At,g=Sr;At=null,kn(n,i,c),At=f,Sr=g,At!==null&&(Sr?(n=At,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):At.removeChild(c.stateNode));break;case 18:At!==null&&(Sr?(n=At,c=c.stateNode,n.nodeType===8?nu(n.parentNode,c):n.nodeType===1&&nu(n,c),Wi(n)):nu(At,c.stateNode));break;case 4:f=At,g=Sr,At=c.stateNode.containerInfo,Sr=!0,kn(n,i,c),At=f,Sr=g;break;case 0:case 11:case 14:case 15:if(!$t&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&Bu(c,i,S),g=g.next}while(g!==f)}kn(n,i,c);break;case 1:if(!$t&&(ri(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(R){pt(c,i,R)}kn(n,i,c);break;case 21:kn(n,i,c);break;case 22:c.mode&1?($t=(f=$t)||c.memoizedState!==null,kn(n,i,c),$t=f):kn(n,i,c);break;default:kn(n,i,c)}}function Gp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new K_),i.forEach(function(f){var g=sC.bind(null,n,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Nr(n,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=n,S=i,R=S;e:for(;R!==null;){switch(R.tag){case 5:At=R.stateNode,Sr=!1;break e;case 3:At=R.stateNode.containerInfo,Sr=!0;break e;case 4:At=R.stateNode.containerInfo,Sr=!0;break e}R=R.return}if(At===null)throw Error(r(160));Hp(x,S,g),At=null,Sr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(G){pt(g,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Kp(i,n),i=i.sibling}function Kp(n,i){var c=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nr(i,n),Ur(n),f&4){try{mo(3,n,n.return),sl(3,n)}catch(Ee){pt(n,n.return,Ee)}try{mo(5,n,n.return)}catch(Ee){pt(n,n.return,Ee)}}break;case 1:Nr(i,n),Ur(n),f&512&&c!==null&&ri(c,c.return);break;case 5:if(Nr(i,n),Ur(n),f&512&&c!==null&&ri(c,c.return),n.flags&32){var g=n.stateNode;try{Ir(g,"")}catch(Ee){pt(n,n.return,Ee)}}if(f&4&&(g=n.stateNode,g!=null)){var x=n.memoizedProps,S=c!==null?c.memoizedProps:x,R=n.type,$=n.updateQueue;if(n.updateQueue=null,$!==null)try{R==="input"&&x.type==="radio"&&x.name!=null&&Z(g,x),$i(R,S);var G=$i(R,x);for(S=0;S<$.length;S+=2){var ce=$[S],de=$[S+1];ce==="style"?ca(g,de):ce==="dangerouslySetInnerHTML"?Ut(g,de):ce==="children"?Ir(g,de):P(g,ce,de,G)}switch(R){case"input":Re(g,x);break;case"textarea":Nt(g,x);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var Se=x.value;Se!=null?be(g,!!x.multiple,Se,!1):ae!==!!x.multiple&&(x.defaultValue!=null?be(g,!!x.multiple,x.defaultValue,!0):be(g,!!x.multiple,x.multiple?[]:"",!1))}g[ro]=x}catch(Ee){pt(n,n.return,Ee)}}break;case 6:if(Nr(i,n),Ur(n),f&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,x=n.memoizedProps;try{g.nodeValue=x}catch(Ee){pt(n,n.return,Ee)}}break;case 3:if(Nr(i,n),Ur(n),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(Ee){pt(n,n.return,Ee)}break;case 4:Nr(i,n),Ur(n);break;case 13:Nr(i,n),Ur(n),g=n.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Gu=gt())),f&4&&Gp(n);break;case 22:if(ce=c!==null&&c.memoizedState!==null,n.mode&1?($t=(G=$t)||ce,Nr(i,n),$t=G):Nr(i,n),Ur(n),f&8192){if(G=n.memoizedState!==null,(n.stateNode.isHidden=G)&&!ce&&(n.mode&1)!==0)for(Ne=n,ce=n.child;ce!==null;){for(de=Ne=ce;Ne!==null;){switch(ae=Ne,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:mo(4,ae,ae.return);break;case 1:ri(ae,ae.return);var ke=ae.stateNode;if(typeof ke.componentWillUnmount=="function"){f=ae,c=ae.return;try{i=f,ke.props=i.memoizedProps,ke.state=i.memoizedState,ke.componentWillUnmount()}catch(Ee){pt(f,c,Ee)}}break;case 5:ri(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Jp(de);continue}}Se!==null?(Se.return=ae,Ne=Se):Jp(de)}ce=ce.sibling}e:for(ce=null,de=n;;){if(de.tag===5){if(ce===null){ce=de;try{g=de.stateNode,G?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(R=de.stateNode,$=de.memoizedProps.style,S=$!=null&&$.hasOwnProperty("display")?$.display:null,R.style.display=la("display",S))}catch(Ee){pt(n,n.return,Ee)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=G?"":de.memoizedProps}catch(Ee){pt(n,n.return,Ee)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===n)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===n)break e;for(;de.sibling===null;){if(de.return===null||de.return===n)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Nr(i,n),Ur(n),f&4&&Gp(n);break;case 21:break;default:Nr(i,n),Ur(n)}}function Ur(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(qp(c)){var f=c;break e}c=c.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Ir(g,""),f.flags&=-33);var x=Wp(n);qu(n,x,g);break;case 3:case 4:var S=f.stateNode.containerInfo,R=Wp(n);zu(n,R,S);break;default:throw Error(r(161))}}catch($){pt(n,n.return,$)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Y_(n,i,c){Ne=n,Qp(n)}function Qp(n,i,c){for(var f=(n.mode&1)!==0;Ne!==null;){var g=Ne,x=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||nl;if(!S){var R=g.alternate,$=R!==null&&R.memoizedState!==null||$t;R=nl;var G=$t;if(nl=S,($t=$)&&!G)for(Ne=g;Ne!==null;)S=Ne,$=S.child,S.tag===22&&S.memoizedState!==null?Xp(g):$!==null?($.return=S,Ne=$):Xp(g);for(;x!==null;)Ne=x,Qp(x),x=x.sibling;Ne=g,nl=R,$t=G}Yp(n)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,Ne=x):Yp(n)}}function Yp(n){for(;Ne!==null;){var i=Ne;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:$t||sl(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!$t)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:jr(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Jm(i,x,f);break;case 3:var S=i.updateQueue;if(S!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Jm(i,S,c)}break;case 5:var R=i.stateNode;if(c===null&&i.flags&4){c=R;var $=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var ce=G.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Wi(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$t||i.flags&512&&Vu(i)}catch(ae){pt(i,i.return,ae)}}if(i===n){Ne=null;break}if(c=i.sibling,c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function Jp(n){for(;Ne!==null;){var i=Ne;if(i===n){Ne=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Ne=c;break}Ne=i.return}}function Xp(n){for(;Ne!==null;){var i=Ne;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{sl(4,i)}catch($){pt(i,c,$)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch($){pt(i,g,$)}}var x=i.return;try{Vu(i)}catch($){pt(i,x,$)}break;case 5:var S=i.return;try{Vu(i)}catch($){pt(i,S,$)}}}catch($){pt(i,i.return,$)}if(i===n){Ne=null;break}var R=i.sibling;if(R!==null){R.return=i.return,Ne=R;break}Ne=i.return}}var J_=Math.ceil,il=N.ReactCurrentDispatcher,Wu=N.ReactCurrentOwner,hr=N.ReactCurrentBatchConfig,Qe=0,Et=null,xt=null,Rt=0,sr=0,ni=_n(0),Ct=0,po=null,ls=0,ol=0,Hu=0,go=null,Qt=null,Gu=0,si=1/0,nn=null,al=!1,Ku=null,En=null,ll=!1,Pn=null,cl=0,yo=0,Qu=null,ul=-1,dl=0;function Vt(){return(Qe&6)!==0?gt():ul!==-1?ul:ul=gt()}function Tn(n){return(n.mode&1)===0?1:(Qe&2)!==0&&Rt!==0?Rt&-Rt:M_.transition!==null?(dl===0&&(dl=Wh()),dl):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:em(n.type)),n)}function kr(n,i,c,f){if(50<yo)throw yo=0,Qu=null,Error(r(185));Ui(n,c,f),((Qe&2)===0||n!==Et)&&(n===Et&&((Qe&2)===0&&(ol|=c),Ct===4&&An(n,Rt)),Yt(n,f),c===1&&Qe===0&&(i.mode&1)===0&&(si=gt()+500,Fa&&jn()))}function Yt(n,i){var c=n.callbackNode;Mb(n,i);var f=wa(n,n===Et?Rt:0);if(f===0)c!==null&&Vh(c),n.callbackNode=null,n.callbackPriority=0;else if(i=f&-f,n.callbackPriority!==i){if(c!=null&&Vh(c),i===1)n.tag===0?O_(eg.bind(null,n)):Fm(eg.bind(null,n)),P_(function(){(Qe&6)===0&&jn()}),c=null;else{switch(Hh(f)){case 1:c=Ec;break;case 4:c=zh;break;case 16:c=ga;break;case 536870912:c=qh;break;default:c=ga}c=lg(c,Zp.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function Zp(n,i){if(ul=-1,dl=0,(Qe&6)!==0)throw Error(r(327));var c=n.callbackNode;if(ii()&&n.callbackNode!==c)return null;var f=wa(n,n===Et?Rt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||i)i=fl(n,f);else{i=f;var g=Qe;Qe|=2;var x=rg();(Et!==n||Rt!==i)&&(nn=null,si=gt()+500,us(n,i));do try{eC();break}catch(R){tg(n,R)}while(!0);hu(),il.current=x,Qe=g,xt!==null?i=0:(Et=null,Rt=0,i=Ct)}if(i!==0){if(i===2&&(g=Pc(n),g!==0&&(f=g,i=Yu(n,g))),i===1)throw c=po,us(n,0),An(n,f),Yt(n,gt()),c;if(i===6)An(n,f);else{if(g=n.current.alternate,(f&30)===0&&!X_(g)&&(i=fl(n,f),i===2&&(x=Pc(n),x!==0&&(f=x,i=Yu(n,x))),i===1))throw c=po,us(n,0),An(n,f),Yt(n,gt()),c;switch(n.finishedWork=g,n.finishedLanes=f,i){case 0:case 1:throw Error(r(345));case 2:ds(n,Qt,nn);break;case 3:if(An(n,f),(f&130023424)===f&&(i=Gu+500-gt(),10<i)){if(wa(n,0)!==0)break;if(g=n.suspendedLanes,(g&f)!==f){Vt(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=ru(ds.bind(null,n,Qt,nn),i);break}ds(n,Qt,nn);break;case 4:if(An(n,f),(f&4194240)===f)break;for(i=n.eventTimes,g=-1;0<f;){var S=31-br(f);x=1<<S,S=i[S],S>g&&(g=S),f&=~x}if(f=g,f=gt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*J_(f/1960))-f,10<f){n.timeoutHandle=ru(ds.bind(null,n,Qt,nn),f);break}ds(n,Qt,nn);break;case 5:ds(n,Qt,nn);break;default:throw Error(r(329))}}}return Yt(n,gt()),n.callbackNode===c?Zp.bind(null,n):null}function Yu(n,i){var c=go;return n.current.memoizedState.isDehydrated&&(us(n,i).flags|=256),n=fl(n,i),n!==2&&(i=Qt,Qt=c,i!==null&&Ju(i)),n}function Ju(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function X_(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!_r(x(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function An(n,i){for(i&=~Hu,i&=~ol,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-br(i),f=1<<c;n[c]=-1,i&=~f}}function eg(n){if((Qe&6)!==0)throw Error(r(327));ii();var i=wa(n,0);if((i&1)===0)return Yt(n,gt()),null;var c=fl(n,i);if(n.tag!==0&&c===2){var f=Pc(n);f!==0&&(i=f,c=Yu(n,f))}if(c===1)throw c=po,us(n,0),An(n,i),Yt(n,gt()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ds(n,Qt,nn),Yt(n,gt()),null}function Xu(n,i){var c=Qe;Qe|=1;try{return n(i)}finally{Qe=c,Qe===0&&(si=gt()+500,Fa&&jn())}}function cs(n){Pn!==null&&Pn.tag===0&&(Qe&6)===0&&ii();var i=Qe;Qe|=1;var c=hr.transition,f=Xe;try{if(hr.transition=null,Xe=1,n)return n()}finally{Xe=f,hr.transition=c,Qe=i,(Qe&6)===0&&jn()}}function Zu(){sr=ni.current,at(ni)}function us(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,E_(c)),xt!==null)for(c=xt.return;c!==null;){var f=c;switch(lu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&La();break;case 3:ei(),at(Ht),at(It),bu();break;case 5:xu(f);break;case 4:ei();break;case 13:at(dt);break;case 19:at(dt);break;case 10:mu(f.type._context);break;case 22:case 23:Zu()}c=c.return}if(Et=n,xt=n=Rn(n.current,null),Rt=sr=i,Ct=0,po=null,Hu=ol=ls=0,Qt=go=null,is!==null){for(i=0;i<is.length;i++)if(c=is[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var S=x.next;x.next=g,f.next=S}c.pending=f}is=null}return n}function tg(n,i){do{var c=xt;try{if(hu(),Qa.current=Za,Ya){for(var f=ft.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ya=!1}if(as=0,kt=_t=ft=null,lo=!1,co=0,Wu.current=null,c===null||c.return===null){Ct=1,po=i,xt=null;break}e:{var x=n,S=c.return,R=c,$=i;if(i=Rt,R.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var G=$,ce=R,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Se=Np(S);if(Se!==null){Se.flags&=-257,kp(Se,S,R,x,i),Se.mode&1&&Sp(x,G,i),i=Se,$=G;var ke=i.updateQueue;if(ke===null){var Ee=new Set;Ee.add($),i.updateQueue=Ee}else ke.add($);break e}else{if((i&1)===0){Sp(x,G,i),ed();break e}$=Error(r(426))}}else if(ct&&R.mode&1){var yt=Np(S);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),kp(yt,S,R,x,i),du(ti($,R));break e}}x=$=ti($,R),Ct!==4&&(Ct=2),go===null?go=[x]:go.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var z=Cp(x,$,i);Ym(x,z);break e;case 1:R=$;var F=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(En===null||!En.has(W)))){x.flags|=65536,i&=-i,x.lanes|=i;var ge=jp(x,R,i);Ym(x,ge);break e}}x=x.return}while(x!==null)}sg(c)}catch(Pe){i=Pe,xt===c&&c!==null&&(xt=c=c.return);continue}break}while(!0)}function rg(){var n=il.current;return il.current=Za,n===null?Za:n}function ed(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Et===null||(ls&268435455)===0&&(ol&268435455)===0||An(Et,Rt)}function fl(n,i){var c=Qe;Qe|=2;var f=rg();(Et!==n||Rt!==i)&&(nn=null,us(n,i));do try{Z_();break}catch(g){tg(n,g)}while(!0);if(hu(),Qe=c,il.current=f,xt!==null)throw Error(r(261));return Et=null,Rt=0,Ct}function Z_(){for(;xt!==null;)ng(xt)}function eC(){for(;xt!==null&&!Sb();)ng(xt)}function ng(n){var i=ag(n.alternate,n,sr);n.memoizedProps=n.pendingProps,i===null?sg(n):xt=i,Wu.current=null}function sg(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=H_(c,i,sr),c!==null){xt=c;return}}else{if(c=G_(c,i),c!==null){c.flags&=32767,xt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,xt=null;return}}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);Ct===0&&(Ct=5)}function ds(n,i,c){var f=Xe,g=hr.transition;try{hr.transition=null,Xe=1,tC(n,i,c,f)}finally{hr.transition=g,Xe=f}return null}function tC(n,i,c,f){do ii();while(Pn!==null);if((Qe&6)!==0)throw Error(r(327));c=n.finishedWork;var g=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var x=c.lanes|c.childLanes;if(Ib(n,x),n===Et&&(xt=Et=null,Rt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ll||(ll=!0,lg(ga,function(){return ii(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=hr.transition,hr.transition=null;var S=Xe;Xe=1;var R=Qe;Qe|=4,Wu.current=null,Q_(n,c),Kp(c,n),b_(eu),Ca=!!Zc,eu=Zc=null,n.current=c,Y_(c),Nb(),Qe=R,Xe=S,hr.transition=x}else n.current=c;if(ll&&(ll=!1,Pn=n,cl=g),x=n.pendingLanes,x===0&&(En=null),Pb(c.stateNode),Yt(n,gt()),i!==null)for(f=n.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(al)throw al=!1,n=Ku,Ku=null,n;return(cl&1)!==0&&n.tag!==0&&ii(),x=n.pendingLanes,(x&1)!==0?n===Qu?yo++:(yo=0,Qu=n):yo=0,jn(),null}function ii(){if(Pn!==null){var n=Hh(cl),i=hr.transition,c=Xe;try{if(hr.transition=null,Xe=16>n?16:n,Pn===null)var f=!1;else{if(n=Pn,Pn=null,cl=0,(Qe&6)!==0)throw Error(r(331));var g=Qe;for(Qe|=4,Ne=n.current;Ne!==null;){var x=Ne,S=x.child;if((Ne.flags&16)!==0){var R=x.deletions;if(R!==null){for(var $=0;$<R.length;$++){var G=R[$];for(Ne=G;Ne!==null;){var ce=Ne;switch(ce.tag){case 0:case 11:case 15:mo(8,ce,x)}var de=ce.child;if(de!==null)de.return=ce,Ne=de;else for(;Ne!==null;){ce=Ne;var ae=ce.sibling,Se=ce.return;if(zp(ce),ce===G){Ne=null;break}if(ae!==null){ae.return=Se,Ne=ae;break}Ne=Se}}}var ke=x.alternate;if(ke!==null){var Ee=ke.child;if(Ee!==null){ke.child=null;do{var yt=Ee.sibling;Ee.sibling=null,Ee=yt}while(Ee!==null)}}Ne=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,Ne=S;else e:for(;Ne!==null;){if(x=Ne,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:mo(9,x,x.return)}var z=x.sibling;if(z!==null){z.return=x.return,Ne=z;break e}Ne=x.return}}var F=n.current;for(Ne=F;Ne!==null;){S=Ne;var W=S.child;if((S.subtreeFlags&2064)!==0&&W!==null)W.return=S,Ne=W;else e:for(S=F;Ne!==null;){if(R=Ne,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:sl(9,R)}}catch(Pe){pt(R,R.return,Pe)}if(R===S){Ne=null;break e}var ge=R.sibling;if(ge!==null){ge.return=R.return,Ne=ge;break e}Ne=R.return}}if(Qe=g,jn(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(ya,n)}catch{}f=!0}return f}finally{Xe=c,hr.transition=i}}return!1}function ig(n,i,c){i=ti(c,i),i=Cp(n,i,1),n=Nn(n,i,1),i=Vt(),n!==null&&(Ui(n,1,i),Yt(n,i))}function pt(n,i,c){if(n.tag===3)ig(n,n,c);else for(;i!==null;){if(i.tag===3){ig(i,n,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(En===null||!En.has(f))){n=ti(c,n),n=jp(i,n,1),i=Nn(i,n,1),n=Vt(),i!==null&&(Ui(i,1,n),Yt(i,n));break}}i=i.return}}function rC(n,i,c){var f=n.pingCache;f!==null&&f.delete(i),i=Vt(),n.pingedLanes|=n.suspendedLanes&c,Et===n&&(Rt&c)===c&&(Ct===4||Ct===3&&(Rt&130023424)===Rt&&500>gt()-Gu?us(n,0):Hu|=c),Yt(n,i)}function og(n,i){i===0&&((n.mode&1)===0?i=1:(i=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var c=Vt();n=en(n,i),n!==null&&(Ui(n,i,c),Yt(n,c))}function nC(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),og(n,c)}function sC(n,i){var c=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(i),og(n,c)}var ag;ag=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)Kt=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return Kt=!1,W_(n,i,c);Kt=(n.flags&131072)!==0}else Kt=!1,ct&&(i.flags&1048576)!==0&&Um(i,Ba,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;rl(n,i),n=i.pendingProps;var g=Gs(i,It.current);Zs(i,c),g=ju(null,i,f,n,g,c);var x=Su();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(f)?(x=!0,$a(i)):x=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,yu(i),g.updater=el,i.stateNode=g,g._reactInternals=i,Au(i,f,n,c),i=Iu(null,i,f,!0,x,c)):(i.tag=0,ct&&x&&au(i),Bt(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(rl(n,i),n=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=oC(f),n=jr(f,n),g){case 0:i=Mu(null,i,f,n,c);break e;case 1:i=Op(null,i,f,n,c);break e;case 11:i=Ep(null,i,f,n,c);break e;case 14:i=Pp(null,i,f,jr(f.type,n),c);break e}throw Error(r(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:jr(f,g),Mu(n,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:jr(f,g),Op(n,i,f,g,c);case 3:e:{if(Mp(i),n===null)throw Error(r(387));f=i.pendingProps,x=i.memoizedState,g=x.element,Qm(n,i),Ga(i,f,null,c);var S=i.memoizedState;if(f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){g=ti(Error(r(423)),i),i=Ip(n,i,f,c,g);break e}else if(f!==g){g=ti(Error(r(424)),i),i=Ip(n,i,f,c,g);break e}else for(nr=bn(i.stateNode.containerInfo.firstChild),rr=i,ct=!0,Cr=null,c=Gm(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ys(),f===g){i=rn(n,i,c);break e}Bt(n,i,f,c)}i=i.child}return i;case 5:return Xm(i),n===null&&uu(i),f=i.type,g=i.pendingProps,x=n!==null?n.memoizedProps:null,S=g.children,tu(f,g)?S=null:x!==null&&tu(f,x)&&(i.flags|=32),Rp(n,i),Bt(n,i,S,c),i.child;case 6:return n===null&&uu(i),null;case 13:return Dp(n,i,c);case 4:return vu(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=Js(i,null,f,c):Bt(n,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:jr(f,g),Ep(n,i,f,g,c);case 7:return Bt(n,i,i.pendingProps,c),i.child;case 8:return Bt(n,i,i.pendingProps.children,c),i.child;case 12:return Bt(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,x=i.memoizedProps,S=g.value,nt(qa,f._currentValue),f._currentValue=S,x!==null)if(_r(x.value,S)){if(x.children===g.children&&!Ht.current){i=rn(n,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var R=x.dependencies;if(R!==null){S=x.child;for(var $=R.firstContext;$!==null;){if($.context===f){if(x.tag===1){$=tn(-1,c&-c),$.tag=2;var G=x.updateQueue;if(G!==null){G=G.shared;var ce=G.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),G.pending=$}}x.lanes|=c,$=x.alternate,$!==null&&($.lanes|=c),pu(x.return,c,i),R.lanes|=c;break}$=$.next}}else if(x.tag===10)S=x.type===i.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(r(341));S.lanes|=c,R=S.alternate,R!==null&&(R.lanes|=c),pu(S,c,i),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===i){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}Bt(n,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Zs(i,c),g=dr(g),f=f(g),i.flags|=1,Bt(n,i,f,c),i.child;case 14:return f=i.type,g=jr(f,i.pendingProps),g=jr(f.type,g),Pp(n,i,f,g,c);case 15:return Tp(n,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:jr(f,g),rl(n,i),i.tag=1,Gt(f)?(n=!0,$a(i)):n=!1,Zs(i,c),bp(i,f,g),Au(i,f,g,c),Iu(null,i,f,!0,n,c);case 19:return $p(n,i,c);case 22:return Ap(n,i,c)}throw Error(r(156,i.tag))};function lg(n,i){return Bh(n,i)}function iC(n,i,c,f){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(n,i,c,f){return new iC(n,i,c,f)}function td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oC(n){if(typeof n=="function")return td(n)?1:0;if(n!=null){if(n=n.$$typeof,n===se)return 11;if(n===we)return 14}return 2}function Rn(n,i){var c=n.alternate;return c===null?(c=mr(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function hl(n,i,c,f,g,x){var S=2;if(f=n,typeof n=="function")td(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case D:return fs(c.children,g,x,i);case H:S=8,g|=8;break;case te:return n=mr(12,c,i,g|2),n.elementType=te,n.lanes=x,n;case re:return n=mr(13,c,i,g),n.elementType=re,n.lanes=x,n;case B:return n=mr(19,c,i,g),n.elementType=B,n.lanes=x,n;case fe:return ml(c,g,x,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:S=10;break e;case me:S=9;break e;case se:S=11;break e;case we:S=14;break e;case J:S=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=mr(S,c,i,g),i.elementType=n,i.type=f,i.lanes=x,i}function fs(n,i,c,f){return n=mr(7,n,f,i),n.lanes=c,n}function ml(n,i,c,f){return n=mr(22,n,f,i),n.elementType=fe,n.lanes=c,n.stateNode={isHidden:!1},n}function rd(n,i,c){return n=mr(6,n,null,i),n.lanes=c,n}function nd(n,i,c){return i=mr(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function aC(n,i,c,f,g){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function sd(n,i,c,f,g,x,S,R,$){return n=new aC(n,i,c,R,$),i===1?(i=1,x===!0&&(i|=8)):i=0,x=mr(3,null,null,i),n.current=x,x.stateNode=n,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(x),n}function lC(n,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:n,containerInfo:i,implementation:c}}function cg(n){if(!n)return Cn;n=n._reactInternals;e:{if(Ze(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(Gt(c))return Lm(n,c,i)}return i}function ug(n,i,c,f,g,x,S,R,$){return n=sd(c,f,!0,n,g,x,S,R,$),n.context=cg(null),c=n.current,f=Vt(),g=Tn(c),x=tn(f,g),x.callback=i??null,Nn(c,x,g),n.current.lanes=g,Ui(n,g,f),Yt(n,f),n}function pl(n,i,c,f){var g=i.current,x=Vt(),S=Tn(g);return c=cg(c),i.context===null?i.context=c:i.pendingContext=c,i=tn(x,S),i.payload={element:n},f=f===void 0?null:f,f!==null&&(i.callback=f),n=Nn(g,i,S),n!==null&&(kr(n,g,S,x),Ha(n,g,S)),S}function gl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function id(n,i){dg(n,i),(n=n.alternate)&&dg(n,i)}function cC(){return null}var fg=typeof reportError=="function"?reportError:function(n){console.error(n)};function od(n){this._internalRoot=n}yl.prototype.render=od.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));pl(n,i,null,null)},yl.prototype.unmount=od.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;cs(function(){pl(null,n,null,null)}),i[Yr]=null}};function yl(n){this._internalRoot=n}yl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Qh();n={blockedOn:null,target:n,priority:i};for(var c=0;c<vn.length&&i!==0&&i<vn[c].priority;c++);vn.splice(c,0,n),c===0&&Xh(n)}};function ad(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hg(){}function uC(n,i,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var G=gl(S);x.call(G)}}var S=ug(i,f,n,0,null,!1,!1,"",hg);return n._reactRootContainer=S,n[Yr]=S.current,eo(n.nodeType===8?n.parentNode:n),cs(),S}for(;g=n.lastChild;)n.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var G=gl($);R.call(G)}}var $=sd(n,0,!1,null,null,!1,!1,"",hg);return n._reactRootContainer=$,n[Yr]=$.current,eo(n.nodeType===8?n.parentNode:n),cs(function(){pl(i,$,c,f)}),$}function xl(n,i,c,f,g){var x=c._reactRootContainer;if(x){var S=x;if(typeof g=="function"){var R=g;g=function(){var $=gl(S);R.call($)}}pl(i,S,n,g)}else S=uC(c,i,n,g,f);return gl(S)}Gh=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Fi(i.pendingLanes);c!==0&&(Ac(i,c|1),Yt(i,gt()),(Qe&6)===0&&(si=gt()+500,jn()))}break;case 13:cs(function(){var f=en(n,1);if(f!==null){var g=Vt();kr(f,n,1,g)}}),id(n,1)}},Rc=function(n){if(n.tag===13){var i=en(n,134217728);if(i!==null){var c=Vt();kr(i,n,134217728,c)}id(n,134217728)}},Kh=function(n){if(n.tag===13){var i=Tn(n),c=en(n,i);if(c!==null){var f=Vt();kr(c,n,i,f)}id(n,i)}},Qh=function(){return Xe},Yh=function(n,i){var c=Xe;try{return Xe=n,i()}finally{Xe=c}},Is=function(n,i,c){switch(i){case"input":if(Re(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==n&&f.form===n.form){var g=Da(f);if(!g)throw Error(r(90));Le(f),Re(f,g)}}}break;case"textarea":Nt(n,c);break;case"select":i=c.value,i!=null&&be(n,!!c.multiple,i,!1)}},fa=Xu,ha=cs;var dC={usingClientEntryPoint:!1,Events:[no,Ws,Da,ua,da,Xu]},vo={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fC={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Fh(n),n===null?null:n.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||cC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{ya=wl.inject(fC),Dr=wl}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC,Jt.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(i))throw Error(r(200));return lC(n,i,null,c)},Jt.createRoot=function(n,i){if(!ad(n))throw Error(r(299));var c=!1,f="",g=fg;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=sd(n,1,!1,null,null,c,!1,f,g),n[Yr]=i.current,eo(n.nodeType===8?n.parentNode:n),new od(i)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Fh(i),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return cs(n)},Jt.hydrate=function(n,i,c){if(!vl(i))throw Error(r(200));return xl(null,n,i,!0,c)},Jt.hydrateRoot=function(n,i,c){if(!ad(n))throw Error(r(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",S=fg;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),i=ug(i,null,n,1,c??null,g,!1,x,S),n[Yr]=i.current,eo(n),f)for(n=0;n<f.length;n++)c=f[n],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new yl(i)},Jt.render=function(n,i,c){if(!vl(i))throw Error(r(200));return xl(null,n,i,!1,c)},Jt.unmountComponentAtNode=function(n){if(!vl(n))throw Error(r(40));return n._reactRootContainer?(cs(function(){xl(null,null,n,!1,function(){n._reactRootContainer=null,n[Yr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Xu,Jt.unstable_renderSubtreeIntoContainer=function(n,i,c,f){if(!vl(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return xl(n,i,c,!1,f)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var bg;function Bv(){if(bg)return ud.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ud.exports=bC(),ud.exports}var _g;function _C(){if(_g)return bl;_g=1;var t=Bv();return bl.createRoot=t.createRoot,bl.hydrateRoot=t.hydrateRoot,bl}var CC=_C();const jC=ks(CC);var hd,Cg;function SC(){if(Cg)return hd;Cg=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var d,h,m;if(Array.isArray(l)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(!o(l[h],u[h]))return!1;return!0}var p;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(p=l.entries();!(h=p.next()).done;)if(!u.has(h.value[0]))return!1;for(p=l.entries();!(h=p.next()).done;)if(!o(h.value[1],u.get(h.value[0])))return!1;return!0}if(r&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(p=l.entries();!(h=p.next()).done;)if(!u.has(h.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(l[h]!==u[h])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(m=Object.keys(l),d=m.length,d!==Object.keys(u).length)return!1;for(h=d;h--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[h]))return!1;if(t&&l instanceof Element)return!1;for(h=d;h--!==0;)if(!((m[h]==="_owner"||m[h]==="__v"||m[h]==="__o")&&l.$$typeof)&&!o(l[m[h]],u[m[h]]))return!1;return!0}return l!==l&&u!==u}return hd=function(u,d){try{return o(u,d)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},hd}var NC=SC();const kC=ks(NC);var md,jg;function EC(){if(jg)return md;jg=1;var t=function(e,r,s,o,l,u,d,h){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,o,l,u,d,h],y=0;m=new Error(r.replace(/%s/g,function(){return p[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return md=t,md}var PC=EC();const Sg=ks(PC);var pd,Ng;function TC(){return Ng||(Ng=1,pd=function(e,r,s,o){var l=s?s.call(o,e,r):void 0;if(l!==void 0)return!!l;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var u=Object.keys(e),d=Object.keys(r);if(u.length!==d.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(r),m=0;m<u.length;m++){var p=u[m];if(!h(p))return!1;var y=e[p],v=r[p];if(l=s?s.call(o,y,v,p):void 0,l===!1||l===void 0&&y!==v)return!1}return!0}),pd}var AC=TC();const RC=ks(AC);var Vv=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Vv||{}),gd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},kg=Object.values(Vv),zf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},OC=Object.entries(zf).reduce((t,[e,r])=>(t[r]=e,t),{}),Tr="data-rh",Si={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ni=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const s=t[r];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},MC=t=>{let e=Ni(t,"title");const r=Ni(t,Si.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const s=Ni(t,Si.DEFAULT_TITLE);return e||s||void 0},IC=t=>Ni(t,Si.ON_CHANGE_CLIENT_STATE)||(()=>{}),yd=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,s)=>({...r,...s}),{}),DC=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,s)=>{if(!r.length){const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const d=o[l].toLowerCase();if(t.indexOf(d)!==-1&&s[d])return r.concat(s)}}return r},[]),LC=t=>console&&typeof console.warn=="function"&&console.warn(t),wo=(t,e,r)=>{const s={};return r.filter(o=>Array.isArray(o[t])?!0:(typeof o[t]<"u"&&LC(`Helmet: ${t} should be of type "Array". Instead found type "${typeof o[t]}"`),!1)).map(o=>o[t]).reverse().reduce((o,l)=>{const u={};l.filter(h=>{let m;const p=Object.keys(h);for(let v=0;v<p.length;v+=1){const w=p[v],C=w.toLowerCase();e.indexOf(C)!==-1&&!(m==="rel"&&h[m].toLowerCase()==="canonical")&&!(C==="rel"&&h[C].toLowerCase()==="stylesheet")&&(m=C),e.indexOf(w)!==-1&&(w==="innerHTML"||w==="cssText"||w==="itemprop")&&(m=w)}if(!m||!h[m])return!1;const y=h[m].toLowerCase();return s[m]||(s[m]={}),u[m]||(u[m]={}),s[m][y]?!1:(u[m][y]=!0,!0)}).reverse().forEach(h=>o.push(h));const d=Object.keys(u);for(let h=0;h<d.length;h+=1){const m=d[h],p={...s[m],...u[m]};s[m]=p}return o},[]).reverse()},$C=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},FC=t=>({baseTag:DC(["href"],t),bodyAttributes:yd("bodyAttributes",t),defer:Ni(t,Si.DEFER),encode:Ni(t,Si.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:yd("htmlAttributes",t),linkTags:wo("link",["rel","href"],t),metaTags:wo("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:wo("noscript",["innerHTML"],t),onChangeClientState:IC(t),scriptTags:wo("script",["src","innerHTML"],t),styleTags:wo("style",["cssText"],t),title:MC(t),titleAttributes:yd("titleAttributes",t),prioritizeSeoTags:$C(t,Si.PRIORITIZE_SEO_TAGS)}),zv=t=>Array.isArray(t)?t.join(""):t,UC=(t,e)=>{const r=Object.keys(t);for(let s=0;s<r.length;s+=1)if(e[r[s]]&&e[r[s]].includes(t[r[s]]))return!0;return!1},vd=(t,e)=>Array.isArray(t)?t.reduce((r,s)=>(UC(s,e)?r.priority.push(s):r.default.push(s),r),{priority:[],default:[]}):{default:t,priority:[]},Eg=(t,e)=>({...t,[e]:void 0}),BC=["noscript","script","style"],Qd=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),qv=t=>Object.keys(t).reduce((e,r)=>{const s=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${s}`:s},""),VC=(t,e,r,s)=>{const o=qv(r),l=zv(e);return o?`<${t} ${Tr}="true" ${o}>${Qd(l,s)}</${t}>`:`<${t} ${Tr}="true">${Qd(l,s)}</${t}>`},zC=(t,e,r=!0)=>e.reduce((s,o)=>{const l=o,u=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,p)=>{const y=typeof l[p]>"u"?p:`${p}="${Qd(l[p],r)}"`;return m?`${m} ${y}`:y},""),d=l.innerHTML||l.cssText||"",h=BC.indexOf(t)===-1;return`${s}<${t} ${Tr}="true" ${u}${h?"/>":`>${d}</${t}>`}`},""),Wv=(t,e={})=>Object.keys(t).reduce((r,s)=>{const o=zf[s];return r[o||s]=t[s],r},e),qC=(t,e,r)=>{const s={key:e,[Tr]:!0},o=Wv(r,s);return[rt.createElement("title",o,e)]},Dl=(t,e)=>e.map((r,s)=>{const o={key:s,[Tr]:!0};return Object.keys(r).forEach(l=>{const d=zf[l]||l;if(d==="innerHTML"||d==="cssText"){const h=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[d]=r[l]}),rt.createElement(t,o)}),vr=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>qC(t,e.title,e.titleAttributes),toString:()=>VC(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Wv(e),toString:()=>qv(e)};default:return{toComponent:()=>Dl(t,e),toString:()=>zC(t,e,r)}}},WC=({metaTags:t,linkTags:e,scriptTags:r,encode:s})=>{const o=vd(t,gd.meta),l=vd(e,gd.link),u=vd(r,gd.script);return{priorityMethods:{toComponent:()=>[...Dl("meta",o.priority),...Dl("link",l.priority),...Dl("script",u.priority)],toString:()=>`${vr("meta",o.priority,s)} ${vr("link",l.priority,s)} ${vr("script",u.priority,s)}`},metaTags:o.default,linkTags:l.default,scriptTags:u.default}},HC=t=>{const{baseTag:e,bodyAttributes:r,encode:s=!0,htmlAttributes:o,noscriptTags:l,styleTags:u,title:d="",titleAttributes:h,prioritizeSeoTags:m}=t;let{linkTags:p,metaTags:y,scriptTags:v}=t,w={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:w,linkTags:p,metaTags:y,scriptTags:v}=WC(t)),{priority:w,base:vr("base",e,s),bodyAttributes:vr("bodyAttributes",r,s),htmlAttributes:vr("htmlAttributes",o,s),link:vr("link",p,s),meta:vr("meta",y,s),noscript:vr("noscript",l,s),script:vr("script",v,s),style:vr("style",u,s),title:vr("title",{title:d,titleAttributes:h},s)}},Yd=HC,_l=[],Hv=!!(typeof window<"u"&&window.document&&window.document.createElement),Jd=class{instances=[];canUseDOM=Hv;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?_l:this.instances,add:t=>{(this.canUseDOM?_l:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?_l:this.instances).indexOf(t);(this.canUseDOM?_l:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Yd({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},GC={},Gv=rt.createContext(GC),Kv=class Qv extends b.Component{static canUseDOM=Hv;helmetData;constructor(e){super(e),this.helmetData=new Jd(this.props.context||{},Qv.canUseDOM)}render(){return rt.createElement(Gv.Provider,{value:this.helmetData.value},this.props.children)}},oi=(t,e)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${t}[${Tr}]`),o=[].slice.call(s),l=[];let u;return e&&e.length&&e.forEach(d=>{const h=document.createElement(t);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")h.innerHTML=d.innerHTML;else if(m==="cssText")h.styleSheet?h.styleSheet.cssText=d.cssText:h.appendChild(document.createTextNode(d.cssText));else{const p=m,y=typeof d[p]>"u"?"":d[p];h.setAttribute(m,y)}h.setAttribute(Tr,"true"),o.some((m,p)=>(u=p,h.isEqualNode(m)))?o.splice(u,1):l.push(h)}),o.forEach(d=>d.parentNode?.removeChild(d)),l.forEach(d=>r.appendChild(d)),{oldTags:o,newTags:l}},Xd=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const s=r.getAttribute(Tr),o=s?s.split(","):[],l=[...o],u=Object.keys(e);for(const d of u){const h=e[d]||"";r.getAttribute(d)!==h&&r.setAttribute(d,h),o.indexOf(d)===-1&&o.push(d);const m=l.indexOf(d);m!==-1&&l.splice(m,1)}for(let d=l.length-1;d>=0;d-=1)r.removeAttribute(l[d]);o.length===l.length?r.removeAttribute(Tr):r.getAttribute(Tr)!==u.join(",")&&r.setAttribute(Tr,u.join(","))},KC=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=zv(t)),Xd("title",e)},Pg=(t,e)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:o,linkTags:l,metaTags:u,noscriptTags:d,onChangeClientState:h,scriptTags:m,styleTags:p,title:y,titleAttributes:v}=t;Xd("body",s),Xd("html",o),KC(y,v);const w={baseTag:oi("base",r),linkTags:oi("link",l),metaTags:oi("meta",u),noscriptTags:oi("noscript",d),scriptTags:oi("script",m),styleTags:oi("style",p)},C={},j={};Object.keys(w).forEach(_=>{const{newTags:O,oldTags:T}=w[_];O.length&&(C[_]=O),T.length&&(j[_]=w[_].oldTags)}),e&&e(),h(t,C,j)},bo=null,QC=t=>{bo&&cancelAnimationFrame(bo),t.defer?bo=requestAnimationFrame(()=>{Pg(t,()=>{bo=null})}):(Pg(t),bo=null)},YC=QC,Tg=class extends b.Component{rendered=!1;shouldComponentUpdate(t){return!RC(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let r=null;const s=FC(t.get().map(o=>{const l={...o.props};return delete l.context,l}));Kv.canUseDOM?YC(s):Yd&&(r=Yd(s)),e(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},JC=class extends b.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!kC(Eg(this.props,"helmetData"),Eg(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,s){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,r,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(s=>{r={...r,[s]:t[s]}}),r}warnOnInvalidChildren(t,e){return Sg(kg.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${kg.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Sg(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return rt.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:o,...l}=s.props,u=Object.keys(l).reduce((h,m)=>(h[OC[m]||m]=l[m],h),{});let{type:d}=s;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(s,o),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(s,r,u,o);break;default:e=this.mapObjectTypeChildren(s,e,u,o);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:s}=e;if(t&&(r=this.mapChildrenToProps(t,r)),s&&!(s instanceof Jd)){const o=s;s=new Jd(o.context,!0),delete r.helmetData}return s?rt.createElement(Tg,{...r,context:s.value}):rt.createElement(Gv.Consumer,null,o=>rt.createElement(Tg,{...r,context:o}))}};const Yv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ic=b.createContext({}),oc=b.createContext(null),ac=typeof document<"u",qf=ac?b.useLayoutEffect:b.useEffect,Jv=b.createContext({strict:!1}),Wf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XC="framerAppearId",Xv="data-"+Wf(XC);function ZC(t,e,r,s){const{visualElement:o}=b.useContext(ic),l=b.useContext(Jv),u=b.useContext(oc),d=b.useContext(Yv).reducedMotion,h=b.useRef();s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current;b.useInsertionEffect(()=>{m&&m.update(r,u)});const p=b.useRef(!!(r[Xv]&&!window.HandoffComplete));return qf(()=>{m&&(m.render(),p.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(m.updateFeatures(),!p.current&&m.animationState&&m.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),m}function bi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ej(t,e,r){return b.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):bi(r)&&(r.current=s))},[e])}function zo(t){return typeof t=="string"||Array.isArray(t)}function lc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gf=["initial",...Hf];function cc(t){return lc(t.animate)||Gf.some(e=>zo(t[e]))}function Zv(t){return!!(cc(t)||t.variants)}function tj(t,e){if(cc(t)){const{initial:r,animate:s}=t;return{initial:r===!1||zo(r)?r:void 0,animate:zo(s)?s:void 0}}return t.inherit!==!1?e:{}}function rj(t){const{initial:e,animate:r}=tj(t,b.useContext(ic));return b.useMemo(()=>({initial:e,animate:r}),[Ag(e),Ag(r)])}function Ag(t){return Array.isArray(t)?t.join(" "):t}const Rg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const t in Rg)qo[t]={isEnabled:e=>Rg[t].some(r=>!!e[r])};function nj(t){for(const e in t)qo[e]={...qo[e],...t[e]}}const Kf=b.createContext({}),ex=b.createContext({}),sj=Symbol.for("motionComponentSymbol");function ij({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:o}){t&&nj(t);function l(d,h){let m;const p={...b.useContext(Yv),...d,layoutId:oj(d)},{isStatic:y}=p,v=rj(d),w=s(d,y);if(!y&&ac){v.visualElement=ZC(o,w,p,e);const C=b.useContext(ex),j=b.useContext(Jv).strict;v.visualElement&&(m=v.visualElement.loadFeatures(p,j,t,C))}return b.createElement(ic.Provider,{value:v},m&&v.visualElement?b.createElement(m,{visualElement:v.visualElement,...p}):null,r(o,d,ej(w,v.visualElement,h),w,y,v.visualElement))}const u=b.forwardRef(l);return u[sj]=o,u}function oj({layoutId:t}){const e=b.useContext(Kf).id;return e&&t!==void 0?e+"-"+t:t}function aj(t){function e(s,o={}){return ij(t(s,o))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(s,o)=>(r.has(o)||r.set(o,e(o)),r.get(o))})}const lj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qf(t){return typeof t!="string"||t.includes("-")?!1:!!(lj.indexOf(t)>-1||/[A-Z]/.test(t))}const Vl={};function cj(t){Object.assign(Vl,t)}const Xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Es=new Set(Xo);function tx(t,{layout:e,layoutId:r}){return Es.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Vl[t]||t==="opacity")}const Zt=t=>!!(t&&t.getVelocity),uj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dj=Xo.length;function fj(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},s,o){let l="";for(let u=0;u<dj;u++){const d=Xo[u];if(t[d]!==void 0){const h=uj[d]||d;l+=`${h}(${t[d]}) `}}return e&&!t.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(t,s?"":l):r&&s&&(l="none"),l}const rx=t=>e=>typeof e=="string"&&e.startsWith(t),nx=rx("--"),Zd=rx("var(--"),hj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Wn=(t,e,r)=>Math.min(Math.max(r,t),e),Ps={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mo={...Ps,transform:t=>Wn(0,1,t)},Cl={...Ps,default:1},Io=t=>Math.round(t*1e5)/1e5,uc=/(-)?([\d]*\.?[\d])+/g,sx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zo(t){return typeof t=="string"}const ea=t=>({test:e=>Zo(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dn=ea("deg"),qr=ea("%"),De=ea("px"),gj=ea("vh"),yj=ea("vw"),Og={...qr,parse:t=>qr.parse(t)/100,transform:t=>qr.transform(t*100)},Mg={...Ps,transform:Math.round},ix={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Dn,rotateX:Dn,rotateY:Dn,rotateZ:Dn,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:Dn,skewX:Dn,skewY:Dn,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Mo,originX:Og,originY:Og,originZ:De,zIndex:Mg,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:Mg};function Yf(t,e,r,s){const{style:o,vars:l,transform:u,transformOrigin:d}=t;let h=!1,m=!1,p=!0;for(const y in e){const v=e[y];if(nx(y)){l[y]=v;continue}const w=ix[y],C=mj(v,w);if(Es.has(y)){if(h=!0,u[y]=C,!p)continue;v!==(w.default||0)&&(p=!1)}else y.startsWith("origin")?(m=!0,d[y]=C):o[y]=C}if(e.transform||(h||s?o.transform=fj(t.transform,r,p,s):o.transform&&(o.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:w=0}=d;o.transformOrigin=`${y} ${v} ${w}`}}const Jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ox(t,e,r){for(const s in e)!Zt(e[s])&&!tx(s,r)&&(t[s]=e[s])}function vj({transformTemplate:t},e,r){return b.useMemo(()=>{const s=Jf();return Yf(s,e,{enableHardwareAcceleration:!r},t),Object.assign({},s.vars,s.style)},[e])}function xj(t,e,r){const s=t.style||{},o={};return ox(o,s,t),Object.assign(o,vj(t,e,r)),t.transformValues?t.transformValues(o):o}function wj(t,e,r){const s={},o=xj(t,e,r);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const bj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bj.has(t)}let ax=t=>!zl(t);function _j(t){t&&(ax=e=>e.startsWith("on")?!zl(e):t(e))}try{_j(require("@emotion/is-prop-valid").default)}catch{}function Cj(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(ax(o)||r===!0&&zl(o)||!e&&!zl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function Ig(t,e,r){return typeof t=="string"?t:De.transform(e+r*t)}function jj(t,e,r){const s=Ig(e,t.x,t.width),o=Ig(r,t.y,t.height);return`${s} ${o}`}const Sj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nj={offset:"strokeDashoffset",array:"strokeDasharray"};function kj(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?Sj:Nj;t[l.offset]=De.transform(-s);const u=De.transform(e),d=De.transform(r);t[l.array]=`${u} ${d}`}function Xf(t,{attrX:e,attrY:r,attrScale:s,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...m},p,y,v){if(Yf(t,m,p,v),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:C,dimensions:j}=t;w.transform&&(j&&(C.transform=w.transform),delete w.transform),j&&(o!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=jj(j,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),s!==void 0&&(w.scale=s),u!==void 0&&kj(w,u,d,h,!1)}const lx=()=>({...Jf(),attrs:{}}),Zf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ej(t,e,r,s){const o=b.useMemo(()=>{const l=lx();return Xf(l,e,{enableHardwareAcceleration:!1},Zf(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ox(l,t.style,t),o.style={...l,...o.style}}return o}function Pj(t=!1){return(r,s,o,{latestValues:l},u)=>{const h=(Qf(r)?Ej:wj)(s,l,u,r),p={...Cj(s,typeof r=="string",t),...h,ref:o},{children:y}=s,v=b.useMemo(()=>Zt(y)?y.get():y,[y]);return b.createElement(r,{...p,children:v})}}function cx(t,{style:e,vars:r},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const l in r)t.style.setProperty(l,r[l])}const ux=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dx(t,e,r,s){cx(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(ux.has(o)?o:Wf(o),e.attrs[o])}function eh(t,e){const{style:r}=t,s={};for(const o in r)(Zt(r[o])||e.style&&Zt(e.style[o])||tx(o,t))&&(s[o]=r[o]);return s}function fx(t,e){const r=eh(t,e);for(const s in t)if(Zt(t[s])||Zt(e[s])){const o=Xo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function th(t,e,r,s={},o={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,s,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,s,o)),e}function hx(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const ql=t=>Array.isArray(t),Tj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Aj=t=>ql(t)?t[t.length-1]||0:t;function Ll(t){const e=Zt(t)?t.get():t;return Tj(e)?e.toValue():e}function Rj({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},s,o,l){const u={latestValues:Oj(s,o,l,t),renderState:e()};return r&&(u.mount=d=>r(s,d,u)),u}const mx=t=>(e,r)=>{const s=b.useContext(ic),o=b.useContext(oc),l=()=>Rj(t,e,s,o);return r?l():hx(l)};function Oj(t,e,r,s){const o={},l=s(t,{});for(const v in l)o[v]=Ll(l[v]);let{initial:u,animate:d}=t;const h=cc(t),m=Zv(t);e&&m&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||u===!1;const y=p?d:u;return y&&typeof y!="boolean"&&!lc(y)&&(Array.isArray(y)?y:[y]).forEach(w=>{const C=th(t,w);if(!C)return;const{transitionEnd:j,transition:_,...O}=C;for(const T in O){let P=O[T];if(Array.isArray(P)){const N=p?P.length-1:0;P=P[N]}P!==null&&(o[T]=P)}for(const T in j)o[T]=j[T]}),o}const vt=t=>t;class Dg{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Mj(t){let e=new Dg,r=new Dg,s=0,o=!1,l=!1;const u=new WeakSet,d={schedule:(h,m=!1,p=!1)=>{const y=p&&o,v=y?e:r;return m&&u.add(h),v.add(h)&&y&&o&&(s=e.order.length),h},cancel:h=>{r.remove(h),u.delete(h)},process:h=>{if(o){l=!0;return}if(o=!0,[e,r]=[r,e],r.clear(),s=e.order.length,s)for(let m=0;m<s;m++){const p=e.order[m];p(h),u.has(p)&&(d.schedule(p),t())}o=!1,l&&(l=!1,d.process(h))}};return d}const jl=["prepare","read","update","preRender","render","postRender"],Ij=40;function Dj(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=jl.reduce((y,v)=>(y[v]=Mj(()=>r=!0),y),{}),u=y=>l[y].process(o),d=()=>{const y=performance.now();r=!1,o.delta=s?1e3/60:Math.max(Math.min(y-o.timestamp,Ij),1),o.timestamp=y,o.isProcessing=!0,jl.forEach(u),o.isProcessing=!1,r&&e&&(s=!1,t(d))},h=()=>{r=!0,s=!0,o.isProcessing||t(d)};return{schedule:jl.reduce((y,v)=>{const w=l[v];return y[v]=(C,j=!1,_=!1)=>(r||h(),w.schedule(C,j,_)),y},{}),cancel:y=>jl.forEach(v=>l[v].cancel(y)),state:o,steps:l}}const{schedule:it,cancel:cn,state:Ft,steps:xd}=Dj(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),Lj={useVisualState:mx({scrapeMotionValuesFromProps:fx,createRenderState:lx,onMount:(t,e,{renderState:r,latestValues:s})=>{it.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{Xf(r,s,{enableHardwareAcceleration:!1},Zf(e.tagName),t.transformTemplate),dx(e,r)})}})},$j={useVisualState:mx({scrapeMotionValuesFromProps:eh,createRenderState:Jf})};function Fj(t,{forwardMotionProps:e=!1},r,s){return{...Qf(t)?Lj:$j,preloadedFeatures:r,useRender:Pj(e),createVisualElement:s,Component:t}}function on(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}const px=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function dc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Uj=t=>e=>px(e)&&t(e,dc(e));function an(t,e,r,s){return on(t,e,Uj(r),s)}const Bj=(t,e)=>r=>e(t(r)),Vn=(...t)=>t.reduce(Bj);function gx(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const Lg=gx("dragHorizontal"),$g=gx("dragVertical");function yx(t){let e=!1;if(t==="y")e=$g();else if(t==="x")e=Lg();else{const r=Lg(),s=$g();r&&s?e=()=>{r(),s()}:(r&&r(),s&&s())}return e}function vx(){const t=yx(!0);return t?(t(),!1):!0}class Yn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fg(t,e){const r="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),o=(l,u)=>{if(l.pointerType==="touch"||vx())return;const d=t.getProps();t.animationState&&d.whileHover&&t.animationState.setActive("whileHover",e),d[s]&&it.update(()=>d[s](l,u))};return an(t.current,r,o,{passive:!t.getProps()[s]})}class Vj extends Yn{mount(){this.unmount=Vn(Fg(this.node,!0),Fg(this.node,!1))}unmount(){}}class zj extends Yn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vn(on(this.node.current,"focus",()=>this.onFocus()),on(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xx=(t,e)=>e?t===e?!0:xx(t,e.parentElement):!1;function wd(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,dc(r))}class qj extends Yn{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=an(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:p,globalTapTarget:y}=this.node.getProps();it.update(()=>{!y&&!xx(this.node.current,d.target)?p&&p(d,h):m&&m(d,h)})},{passive:!(s.onTap||s.onPointerUp)}),u=an(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Vn(l,u),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||wd("up",(h,m)=>{const{onTap:p}=this.node.getProps();p&&it.update(()=>p(h,m))})};this.removeEndListeners(),this.removeEndListeners=on(this.node.current,"keyup",u),wd("down",(d,h)=>{this.startPress(d,h)})},r=on(this.node.current,"keydown",e),s=()=>{this.isPressing&&wd("cancel",(l,u)=>this.cancelPress(l,u))},o=on(this.node.current,"blur",s);this.removeAccessibleListeners=Vn(r,o)}}startPress(e,r){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&it.update(()=>s(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vx()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&it.update(()=>s(e,r))}mount(){const e=this.node.getProps(),r=an(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=on(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vn(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ef=new WeakMap,bd=new WeakMap,Wj=t=>{const e=ef.get(t.target);e&&e(t)},Hj=t=>{t.forEach(Wj)};function Gj({root:t,...e}){const r=t||document;bd.has(r)||bd.set(r,{});const s=bd.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Hj,{root:t,...e})),s[o]}function Kj(t,e,r){const s=Gj(e);return ef.set(t,r),s.observe(t),()=>{ef.delete(t),s.unobserve(t)}}const Qj={some:0,all:1};class Yj extends Yn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Qj[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),v=m?p:y;v&&v(h)};return Kj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Jj(e,r))&&this.startObserver()}unmount(){}}function Jj({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Xj={inView:{Feature:Yj},tap:{Feature:qj},focus:{Feature:zj},hover:{Feature:Vj}};function wx(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}function Zj(t){const e={};return t.values.forEach((r,s)=>e[s]=r.get()),e}function e1(t){const e={};return t.values.forEach((r,s)=>e[s]=r.getVelocity()),e}function fc(t,e,r){const s=t.getProps();return th(s,e,r!==void 0?r:s.custom,Zj(t),e1(t))}let rh=vt;const Cs=t=>t*1e3,ln=t=>t/1e3,t1={current:!1},bx=t=>Array.isArray(t)&&typeof t[0]=="number";function _x(t){return!!(!t||typeof t=="string"&&Cx[t]||bx(t)||Array.isArray(t)&&t.every(_x))}const Ao=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,Cx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ao([0,.65,.55,1]),circOut:Ao([.55,0,1,.45]),backIn:Ao([.31,.01,.66,-.59]),backOut:Ao([.33,1.53,.69,.99])};function jx(t){if(t)return bx(t)?Ao(t):Array.isArray(t)?t.map(jx):Cx[t]}function r1(t,e,r,{delay:s=0,duration:o,repeat:l=0,repeatType:u="loop",ease:d,times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=jx(d);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:s,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function n1(t,{repeat:e,repeatType:r="loop"}){const s=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Sx=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,s1=1e-7,i1=12;function o1(t,e,r,s,o){let l,u,d=0;do u=e+(r-e)/2,l=Sx(u,s,o)-t,l>0?r=u:e=u;while(Math.abs(l)>s1&&++d<i1);return u}function ta(t,e,r,s){if(t===e&&r===s)return vt;const o=l=>o1(l,0,1,t,r);return l=>l===0||l===1?l:Sx(o(l),e,s)}const a1=ta(.42,0,1,1),l1=ta(0,0,.58,1),Nx=ta(.42,0,.58,1),c1=t=>Array.isArray(t)&&typeof t[0]!="number",kx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ex=t=>e=>1-t(1-e),nh=t=>1-Math.sin(Math.acos(t)),Px=Ex(nh),u1=kx(nh),Tx=ta(.33,1.53,.69,.99),sh=Ex(Tx),d1=kx(sh),f1=t=>(t*=2)<1?.5*sh(t):.5*(2-Math.pow(2,-10*(t-1))),h1={linear:vt,easeIn:a1,easeInOut:Nx,easeOut:l1,circIn:nh,circInOut:u1,circOut:Px,backIn:sh,backInOut:d1,backOut:Tx,anticipate:f1},Ug=t=>{if(Array.isArray(t)){rh(t.length===4);const[e,r,s,o]=t;return ta(e,r,s,o)}else if(typeof t=="string")return h1[t];return t},ih=(t,e)=>r=>!!(Zo(r)&&pj.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),Ax=(t,e,r)=>s=>{if(!Zo(s))return s;const[o,l,u,d]=s.match(uc);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},m1=t=>Wn(0,255,t),_d={...Ps,transform:t=>Math.round(m1(t))},bs={test:ih("rgb","red"),parse:Ax("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+_d.transform(t)+", "+_d.transform(e)+", "+_d.transform(r)+", "+Io(Mo.transform(s))+")"};function p1(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const tf={test:ih("#"),parse:p1,transform:bs.transform},_i={test:ih("hsl","hue"),parse:Ax("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+qr.transform(Io(e))+", "+qr.transform(Io(r))+", "+Io(Mo.transform(s))+")"},zt={test:t=>bs.test(t)||tf.test(t)||_i.test(t),parse:t=>bs.test(t)?bs.parse(t):_i.test(t)?_i.parse(t):tf.parse(t),transform:t=>Zo(t)?t:t.hasOwnProperty("red")?bs.transform(t):_i.transform(t)},mt=(t,e,r)=>-r*t+r*e+t;function Cd(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function g1({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=Cd(h,d,t+1/3),l=Cd(h,d,t),u=Cd(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}const jd=(t,e,r)=>{const s=t*t;return Math.sqrt(Math.max(0,r*(e*e-s)+s))},y1=[tf,bs,_i],v1=t=>y1.find(e=>e.test(t));function Bg(t){const e=v1(t);let r=e.parse(t);return e===_i&&(r=g1(r)),r}const Rx=(t,e)=>{const r=Bg(t),s=Bg(e),o={...r};return l=>(o.red=jd(r.red,s.red,l),o.green=jd(r.green,s.green,l),o.blue=jd(r.blue,s.blue,l),o.alpha=mt(r.alpha,s.alpha,l),bs.transform(o))};function x1(t){var e,r;return isNaN(t)&&Zo(t)&&(((e=t.match(uc))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(sx))===null||r===void 0?void 0:r.length)||0)>0}const Ox={regex:hj,countKey:"Vars",token:"${v}",parse:vt},Mx={regex:sx,countKey:"Colors",token:"${c}",parse:zt.parse},Ix={regex:uc,countKey:"Numbers",token:"${n}",parse:Ps.parse};function Sd(t,{regex:e,countKey:r,token:s,parse:o}){const l=t.tokenised.match(e);l&&(t["num"+r]=l.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...l.map(o)))}function Wl(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Sd(r,Ox),Sd(r,Mx),Sd(r,Ix),r}function Dx(t){return Wl(t).values}function Lx(t){const{values:e,numColors:r,numVars:s,tokenised:o}=Wl(t),l=e.length;return u=>{let d=o;for(let h=0;h<l;h++)h<s?d=d.replace(Ox.token,u[h]):h<s+r?d=d.replace(Mx.token,zt.transform(u[h])):d=d.replace(Ix.token,Io(u[h]));return d}}const w1=t=>typeof t=="number"?0:t;function b1(t){const e=Dx(t);return Lx(t)(e.map(w1))}const Hn={test:x1,parse:Dx,createTransformer:Lx,getAnimatableNone:b1},$x=(t,e)=>r=>`${r>0?e:t}`;function Fx(t,e){return typeof t=="number"?r=>mt(t,e,r):zt.test(t)?Rx(t,e):t.startsWith("var(")?$x(t,e):Bx(t,e)}const Ux=(t,e)=>{const r=[...t],s=r.length,o=t.map((l,u)=>Fx(l,e[u]));return l=>{for(let u=0;u<s;u++)r[u]=o[u](l);return r}},_1=(t,e)=>{const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Fx(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}},Bx=(t,e)=>{const r=Hn.createTransformer(e),s=Wl(t),o=Wl(e);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?Vn(Ux(s.values,o.values),r):$x(t,e)},Wo=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s},Vg=(t,e)=>r=>mt(t,e,r);function C1(t){return typeof t=="number"?Vg:typeof t=="string"?zt.test(t)?Rx:Bx:Array.isArray(t)?Ux:typeof t=="object"?_1:Vg}function j1(t,e,r){const s=[],o=r||C1(t[0]),l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||vt:e;d=Vn(h,d)}s.push(d)}return s}function Vx(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(rh(l===e.length),l===1)return()=>e[0];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=j1(e,s,o),d=u.length,h=m=>{let p=0;if(d>1)for(;p<t.length-2&&!(m<t[p+1]);p++);const y=Wo(t[p],t[p+1],m);return u[p](y)};return r?m=>h(Wn(t[0],t[l-1],m)):h}function S1(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Wo(0,e,s);t.push(mt(r,1,o))}}function N1(t){const e=[0];return S1(e,t.length-1),e}function k1(t,e){return t.map(r=>r*e)}function E1(t,e){return t.map(()=>e||Nx).splice(0,t.length-1)}function Hl({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=c1(s)?s.map(Ug):Ug(s),l={done:!1,value:e[0]},u=k1(r&&r.length===e.length?r:N1(e),t),d=Vx(u,e,{ease:Array.isArray(o)?o:E1(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}function zx(t,e){return e?t*(1e3/e):0}const P1=5;function qx(t,e,r){const s=Math.max(e-P1,0);return zx(r-t(s),e-s)}const Nd=.001,T1=.01,A1=10,R1=.05,O1=1;function M1({duration:t=800,bounce:e=.25,velocity:r=0,mass:s=1}){let o,l,u=1-e;u=Wn(R1,O1,u),t=Wn(T1,A1,ln(t)),u<1?(o=m=>{const p=m*u,y=p*t,v=p-r,w=rf(m,u),C=Math.exp(-y);return Nd-v/w*C},l=m=>{const y=m*u*t,v=y*r+r,w=Math.pow(u,2)*Math.pow(m,2)*t,C=Math.exp(-y),j=rf(Math.pow(m,2),u);return(-o(m)+Nd>0?-1:1)*((v-w)*C)/j}):(o=m=>{const p=Math.exp(-m*t),y=(m-r)*t+1;return-Nd+p*y},l=m=>{const p=Math.exp(-m*t),y=(r-m)*(t*t);return p*y});const d=5/t,h=D1(o,l,d);if(t=Cs(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const I1=12;function D1(t,e,r){let s=r;for(let o=1;o<I1;o++)s=s-t(s)/e(s);return s}function rf(t,e){return t*Math.sqrt(1-e*e)}const L1=["duration","bounce"],$1=["stiffness","damping","mass"];function zg(t,e){return e.some(r=>t[r]!==void 0)}function F1(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!zg(t,$1)&&zg(t,L1)){const r=M1(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Wx({keyframes:t,restDelta:e,restSpeed:r,...s}){const o=t[0],l=t[t.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:p,velocity:y,isResolvedFromDuration:v}=F1({...s,velocity:-ln(s.velocity||0)}),w=y||0,C=h/(2*Math.sqrt(d*m)),j=l-o,_=ln(Math.sqrt(d/m)),O=Math.abs(j)<5;r||(r=O?.01:2),e||(e=O?.005:.5);let T;if(C<1){const P=rf(_,C);T=N=>{const I=Math.exp(-C*_*N);return l-I*((w+C*_*j)/P*Math.sin(P*N)+j*Math.cos(P*N))}}else if(C===1)T=P=>l-Math.exp(-_*P)*(j+(w+_*j)*P);else{const P=_*Math.sqrt(C*C-1);T=N=>{const I=Math.exp(-C*_*N),M=Math.min(P*N,300);return l-I*((w+C*_*j)*Math.sinh(M)+P*j*Math.cosh(M))/P}}return{calculatedDuration:v&&p||null,next:P=>{const N=T(P);if(v)u.done=P>=p;else{let I=w;P!==0&&(C<1?I=qx(T,P,N):I=0);const M=Math.abs(I)<=r,D=Math.abs(l-N)<=e;u.done=M&&D}return u.value=u.done?l:N,u}}}function qg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:m=.5,restSpeed:p}){const y=t[0],v={done:!1,value:y},w=H=>d!==void 0&&H<d||h!==void 0&&H>h,C=H=>d===void 0?h:h===void 0||Math.abs(d-H)<Math.abs(h-H)?d:h;let j=r*e;const _=y+j,O=u===void 0?_:u(_);O!==_&&(j=O-y);const T=H=>-j*Math.exp(-H/s),P=H=>O+T(H),N=H=>{const te=T(H),U=P(H);v.done=Math.abs(te)<=m,v.value=v.done?O:U};let I,M;const D=H=>{w(v.value)&&(I=H,M=Wx({keyframes:[v.value,C(v.value)],velocity:qx(P,H,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return D(0),{calculatedDuration:null,next:H=>{let te=!1;return!M&&I===void 0&&(te=!0,N(H),D(H)),I!==void 0&&H>I?M.next(H-I):(!te&&N(H),v)}}}const U1=t=>{const e=({timestamp:r})=>t(r);return{start:()=>it.update(e,!0),stop:()=>cn(e),now:()=>Ft.isProcessing?Ft.timestamp:performance.now()}},Wg=2e4;function Hg(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Wg;)e+=r,s=t.next(e);return e>=Wg?1/0:e}const B1={decay:qg,inertia:qg,tween:Hl,keyframes:Hl,spring:Wx};function Gl({autoplay:t=!0,delay:e=0,driver:r=U1,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:h,onStop:m,onComplete:p,onUpdate:y,...v}){let w=1,C=!1,j,_;const O=()=>{_=new Promise(E=>{j=E})};O();let T;const P=B1[o]||Hl;let N;P!==Hl&&typeof s[0]!="number"&&(N=Vx([0,100],s,{clamp:!1}),s=[0,100]);const I=P({...v,keyframes:s});let M;d==="mirror"&&(M=P({...v,keyframes:[...s].reverse(),velocity:-(v.velocity||0)}));let D="idle",H=null,te=null,U=null;I.calculatedDuration===null&&l&&(I.calculatedDuration=Hg(I));const{calculatedDuration:me}=I;let se=1/0,re=1/0;me!==null&&(se=me+u,re=se*(l+1)-u);let B=0;const we=E=>{if(te===null)return;w>0&&(te=Math.min(te,E)),w<0&&(te=Math.min(E-re/w,te)),H!==null?B=H:B=Math.round(E-te)*w;const L=B-e*(w>=0?1:-1),Q=w>=0?L<0:L>re;B=Math.max(L,0),D==="finished"&&H===null&&(B=re);let oe=B,ve=I;if(l){const Ae=Math.min(B,re)/se;let Y=Math.floor(Ae),K=Ae%1;!K&&Ae>=1&&(K=1),K===1&&Y--,Y=Math.min(Y,l+1),!!(Y%2)&&(d==="reverse"?(K=1-K,u&&(K-=u/se)):d==="mirror"&&(ve=M)),oe=Wn(0,1,K)*se}const Ce=Q?{done:!1,value:s[0]}:ve.next(oe);N&&(Ce.value=N(Ce.value));let{done:le}=Ce;!Q&&me!==null&&(le=w>=0?B>=re:B<=0);const xe=H===null&&(D==="finished"||D==="running"&&le);return y&&y(Ce.value),xe&&q(),Ce},J=()=>{T&&T.stop(),T=void 0},fe=()=>{D="idle",J(),j(),O(),te=U=null},q=()=>{D="finished",p&&p(),J(),j()},ie=()=>{if(C)return;T||(T=r(we));const E=T.now();h&&h(),H!==null?te=E-H:(!te||D==="finished")&&(te=E),D==="finished"&&O(),U=te,H=null,D="running",T.start()};t&&ie();const ne={then(E,L){return _.then(E,L)},get time(){return ln(B)},set time(E){E=Cs(E),B=E,H!==null||!T||w===0?H=E:te=T.now()-E/w},get duration(){const E=I.calculatedDuration===null?Hg(I):I.calculatedDuration;return ln(E)},get speed(){return w},set speed(E){E===w||!T||(w=E,ne.time=ln(B))},get state(){return D},play:ie,pause:()=>{D="paused",H=B},stop:()=>{C=!0,D!=="idle"&&(D="idle",m&&m(),fe())},cancel:()=>{U!==null&&we(U),fe()},complete:()=>{D="finished"},sample:E=>(te=0,we(E))};return ne}function V1(t){let e;return()=>(e===void 0&&(e=t()),e)}const z1=V1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),q1=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sl=10,W1=2e4,H1=(t,e)=>e.type==="spring"||t==="backgroundColor"||!_x(e.ease);function G1(t,e,{onUpdate:r,onComplete:s,...o}){if(!(z1()&&q1.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,d,h,m=!1;const p=()=>{h=new Promise(P=>{d=P})};p();let{keyframes:y,duration:v=300,ease:w,times:C}=o;if(H1(e,o)){const P=Gl({...o,repeat:0,delay:0});let N={done:!1,value:y[0]};const I=[];let M=0;for(;!N.done&&M<W1;)N=P.sample(M),I.push(N.value),M+=Sl;C=void 0,y=I,v=M-Sl,w="linear"}const j=r1(t.owner.current,e,y,{...o,duration:v,ease:w,times:C}),_=()=>{m=!1,j.cancel()},O=()=>{m=!0,it.update(_),d(),p()};return j.onfinish=()=>{m||(t.set(n1(y,o)),s&&s(),O())},{then(P,N){return h.then(P,N)},attachTimeline(P){return j.timeline=P,j.onfinish=null,vt},get time(){return ln(j.currentTime||0)},set time(P){j.currentTime=Cs(P)},get speed(){return j.playbackRate},set speed(P){j.playbackRate=P},get duration(){return ln(v)},play:()=>{u||(j.play(),cn(_))},pause:()=>j.pause(),stop:()=>{if(u=!0,j.playState==="idle")return;const{currentTime:P}=j;if(P){const N=Gl({...o,autoplay:!1});t.setWithVelocity(N.sample(P-Sl).value,N.sample(P).value,Sl)}O()},complete:()=>{m||j.finish()},cancel:O}}function K1({keyframes:t,delay:e,onUpdate:r,onComplete:s}){const o=()=>(r&&r(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:l=>(l(),Promise.resolve()),cancel:vt,complete:vt});return e?Gl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const Q1={type:"spring",stiffness:500,damping:25,restSpeed:10},Y1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J1={type:"keyframes",duration:.8},X1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z1=(t,{keyframes:e})=>e.length>2?J1:Es.has(t)?t.startsWith("scale")?Y1(e[1]):Q1:X1,nf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hn.test(e)||e==="0")&&!e.startsWith("url(")),eS=new Set(["brightness","contrast","saturate","opacity"]);function tS(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(uc)||[];if(!s)return t;const o=r.replace(s,"");let l=eS.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const rS=/([a-z-]*)\(.*?\)/g,sf={...Hn,getAnimatableNone:t=>{const e=t.match(rS);return e?e.map(tS).join(" "):t}},nS={...ix,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:sf,WebkitFilter:sf},oh=t=>nS[t];function Hx(t,e){let r=oh(t);return r!==sf&&(r=Hn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Gx=t=>/^0[^.\s]+$/.test(t);function sS(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Gx(t)}function iS(t,e,r,s){const o=nf(e,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const u=s.from!==void 0?s.from:t.get();let d;const h=[];for(let m=0;m<l.length;m++)l[m]===null&&(l[m]=m===0?u:l[m-1]),sS(l[m])&&h.push(m),typeof l[m]=="string"&&l[m]!=="none"&&l[m]!=="0"&&(d=l[m]);if(o&&h.length&&d)for(let m=0;m<h.length;m++){const p=h[m];l[p]=Hx(e,d)}return l}function oS({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}function ah(t,e){return t[e]||t.default||t}const aS={skipAnimations:!1},lh=(t,e,r,s={})=>o=>{const l=ah(s,t)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Cs(u);const h=iS(e,t,r,l),m=h[0],p=h[h.length-1],y=nf(t,m),v=nf(t,p);let w={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:C=>{e.set(C),l.onUpdate&&l.onUpdate(C)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(oS(l)||(w={...w,...Z1(t,w)}),w.duration&&(w.duration=Cs(w.duration)),w.repeatDelay&&(w.repeatDelay=Cs(w.repeatDelay)),!y||!v||t1.current||l.type===!1||aS.skipAnimations)return K1(w);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const C=G1(e,t,w);if(C)return C}return Gl(w)};function Kl(t){return!!(Zt(t)&&t.add)}const Kx=t=>/^\-?\d*\.?\d+$/.test(t);function ch(t,e){t.indexOf(e)===-1&&t.push(e)}function uh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class dh{constructor(){this.subscriptions=[]}add(e){return ch(this.subscriptions,e),()=>uh(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lS=t=>!isNaN(parseFloat(t));class cS{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:l,timestamp:u}=Ft;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,it.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>it.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=lS(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new dh);const s=this.events[e].add(r);return e==="change"?()=>{s(),it.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ei(t,e){return new cS(t,e)}const Qx=t=>e=>e.test(t),uS={test:t=>t==="auto",parse:t=>t},Yx=[Ps,De,qr,Dn,yj,gj,uS],_o=t=>Yx.find(Qx(t)),dS=[...Yx,zt,Hn],fS=t=>dS.find(Qx(t));function hS(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ei(r))}function mS(t,e){const r=fc(t,e);let{transitionEnd:s={},transition:o={},...l}=r?t.makeTargetAnimatable(r,!1):{};l={...l,...s};for(const u in l){const d=Aj(l[u]);hS(t,u,d)}}function pS(t,e,r){var s,o;const l=Object.keys(e).filter(d=>!t.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const h=l[d],m=e[h];let p=null;Array.isArray(m)&&(p=m[0]),p===null&&(p=(o=(s=r[h])!==null&&s!==void 0?s:t.readValue(h))!==null&&o!==void 0?o:e[h]),p!=null&&(typeof p=="string"&&(Kx(p)||Gx(p))?p=parseFloat(p):!fS(p)&&Hn.test(m)&&(p=Hx(h,m)),t.addValue(h,Ei(p,{owner:t})),r[h]===void 0&&(r[h]=p),p!==null&&t.setBaseTarget(h,p))}}function gS(t,e){return e?(e[t]||e.default||e).from:void 0}function yS(t,e,r){const s={};for(const o in t){const l=gS(o,e);if(l!==void 0)s[o]=l;else{const u=r.getValue(o);u&&(s[o]=u.get())}}return s}function vS({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function xS(t,e){const r=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==r)return!0}else return r!==e}function Jx(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");s&&(l=s);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const y in d){const v=t.getValue(y),w=d[y];if(!v||w===void 0||p&&vS(p,y))continue;const C={delay:r,elapsed:0,...ah(l||{},y)};if(window.HandoffAppearAnimations){const O=t.getProps()[Xv];if(O){const T=window.HandoffAppearAnimations(O,y,v,it);T!==null&&(C.elapsed=T,C.isHandoff=!0)}}let j=!C.isHandoff&&!xS(v,w);if(C.type==="spring"&&(v.getVelocity()||C.velocity)&&(j=!1),v.animation&&(j=!1),j)continue;v.start(lh(y,v,w,t.shouldReduceMotion&&Es.has(y)?{type:!1}:C));const _=v.animation;Kl(h)&&(h.add(y),_.then(()=>h.remove(y))),m.push(_)}return u&&Promise.all(m).then(()=>{u&&mS(t,u)}),m}function of(t,e,r={}){const s=fc(t,e,r.custom);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all(Jx(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:y}=o;return wS(t,e,m+h,p,y,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>m())}else return Promise.all([l(),u(r.delay)])}function wS(t,e,r=0,s=0,o=1,l){const u=[],d=(t.variantChildren.size-1)*s,h=o===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(t.variantChildren).sort(bS).forEach((m,p)=>{m.notify("AnimationStart",e),u.push(of(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function bS(t,e){return t.sortNodePosition(e)}function _S(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>of(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=of(t,e,r);else{const o=typeof e=="function"?fc(t,e,r.custom):e;s=Promise.all(Jx(t,o,r))}return s.then(()=>t.notify("AnimationComplete",e))}const CS=[...Hf].reverse(),jS=Hf.length;function SS(t){return e=>Promise.all(e.map(({animation:r,options:s})=>_S(t,r,s)))}function NS(t){let e=SS(t);const r=ES();let s=!0;const o=(h,m)=>{const p=fc(t,m);if(p){const{transition:y,transitionEnd:v,...w}=p;h={...h,...w,...v}}return h};function l(h){e=h(t)}function u(h,m){const p=t.getProps(),y=t.getVariantContext(!0)||{},v=[],w=new Set;let C={},j=1/0;for(let O=0;O<jS;O++){const T=CS[O],P=r[T],N=p[T]!==void 0?p[T]:y[T],I=zo(N),M=T===m?P.isActive:null;M===!1&&(j=O);let D=N===y[T]&&N!==p[T]&&I;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),P.protectedKeys={...C},!P.isActive&&M===null||!N&&!P.prevProp||lc(N)||typeof N=="boolean")continue;let te=kS(P.prevProp,N)||T===m&&P.isActive&&!D&&I||O>j&&I,U=!1;const me=Array.isArray(N)?N:[N];let se=me.reduce(o,{});M===!1&&(se={});const{prevResolvedValues:re={}}=P,B={...re,...se},we=J=>{te=!0,w.has(J)&&(U=!0,w.delete(J)),P.needsAnimating[J]=!0};for(const J in B){const fe=se[J],q=re[J];if(C.hasOwnProperty(J))continue;let ie=!1;ql(fe)&&ql(q)?ie=!wx(fe,q):ie=fe!==q,ie?fe!==void 0?we(J):w.add(J):fe!==void 0&&w.has(J)?we(J):P.protectedKeys[J]=!0}P.prevProp=N,P.prevResolvedValues=se,P.isActive&&(C={...C,...se}),s&&t.blockInitialAnimation&&(te=!1),te&&(!D||U)&&v.push(...me.map(J=>({animation:J,options:{type:T,...h}})))}if(w.size){const O={};w.forEach(T=>{const P=t.getBaseTarget(T);P!==void 0&&(O[T]=P)}),v.push({animation:O})}let _=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(v):Promise.resolve()}function d(h,m,p){var y;if(r[h].isActive===m)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var C;return(C=w.animationState)===null||C===void 0?void 0:C.setActive(h,m)}),r[h].isActive=m;const v=u(p,h);for(const w in r)r[w].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r}}function kS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wx(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ES(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class PS extends Yn{constructor(e){super(e),e.animationState||(e.animationState=NS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),lc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let TS=0;class AS extends Yn{constructor(){super(...arguments),this.id=TS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});r&&!e&&l.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RS={animation:{Feature:PS},exit:{Feature:AS}},Gg=(t,e)=>Math.abs(t-e);function OS(t,e){const r=Gg(t.x,e.x),s=Gg(t.y,e.y);return Math.sqrt(r**2+s**2)}class Xx{constructor(e,r,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ed(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=OS(y.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:C}=y,{timestamp:j}=Ft;this.history.push({...C,timestamp:j});const{onStart:_,onMove:O}=this.handlers;v||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=kd(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ed(y.type==="pointercancel"?this.lastMoveEventInfo:kd(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,_),C&&C(y,_)},!px(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.contextWindow=o||window;const u=dc(e),d=kd(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=Ft;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,Ed(d,this.history)),this.removeListeners=Vn(an(this.contextWindow,"pointermove",this.handlePointerMove),an(this.contextWindow,"pointerup",this.handlePointerUp),an(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cn(this.updatePoint)}}function kd(t,e){return e?{point:e(t.point)}:t}function Kg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ed({point:t},e){return{point:t,delta:Kg(t,Zx(e)),offset:Kg(t,MS(e)),velocity:IS(e,.1)}}function MS(t){return t[0]}function Zx(t){return t[t.length-1]}function IS(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=Zx(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>Cs(e)));)r--;if(!s)return{x:0,y:0};const l=ln(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ar(t){return t.max-t.min}function af(t,e=0,r=.01){return Math.abs(t-e)<=r}function Qg(t,e,r,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=ar(r)/ar(e),(af(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mt(r.min,r.max,t.origin)-t.originPoint,(af(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Do(t,e,r,s){Qg(t.x,e.x,r.x,s?s.originX:void 0),Qg(t.y,e.y,r.y,s?s.originY:void 0)}function Yg(t,e,r){t.min=r.min+e.min,t.max=t.min+ar(e)}function DS(t,e,r){Yg(t.x,e.x,r.x),Yg(t.y,e.y,r.y)}function Jg(t,e,r){t.min=e.min-r.min,t.max=t.min+ar(e)}function Lo(t,e,r){Jg(t.x,e.x,r.x),Jg(t.y,e.y,r.y)}function LS(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?mt(r,t,s.max):Math.min(t,r)),t}function Xg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function $S(t,{top:e,left:r,bottom:s,right:o}){return{x:Xg(t.x,r,o),y:Xg(t.y,e,s)}}function Zg(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function FS(t,e){return{x:Zg(t.x,e.x),y:Zg(t.y,e.y)}}function US(t,e){let r=.5;const s=ar(t),o=ar(e);return o>s?r=Wo(e.min,e.max-s,t.min):s>o&&(r=Wo(t.min,t.max-o,e.min)),Wn(0,1,r)}function BS(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const lf=.35;function VS(t=lf){return t===!1?t=0:t===!0&&(t=lf),{x:ey(t,"left","right"),y:ey(t,"top","bottom")}}function ey(t,e,r){return{min:ty(t,e),max:ty(t,r)}}function ty(t,e){return typeof t=="number"?t:t[e]||0}const ry=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ci=()=>({x:ry(),y:ry()}),ny=()=>({min:0,max:0}),wt=()=>({x:ny(),y:ny()});function yr(t){return[t("x"),t("y")]}function e0({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function zS({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qS(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Pd(t){return t===void 0||t===1}function cf({scale:t,scaleX:e,scaleY:r}){return!Pd(t)||!Pd(e)||!Pd(r)}function gs(t){return cf(t)||t0(t)||t.z||t.rotate||t.rotateX||t.rotateY}function t0(t){return sy(t.x)||sy(t.y)}function sy(t){return t&&t!=="0%"}function Ql(t,e,r){const s=t-r,o=e*s;return r+o}function iy(t,e,r,s,o){return o!==void 0&&(t=Ql(t,o,s)),Ql(t,r,s)+e}function uf(t,e=0,r=1,s,o){t.min=iy(t.min,e,r,s,o),t.max=iy(t.max,e,r,s,o)}function r0(t,{x:e,y:r}){uf(t.x,e.translate,e.scale,e.originPoint),uf(t.y,r.translate,r.scale,r.originPoint)}function WS(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const h=l.instance;h&&h.style&&h.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ji(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,r0(t,u)),s&&gs(l.latestValues)&&ji(t,l.latestValues))}e.x=oy(e.x),e.y=oy(e.y)}function oy(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function $n(t,e){t.min=t.min+e,t.max=t.max+e}function ay(t,e,[r,s,o]){const l=e[o]!==void 0?e[o]:.5,u=mt(t.min,t.max,l);uf(t,e[r],e[s],u,e.scale)}const HS=["x","scaleX","originX"],GS=["y","scaleY","originY"];function ji(t,e){ay(t.x,e,HS),ay(t.y,e,GS)}function n0(t,e){return e0(qS(t.getBoundingClientRect(),e))}function KS(t,e,r){const s=n0(t,r),{scroll:o}=e;return o&&($n(s.x,o.offset.x),$n(s.y,o.offset.y)),s}const s0=({current:t})=>t?t.ownerDocument.defaultView:null,QS=new WeakMap;class YS{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(dc(p,"page").point)},l=(p,y)=>{const{drag:v,dragPropagation:w,onDragStart:C}=this.getProps();if(v&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yx(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yr(_=>{let O=this.getAxisMotionValue(_).get()||0;if(qr.test(O)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[_];P&&(O=ar(P)*(parseFloat(O)/100))}}this.originPoint[_]=O}),C&&it.update(()=>C(p,y),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(p,y)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:C,onDrag:j}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:_}=y;if(w&&this.currentDirection===null){this.currentDirection=JS(_),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),j&&j(p,y)},d=(p,y)=>this.stop(p,y),h=()=>yr(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Xx(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:s0(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&it.update(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Nl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=LS(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&bi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=$S(o.layoutBox,r):this.constraints=!1,this.elastic=VS(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&yr(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=BS(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!bi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=KS(s,o.root,this.visualElement.getTransformPagePoint());let u=FS(o.layout.layoutBox,l);if(r){const d=r(zS(u));this.hasMutatedConstraints=!!d,d&&(u=e0(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=yr(p=>{if(!Nl(p,r,this.currentDirection))return;let y=h&&h[p]||{};u&&(y={min:0,max:0});const v=o?200:1e6,w=o?40:1e7,C={type:"inertia",velocity:s?e[p]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(p,C)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return s.start(lh(e,s,0,r))}stopAnimation(){yr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){yr(r=>{const{drag:s}=this.getProps();if(!Nl(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-mt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!bi(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};yr(u=>{const d=this.getAxisMotionValue(u);if(d){const h=d.get();o[u]=US({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),yr(u=>{if(!Nl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set(mt(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;QS.set(this.visualElement,this);const e=this.visualElement.current,r=an(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();bi(h)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const u=on(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(yr(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=lf,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Nl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function JS(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class XS extends Yn{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new YS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ly=t=>(e,r)=>{t&&it.update(()=>t(e,r))};class ZS extends Yn{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new Xx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:ly(e),onStart:ly(r),onMove:s,onEnd:(l,u)=>{delete this.session,o&&it.update(()=>o(l,u))}}}mount(){this.removePointerDownListener=an(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eN(){const t=b.useContext(oc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:s}=t,o=b.useId();return b.useEffect(()=>s(o),[]),!e&&r?[!1,()=>r&&r(o)]:[!0]}const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const r=cy(t,e.target.x),s=cy(t,e.target.y);return`${r}% ${s}%`}},tN={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=Hn.parse(t);if(o.length>5)return s;const l=Hn.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const m=mt(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class rN extends rt.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;cj(nN),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||it.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i0(t){const[e,r]=eN(),s=b.useContext(Kf);return rt.createElement(rN,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(ex),isPresent:e,safeToRemove:r})}const nN={borderRadius:{...Co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Co,borderTopRightRadius:Co,borderBottomLeftRadius:Co,borderBottomRightRadius:Co,boxShadow:tN},o0=["TopLeft","TopRight","BottomLeft","BottomRight"],sN=o0.length,uy=t=>typeof t=="string"?parseFloat(t):t,dy=t=>typeof t=="number"||De.test(t);function iN(t,e,r,s,o,l){o?(t.opacity=mt(0,r.opacity!==void 0?r.opacity:1,oN(s)),t.opacityExit=mt(e.opacity!==void 0?e.opacity:1,0,aN(s))):l&&(t.opacity=mt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let u=0;u<sN;u++){const d=`border${o0[u]}Radius`;let h=fy(e,d),m=fy(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||dy(h)===dy(m)?(t[d]=Math.max(mt(uy(h),uy(m),s),0),(qr.test(m)||qr.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=mt(e.rotate||0,r.rotate||0,s))}function fy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oN=a0(0,.5,Px),aN=a0(.5,.95,vt);function a0(t,e,r){return s=>s<t?0:s>e?1:r(Wo(t,e,s))}function hy(t,e){t.min=e.min,t.max=e.max}function pr(t,e){hy(t.x,e.x),hy(t.y,e.y)}function my(t,e,r,s,o){return t-=e,t=Ql(t,1/r,s),o!==void 0&&(t=Ql(t,1/o,s)),t}function lN(t,e=0,r=1,s=.5,o,l=t,u=t){if(qr.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=mt(l.min,l.max,s);t===l&&(d-=e),t.min=my(t.min,e,r,d,o),t.max=my(t.max,e,r,d,o)}function py(t,e,[r,s,o],l,u){lN(t,e[r],e[s],e[o],e.scale,l,u)}const cN=["x","scaleX","originX"],uN=["y","scaleY","originY"];function gy(t,e,r,s){py(t.x,e,cN,r?r.x:void 0,s?s.x:void 0),py(t.y,e,uN,r?r.y:void 0,s?s.y:void 0)}function yy(t){return t.translate===0&&t.scale===1}function l0(t){return yy(t.x)&&yy(t.y)}function dN(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function c0(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function vy(t){return ar(t.x)/ar(t.y)}class fN{constructor(){this.members=[]}add(e){ch(this.members,e),e.scheduleRender()}remove(e){if(uh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xy(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:h,rotateX:m,rotateY:p}=r;h&&(s+=`rotate(${h}deg) `),m&&(s+=`rotateX(${m}deg) `),p&&(s+=`rotateY(${p}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const hN=(t,e)=>t.depth-e.depth;class mN{constructor(){this.children=[],this.isDirty=!1}add(e){ch(this.children,e),this.isDirty=!0}remove(e){uh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hN),this.isDirty=!1,this.children.forEach(e)}}function pN(t,e){const r=performance.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(cn(s),t(l-e))};return it.read(s,!0),()=>cn(s)}function gN(t){window.MotionDebug&&window.MotionDebug.record(t)}function yN(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vN(t,e,r){const s=Zt(t)?t:Ei(t);return s.start(lh("",s,e,r)),s.animation}const wy=["","X","Y","Z"],xN={visibility:"hidden"},by=1e3;let wN=0;const ys={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function u0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=wN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ys.totalNodes=ys.resolvedTargetDeltas=ys.recalculatedProjection=0,this.nodes.forEach(CN),this.nodes.forEach(EN),this.nodes.forEach(PN),this.nodes.forEach(jN),gN(ys)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new mN)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new dh),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yN(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=pN(v,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(Cy))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||MN,{onLayoutAnimationStart:_,onLayoutAnimationComplete:O}=p.getProps(),T=!this.targetLayout||!c0(this.targetLayout,C)||w,P=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,P);const N={...ah(j,"layout"),onPlay:_,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else v||Cy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_y);return}this.isUpdating||this.nodes.forEach(NN),this.isUpdating=!1,this.nodes.forEach(kN),this.nodes.forEach(bN),this.nodes.forEach(_N),this.clearAllSnapshots();const d=performance.now();Ft.delta=Wn(0,1e3/60,d-Ft.timestamp),Ft.timestamp=d,Ft.isProcessing=!0,xd.update.process(Ft),xd.preRender.process(Ft),xd.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SN),this.sharedNodes.forEach(AN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!l0(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&(d||gs(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),IN(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return wt();const d=u.measureViewportBox(),{scroll:h}=this.root;return h&&($n(d.x,h.offset.x),$n(d.y,h.offset.y)),d}removeElementScroll(u){const d=wt();pr(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:y}=m;if(m!==this.root&&p&&y.layoutScroll){if(p.isRoot){pr(d,u);const{scroll:v}=this.root;v&&($n(d.x,-v.offset.x),$n(d.y,-v.offset.y))}$n(d.x,p.offset.x),$n(d.y,p.offset.y)}}return d}applyTransform(u,d=!1){const h=wt();pr(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ji(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),gs(p.latestValues)&&ji(h,p.latestValues)}return gs(this.latestValues)&&ji(h,this.latestValues),h}removeTransform(u){const d=wt();pr(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!gs(m.latestValues))continue;cf(m.latestValues)&&m.updateSnapshot();const p=wt(),y=m.measurePageBox();pr(p,y),gy(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return gs(this.latestValues)&&gy(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pr(this.target,this.layout.layoutBox),r0(this.target,this.targetDelta)):pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Lo(this.relativeTargetOrigin,this.target,w.target),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ys.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cf(this.parent.latestValues)||t0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;pr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;WS(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:C}=d;if(!C){this.projectionTransform&&(this.projectionDelta=Ci(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ci(),this.projectionDeltaWithTransform=Ci());const j=this.projectionTransform;Do(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=xy(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==v||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),ys.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=Ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=wt(),w=h?h.source:void 0,C=this.layout?this.layout.source:void 0,j=w!==C,_=this.getStack(),O=!_||_.members.length<=1,T=!!(j&&!O&&this.options.crossfade===!0&&!this.path.some(ON));this.animationProgress=0;let P;this.mixTargetDelta=N=>{const I=N/1e3;jy(y.x,u.x,I),jy(y.y,u.y,I),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RN(this.relativeTarget,this.relativeTargetOrigin,v,I),P&&dN(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=wt()),pr(P,this.relativeTarget)),j&&(this.animationValues=p,iN(p,m,this.latestValues,I,T,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{$l.hasAnimatedSinceResize=!0,this.currentAnimation=vN(0,by,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(by),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=u;if(!(!d||!h||!m)){if(this!==u&&this.layout&&m&&d0(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||wt();const y=ar(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const v=ar(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+v}pr(d,h),ji(d,p),Do(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fN),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const m={};for(let p=0;p<wy.length;p++){const y="rotate"+wy[p];h[y]&&(m[y]=h[y],u.setStaticValue(y,0))}u.render();for(const p in m)u.setStaticValue(p,m[p]);u.scheduleRender()}getProjectionStyles(u){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xN;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ll(u?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Ll(u?.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=xy(this.projectionDeltaWithTransform,this.treeScale,v),p&&(m.transform=p(v,m.transform));const{x:w,y:C}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,y.animationValues?m.opacity=y===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in Vl){if(v[j]===void 0)continue;const{correct:_,applyTo:O}=Vl[j],T=m.transform==="none"?v[j]:_(v[j],y);if(O){const P=O.length;for(let N=0;N<P;N++)m[O[N]]=T}else m[j]=T}return this.options.layoutId&&(m.pointerEvents=y===this?Ll(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(_y),this.root.sharedNodes.clear()}}}function bN(t){t.updateLayout()}function _N(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,u=r.source!==t.layout.source;l==="size"?yr(y=>{const v=u?r.measuredBox[y]:r.layoutBox[y],w=ar(v);v.min=s[y].min,v.max=v.min+w}):d0(l,r.layoutBox,s)&&yr(y=>{const v=u?r.measuredBox[y]:r.layoutBox[y],w=ar(s[y]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const d=Ci();Do(d,s,r.layoutBox);const h=Ci();u?Do(h,t.applyTransform(o,!0),r.measuredBox):Do(h,s,r.layoutBox);const m=!l0(d);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const C=wt();Lo(C,r.layoutBox,v.layoutBox);const j=wt();Lo(j,s,w.layoutBox),c0(C,j)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function CN(t){ys.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SN(t){t.clearSnapshot()}function _y(t){t.clearMeasurements()}function NN(t){t.isLayoutDirty=!1}function kN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EN(t){t.resolveTargetDelta()}function PN(t){t.calcProjection()}function TN(t){t.resetRotation()}function AN(t){t.removeLeadSnapshot()}function jy(t,e,r){t.translate=mt(e.translate,0,r),t.scale=mt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Sy(t,e,r,s){t.min=mt(e.min,r.min,s),t.max=mt(e.max,r.max,s)}function RN(t,e,r,s){Sy(t.x,e.x,r.x,s),Sy(t.y,e.y,r.y,s)}function ON(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const MN={duration:.45,ease:[.4,0,.1,1]},Ny=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ky=Ny("applewebkit/")&&!Ny("chrome/")?Math.round:vt;function Ey(t){t.min=ky(t.min),t.max=ky(t.max)}function IN(t){Ey(t.x),Ey(t.y)}function d0(t,e,r){return t==="position"||t==="preserve-aspect"&&!af(vy(e),vy(r),.2)}const DN=u0({attachResizeListener:(t,e)=>on(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Td={current:void 0},f0=u0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Td.current){const t=new DN({});t.mount(window),t.setOptions({layoutScroll:!0}),Td.current=t}return Td.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LN={pan:{Feature:ZS},drag:{Feature:XS,ProjectionNode:f0,MeasureLayout:i0}},$N=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FN(t){const e=$N.exec(t);if(!e)return[,];const[,r,s]=e;return[r,s]}function df(t,e,r=1){const[s,o]=FN(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Kx(u)?parseFloat(u):u}else return Zd(o)?df(o,e,r+1):o}function UN(t,{...e},r){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(o=>{const l=o.get();if(!Zd(l))return;const u=df(l,s);u&&o.set(u)});for(const o in e){const l=e[o];if(!Zd(l))continue;const u=df(l,s);u&&(e[o]=u,r||(r={}),r[o]===void 0&&(r[o]=l))}return{target:e,transitionEnd:r}}const BN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),h0=t=>BN.has(t),VN=t=>Object.keys(t).some(h0),Py=t=>t===Ps||t===De,Ty=(t,e)=>parseFloat(t.split(", ")[e]),Ay=(t,e)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return Ty(o[1],e);{const l=s.match(/^matrix\((.+)\)$/);return l?Ty(l[1],t):0}},zN=new Set(["x","y","z"]),qN=Xo.filter(t=>!zN.has(t));function WN(t){const e=[];return qN.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Pi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ay(4,13),y:Ay(5,14)};Pi.translateX=Pi.x;Pi.translateY=Pi.y;const HN=(t,e,r)=>{const s=e.measureViewportBox(),o=e.current,l=getComputedStyle(o),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(m=>{d[m]=Pi[m](s,l)}),e.render();const h=e.measureViewportBox();return r.forEach(m=>{const p=e.getValue(m);p&&p.jump(d[m]),t[m]=Pi[m](h,l)}),t},GN=(t,e,r={},s={})=>{e={...e},s={...s};const o=Object.keys(e).filter(h0);let l=[],u=!1;const d=[];if(o.forEach(h=>{const m=t.getValue(h);if(!t.hasValue(h))return;let p=r[h],y=_o(p);const v=e[h];let w;if(ql(v)){const C=v.length,j=v[0]===null?1:0;p=v[j],y=_o(p);for(let _=j;_<C&&v[_]!==null;_++)w?rh(_o(v[_])===w):w=_o(v[_])}else w=_o(v);if(y!==w)if(Py(y)&&Py(w)){const C=m.get();typeof C=="string"&&m.set(parseFloat(C)),typeof v=="string"?e[h]=parseFloat(v):Array.isArray(v)&&w===De&&(e[h]=v.map(parseFloat))}else y?.transform&&w?.transform&&(p===0||v===0)?p===0?m.set(w.transform(p)):e[h]=y.transform(v):(u||(l=WN(t),u=!0),d.push(h),s[h]=s[h]!==void 0?s[h]:e[h],m.jump(v))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,m=HN(e,t,d);return l.length&&l.forEach(([p,y])=>{t.getValue(p).set(y)}),t.render(),ac&&h!==null&&window.scrollTo({top:h}),{target:m,transitionEnd:s}}else return{target:e,transitionEnd:s}};function KN(t,e,r,s){return VN(e)?GN(t,e,r,s):{target:e,transitionEnd:s}}const QN=(t,e,r,s)=>{const o=UN(t,e,s);return e=o.target,s=o.transitionEnd,KN(t,e,r,s)},ff={current:null},m0={current:!1};function YN(){if(m0.current=!0,!!ac)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ff.current=t.matches;t.addListener(e),e()}else ff.current=!1}function JN(t,e,r){const{willChange:s}=e;for(const o in e){const l=e[o],u=r[o];if(Zt(l))t.addValue(o,l),Kl(s)&&s.add(o);else if(Zt(u))t.addValue(o,Ei(l,{owner:t})),Kl(s)&&s.remove(o);else if(u!==l)if(t.hasValue(o)){const d=t.getValue(o);!d.hasAnimated&&d.set(l)}else{const d=t.getStaticValue(o);t.addValue(o,Ei(d!==void 0?d:l,{owner:t}))}}for(const o in r)e[o]===void 0&&t.removeValue(o);return e}const Ry=new WeakMap,p0=Object.keys(qo),XN=p0.length,Oy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ZN=Gf.length;class ek{constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>it.render(this.render,!1,!0);const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=cc(r),this.isVariantNode=Zv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(r,{});for(const y in p){const v=p[y];d[y]!==void 0&&Zt(v)&&(v.set(d[y],!1),Kl(m)&&m.add(y))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Ry.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),m0.current||YN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ff.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ry.delete(this.current),this.projection&&this.projection.unmount(),cn(this.notifyUpdate),cn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const s=Es.has(e),o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&it.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},s,o,l){let u,d;for(let h=0;h<XN;h++){const m=p0[h],{isEnabled:p,Feature:y,ProjectionNode:v,MeasureLayout:w}=qo[m];v&&(u=v),p(r)&&(!this.features[m]&&y&&(this.features[m]=new y(this)),w&&(d=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:m,drag:p,dragConstraints:y,layoutScroll:v,layoutRoot:w}=r;this.projection.setOptions({layoutId:h,layout:m,alwaysMeasureLayout:!!p||y&&bi(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:l,layoutScroll:v,layoutRoot:w})}return d}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Oy.length;s++){const o=Oy[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=e["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=JN(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<ZN;s++){const o=Gf[s],l=this.props[o];(zo(l)||l===!1)&&(r[o]=l)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Ei(r,{owner:this}),this.addValue(e,s)),s}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(r=th(this.props,s))===null||r===void 0?void 0:r[e]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Zt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new dh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class g0 extends ek{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...s},{transformValues:o},l){let u=yS(s,e||{},this);if(o&&(r&&(r=o(r)),s&&(s=o(s)),u&&(u=o(u))),l){pS(this,s,u);const d=QN(this,s,u,r);r=d.transitionEnd,s=d.target}return{transition:e,transitionEnd:r,...s}}}function tk(t){return window.getComputedStyle(t)}class rk extends g0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Es.has(r)){const s=oh(r);return s&&s.default||0}else{const s=tk(e),o=(nx(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return n0(e,r)}build(e,r,s,o){Yf(e,r,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,r){return eh(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,s,o){cx(e,r,s,o)}}class nk extends g0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Es.has(r)){const s=oh(r);return s&&s.default||0}return r=ux.has(r)?r:Wf(r),e.getAttribute(r)}measureInstanceViewportBox(){return wt()}scrapeMotionValuesFromProps(e,r){return fx(e,r)}build(e,r,s,o){Xf(e,r,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,r,s,o){dx(e,r,s,o)}mount(e){this.isSVGTag=Zf(e.tagName),super.mount(e)}}const sk=(t,e)=>Qf(t)?new nk(e,{enableHardwareAcceleration:!1}):new rk(e,{enableHardwareAcceleration:!0}),ik={layout:{ProjectionNode:f0,MeasureLayout:i0}},ok={...RS,...Xj,...LN,...ik},pe=aj((t,e)=>Fj(t,e,ok,sk));function y0(){const t=b.useRef(!1);return qf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ak(){const t=y0(),[e,r]=b.useState(0),s=b.useCallback(()=>{t.current&&r(e+1)},[e]);return[b.useCallback(()=>it.postRender(s),[s]),e]}class lk extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ck({children:t,isPresent:e}){const r=b.useId(),s=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=o.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=r;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),b.createElement(lk,{isPresent:e,childRef:s,sizeRef:o},b.cloneElement(t,{ref:s}))}const Ad=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u})=>{const d=hx(uk),h=b.useId(),m=b.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:p=>{d.set(p,!0);for(const y of d.values())if(!y)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),l?void 0:[r]);return b.useMemo(()=>{d.forEach((p,y)=>d.set(y,!1))},[r]),b.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),u==="popLayout"&&(t=b.createElement(ck,{isPresent:r},t)),b.createElement(oc.Provider,{value:m},t)};function uk(){return new Map}function dk(t){return b.useEffect(()=>()=>t(),[])}const vs=t=>t.key||"";function fk(t,e){t.forEach(r=>{const s=vs(r);e.set(s,r)})}function hk(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const zn=({children:t,custom:e,initial:r=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=b.useContext(Kf).forceRender||ak()[0],h=y0(),m=hk(t);let p=m;const y=b.useRef(new Map).current,v=b.useRef(p),w=b.useRef(new Map).current,C=b.useRef(!0);if(qf(()=>{C.current=!1,fk(m,w),v.current=p}),dk(()=>{C.current=!0,w.clear(),y.clear()}),C.current)return b.createElement(b.Fragment,null,p.map(T=>b.createElement(Ad,{key:vs(T),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:u},T)));p=[...p];const j=v.current.map(vs),_=m.map(vs),O=j.length;for(let T=0;T<O;T++){const P=j[T];_.indexOf(P)===-1&&!y.has(P)&&y.set(P,void 0)}return u==="wait"&&y.size&&(p=[]),y.forEach((T,P)=>{if(_.indexOf(P)!==-1)return;const N=w.get(P);if(!N)return;const I=j.indexOf(P);let M=T;if(!M){const D=()=>{y.delete(P);const H=Array.from(w.keys()).filter(te=>!_.includes(te));if(H.forEach(te=>w.delete(te)),v.current=m.filter(te=>{const U=vs(te);return U===P||H.includes(U)}),!y.size){if(h.current===!1)return;d(),s&&s()}};M=b.createElement(Ad,{key:vs(N),isPresent:!1,onExitComplete:D,custom:e,presenceAffectsLayout:l,mode:u},N),y.set(P,M)}p.splice(I,0,M)}),p=p.map(T=>{const P=T.key;return y.has(P)?T:b.createElement(Ad,{key:vs(T),isPresent:!0,presenceAffectsLayout:l,mode:u},T)}),b.createElement(b.Fragment,null,y.size?p:p.map(T=>b.cloneElement(T)))};function v0(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=v0(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function x0(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=v0(t))&&(s&&(s+=" "),s+=e);return s}function mk(){for(var t=0,e,r,s="";t<arguments.length;)(e=arguments[t++])&&(r=w0(e))&&(s&&(s+=" "),s+=r);return s}function w0(t){if(typeof t=="string")return t;for(var e,r="",s=0;s<t.length;s++)t[s]&&(e=w0(t[s]))&&(r&&(r+=" "),r+=e);return r}var fh="-";function pk(t){var e=yk(t),r=t.conflictingClassGroups,s=t.conflictingClassGroupModifiers,o=s===void 0?{}:s;function l(d){var h=d.split(fh);return h[0]===""&&h.length!==1&&h.shift(),b0(h,e)||gk(d)}function u(d,h){var m=r[d]||[];return h&&o[d]?[].concat(m,o[d]):m}return{getClassGroupId:l,getConflictingClassGroupIds:u}}function b0(t,e){if(t.length===0)return e.classGroupId;var r=t[0],s=e.nextPart.get(r),o=s?b0(t.slice(1),s):void 0;if(o)return o;if(e.validators.length!==0){var l=t.join(fh);return e.validators.find(function(u){var d=u.validator;return d(l)})?.classGroupId}}var My=/^\[(.+)\]$/;function gk(t){if(My.test(t)){var e=My.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function yk(t){var e=t.theme,r=t.prefix,s={nextPart:new Map,validators:[]},o=xk(Object.entries(t.classGroups),r);return o.forEach(function(l){var u=l[0],d=l[1];hf(d,s,u,e)}),s}function hf(t,e,r,s){t.forEach(function(o){if(typeof o=="string"){var l=o===""?e:Iy(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(vk(o)){hf(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(u){var d=u[0],h=u[1];hf(h,Iy(e,d),r,s)})})}function Iy(t,e){var r=t;return e.split(fh).forEach(function(s){r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r}function vk(t){return t.isThemeGetter}function xk(t,e){return e?t.map(function(r){var s=r[0],o=r[1],l=o.map(function(u){return typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(function(d){var h=d[0],m=d[1];return[e+h,m]})):u});return[s,l]}):t}function wk(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,s=new Map;function o(l,u){r.set(l,u),e++,e>t&&(e=0,s=r,r=new Map)}return{get:function(u){var d=r.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return o(u,d),d},set:function(u,d){r.has(u)?r.set(u,d):o(u,d)}}}var _0="!";function bk(t){var e=t.separator||":",r=e.length===1,s=e[0],o=e.length;return function(u){for(var d=[],h=0,m=0,p,y=0;y<u.length;y++){var v=u[y];if(h===0){if(v===s&&(r||u.slice(y,y+o)===e)){d.push(u.slice(m,y)),m=y+o;continue}if(v==="/"){p=y;continue}}v==="["?h++:v==="]"&&h--}var w=d.length===0?u:u.substring(m),C=w.startsWith(_0),j=C?w.substring(1):w,_=p&&p>m?p-m:void 0;return{modifiers:d,hasImportantModifier:C,baseClassName:j,maybePostfixModifierPosition:_}}}function _k(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(s){var o=s[0]==="[";o?(e.push.apply(e,r.sort().concat([s])),r=[]):r.push(s)}),e.push.apply(e,r.sort()),e}function Ck(t){return{cache:wk(t.cacheSize),splitModifiers:bk(t),...pk(t)}}var jk=/\s+/;function Sk(t,e){var r=e.splitModifiers,s=e.getClassGroupId,o=e.getConflictingClassGroupIds,l=new Set;return t.trim().split(jk).map(function(u){var d=r(u),h=d.modifiers,m=d.hasImportantModifier,p=d.baseClassName,y=d.maybePostfixModifierPosition,v=s(y?p.substring(0,y):p),w=!!y;if(!v){if(!y)return{isTailwindClass:!1,originalClassName:u};if(v=s(p),!v)return{isTailwindClass:!1,originalClassName:u};w=!1}var C=_k(h).join(":"),j=m?C+_0:C;return{isTailwindClass:!0,modifierId:j,classGroupId:v,originalClassName:u,hasPostfixModifier:w}}).reverse().filter(function(u){if(!u.isTailwindClass)return!0;var d=u.modifierId,h=u.classGroupId,m=u.hasPostfixModifier,p=d+h;return l.has(p)?!1:(l.add(p),o(h,m).forEach(function(y){return l.add(d+y)}),!0)}).reverse().map(function(u){return u.originalClassName}).join(" ")}function Nk(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var s,o,l,u=d;function d(m){var p=e[0],y=e.slice(1),v=y.reduce(function(w,C){return C(w)},p());return s=Ck(v),o=s.cache.get,l=s.cache.set,u=h,h(m)}function h(m){var p=o(m);if(p)return p;var y=Sk(m,s);return l(m,y),y}return function(){return u(mk.apply(null,arguments))}}function lt(t){var e=function(s){return s[t]||[]};return e.isThemeGetter=!0,e}var C0=/^\[(?:([a-z-]+):)?(.+)\]$/i,kk=/^\d+\/\d+$/,Ek=new Set(["px","full","screen"]),Pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ak=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Er(t){return _s(t)||Ek.has(t)||kk.test(t)||mf(t)}function mf(t){return Ts(t,"length",Lk)}function Rk(t){return Ts(t,"size",j0)}function Ok(t){return Ts(t,"position",j0)}function Mk(t){return Ts(t,"url",$k)}function kl(t){return Ts(t,"number",_s)}function _s(t){return!Number.isNaN(Number(t))}function Ik(t){return t.endsWith("%")&&_s(t.slice(0,-1))}function jo(t){return Dy(t)||Ts(t,"number",Dy)}function We(t){return C0.test(t)}function So(){return!0}function Mn(t){return Pk.test(t)}function Dk(t){return Ts(t,"",Fk)}function Ts(t,e,r){var s=C0.exec(t);return s?s[1]?s[1]===e:r(s[2]):!1}function Lk(t){return Tk.test(t)}function j0(){return!1}function $k(t){return t.startsWith("url(")}function Dy(t){return Number.isInteger(Number(t))}function Fk(t){return Ak.test(t)}function Uk(){var t=lt("colors"),e=lt("spacing"),r=lt("blur"),s=lt("brightness"),o=lt("borderColor"),l=lt("borderRadius"),u=lt("borderSpacing"),d=lt("borderWidth"),h=lt("contrast"),m=lt("grayscale"),p=lt("hueRotate"),y=lt("invert"),v=lt("gap"),w=lt("gradientColorStops"),C=lt("gradientColorStopPositions"),j=lt("inset"),_=lt("margin"),O=lt("opacity"),T=lt("padding"),P=lt("saturate"),N=lt("scale"),I=lt("sepia"),M=lt("skew"),D=lt("space"),H=lt("translate"),te=function(){return["auto","contain","none"]},U=function(){return["auto","hidden","clip","visible","scroll"]},me=function(){return["auto",We,e]},se=function(){return[We,e]},re=function(){return["",Er]},B=function(){return["auto",_s,We]},we=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},J=function(){return["solid","dashed","dotted","double","none"]},fe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},q=function(){return["start","end","center","between","around","evenly","stretch"]},ie=function(){return["","0",We]},ne=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},E=function(){return[_s,kl]},L=function(){return[_s,We]};return{cacheSize:500,theme:{colors:[So],spacing:[Er],blur:["none","",Mn,We],brightness:E(),borderColor:[t],borderRadius:["none","","full",Mn,We],borderSpacing:se(),borderWidth:re(),contrast:E(),grayscale:ie(),hueRotate:L(),invert:ie(),gap:se(),gradientColorStops:[t],gradientColorStopPositions:[Ik,mf],inset:me(),margin:me(),opacity:E(),padding:se(),saturate:E(),scale:E(),sepia:ie(),skew:L(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Mn]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(we(),[We])}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jo]}],basis:[{basis:me()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",jo]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",jo]},We]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[jo]},We]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(q())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(q(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(q(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",We,e]}],"min-w":[{"min-w":["min","max","fit",We,Er]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Mn]},Mn,We]}],h:[{h:[We,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",We,Er]}],"max-h":[{"max-h":[We,e,"min","max","fit"]}],"font-size":[{text:["base",Mn,mf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kl]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",_s,kl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",We,Er]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(J(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Er]}],"underline-offset":[{"underline-offset":["auto",We,Er]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(we(),[Ok])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[].concat(J(),["hidden"])}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:J()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(J())}],"outline-offset":[{"outline-offset":[We,Er]}],"outline-w":[{outline:[Er]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Er]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mn,Dk]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":fe()}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Mn,We]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[P]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[jo,We]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Er,kl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Bk=Nk(Uk);function As(...t){return Bk(x0(t))}var hc=Bv();const Vk=ks(hc);function St(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Ly(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function S0(...t){return e=>{let r=!1;const s=t.map(o=>{const l=Ly(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Ly(t[o],null)}}}}function Rr(...t){return b.useCallback(S0(...t),t)}function ra(t,e=[]){let r=[];function s(l,u){const d=b.createContext(u),h=r.length;r=[...r,u];const m=y=>{const{scope:v,children:w,...C}=y,j=v?.[t]?.[h]||d,_=b.useMemo(()=>C,Object.values(C));return a.jsx(j.Provider,{value:_,children:w})};m.displayName=l+"Provider";function p(y,v){const w=v?.[t]?.[h]||d,C=b.useContext(w);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=r.map(u=>b.createContext(u));return function(d){const h=d?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,zk(o,...e)]}function zk(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Yl(t){const e=Wk(t),r=b.forwardRef((s,o)=>{const{children:l,...u}=s,d=b.Children.toArray(l),h=d.find(Gk);if(h){const m=h.props.children,p=d.map(y=>y===h?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return a.jsx(e,{...u,ref:o,children:b.isValidElement(m)?b.cloneElement(m,void 0,p):null})}return a.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var qk=Yl("Slot");function Wk(t){const e=b.forwardRef((r,s)=>{const{children:o,...l}=r;if(b.isValidElement(o)){const u=Qk(o),d=Kk(l,o.props);return o.type!==b.Fragment&&(d.ref=s?S0(s,u):u),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var N0=Symbol("radix.slottable");function Hk(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=N0,e}function Gk(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===N0}function Kk(t,e){const r={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?r[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[s]=o):s==="style"?r[s]={...o,...l}:s==="className"&&(r[s]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function Qk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Yk(t){const e=t+"CollectionProvider",[r,s]=ra(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:_,children:O}=j,T=rt.useRef(null),P=rt.useRef(new Map).current;return a.jsx(o,{scope:_,itemMap:P,collectionRef:T,children:O})};u.displayName=e;const d=t+"CollectionSlot",h=Yl(d),m=rt.forwardRef((j,_)=>{const{scope:O,children:T}=j,P=l(d,O),N=Rr(_,P.collectionRef);return a.jsx(h,{ref:N,children:T})});m.displayName=d;const p=t+"CollectionItemSlot",y="data-radix-collection-item",v=Yl(p),w=rt.forwardRef((j,_)=>{const{scope:O,children:T,...P}=j,N=rt.useRef(null),I=Rr(_,N),M=l(p,O);return rt.useEffect(()=>(M.itemMap.set(N,{ref:N,...P}),()=>void M.itemMap.delete(N))),a.jsx(v,{[y]:"",ref:I,children:T})});w.displayName=p;function C(j){const _=l(t+"CollectionConsumer",j);return rt.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const P=Array.from(T.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((M,D)=>P.indexOf(M.ref.current)-P.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:u,Slot:m,ItemSlot:w},C,s]}var Jk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=Jk.reduce((t,e)=>{const r=Yl(`Primitive.${e}`),s=b.forwardRef((o,l)=>{const{asChild:u,...d}=o,h=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function k0(t,e){t&&hc.flushSync(()=>t.dispatchEvent(e))}function un(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>e.current?.(...r),[])}function Xk(t,e=globalThis?.document){const r=un(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var Zk="DismissableLayer",pf="dismissableLayer.update",e2="dismissableLayer.pointerDownOutside",t2="dismissableLayer.focusOutside",$y,E0=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=t,m=b.useContext(E0),[p,y]=b.useState(null),v=p?.ownerDocument??globalThis?.document,[,w]=b.useState({}),C=Rr(e,D=>y(D)),j=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=j.indexOf(_),T=p?j.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,N=T>=O,I=n2(D=>{const H=D.target,te=[...m.branches].some(U=>U.contains(H));!N||te||(o?.(D),u?.(D),D.defaultPrevented||d?.())},v),M=s2(D=>{const H=D.target;[...m.branches].some(U=>U.contains(H))||(l?.(D),u?.(D),D.defaultPrevented||d?.())},v);return Xk(D=>{T===m.layers.size-1&&(s?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},v),b.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($y=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Fy(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=$y)}},[p,v,r,m]),b.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Fy())},[p,m]),b.useEffect(()=>{const D=()=>w({});return document.addEventListener(pf,D),()=>document.removeEventListener(pf,D)},[]),a.jsx(Ot.div,{...h,ref:C,style:{pointerEvents:P?N?"auto":"none":void 0,...t.style},onFocusCapture:St(t.onFocusCapture,M.onFocusCapture),onBlurCapture:St(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:St(t.onPointerDownCapture,I.onPointerDownCapture)})});hh.displayName=Zk;var r2="DismissableLayerBranch",P0=b.forwardRef((t,e)=>{const r=b.useContext(E0),s=b.useRef(null),o=Rr(e,s);return b.useEffect(()=>{const l=s.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),a.jsx(Ot.div,{...t,ref:o})});P0.displayName=r2;function n2(t,e=globalThis?.document){const r=un(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let h=function(){T0(e2,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function s2(t,e=globalThis?.document){const r=un(t),s=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!s.current&&T0(t2,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Fy(){const t=new CustomEvent(pf);document.dispatchEvent(t)}function T0(t,e,r,{discrete:s}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?k0(o,l):o.dispatchEvent(l)}var i2=hh,o2=P0,xr=globalThis?.document?b.useLayoutEffect:()=>{},a2="Portal",mh=b.forwardRef((t,e)=>{const{container:r,...s}=t,[o,l]=b.useState(!1);xr(()=>l(!0),[]);const u=r||o&&globalThis?.document?.body;return u?Vk.createPortal(a.jsx(Ot.div,{...s,ref:e}),u):null});mh.displayName=a2;function l2(t,e){return b.useReducer((r,s)=>e[r][s]??r,t)}var mc=t=>{const{present:e,children:r}=t,s=c2(e),o=typeof r=="function"?r({present:s.isPresent}):b.Children.only(r),l=Rr(s.ref,u2(o));return typeof r=="function"||s.isPresent?b.cloneElement(o,{ref:l}):null};mc.displayName="Presence";function c2(t){const[e,r]=b.useState(),s=b.useRef(null),o=b.useRef(t),l=b.useRef("none"),u=t?"mounted":"unmounted",[d,h]=l2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=El(s.current);l.current=d==="mounted"?m:"none"},[d]),xr(()=>{const m=s.current,p=o.current;if(p!==t){const v=l.current,w=El(m);t?h("MOUNT"):w==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),xr(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,y=w=>{const j=El(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&j&&(h("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=w=>{w.target===e&&(l.current=El(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function El(t){return t?.animationName||"none"}function u2(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var d2=Uv[" useInsertionEffect ".trim().toString()]||xr;function A0({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[o,l,u]=f2({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:o;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const y=p.current;y!==d&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const m=b.useCallback(p=>{if(d){const y=h2(p)?p(t):p;y!==t&&u.current?.(y)}else l(p)},[d,t,l,u]);return[h,m]}function f2({defaultProp:t,onChange:e}){const[r,s]=b.useState(t),o=b.useRef(r),l=b.useRef(e);return d2(()=>{l.current=e},[e]),b.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,s,l]}function h2(t){return typeof t=="function"}var m2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p2="VisuallyHidden",pc=b.forwardRef((t,e)=>a.jsx(Ot.span,{...t,ref:e,style:{...m2,...t.style}}));pc.displayName=p2;var g2=pc,ph="ToastProvider",[gh,y2,v2]=Yk("Toast"),[R0]=ra("Toast",[v2]),[x2,gc]=R0(ph),O0=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:u}=t,[d,h]=b.useState(null),[m,p]=b.useState(0),y=b.useRef(!1),v=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ph}\`. Expected non-empty \`string\`.`),a.jsx(gh.Provider,{scope:e,children:a.jsx(x2,{scope:e,label:r,duration:s,swipeDirection:o,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:b.useCallback(()=>p(w=>w+1),[]),onToastRemove:b.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:v,children:u})})};O0.displayName=ph;var M0="ToastViewport",w2=["F8"],gf="toast.viewportPause",yf="toast.viewportResume",I0=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=w2,label:o="Notifications ({hotkey})",...l}=t,u=gc(M0,r),d=y2(r),h=b.useRef(null),m=b.useRef(null),p=b.useRef(null),y=b.useRef(null),v=Rr(e,y,u.onViewportChange),w=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;b.useEffect(()=>{const _=O=>{s.length!==0&&s.every(P=>O[P]||O.code===P)&&y.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),b.useEffect(()=>{const _=h.current,O=y.current;if(C&&_&&O){const T=()=>{if(!u.isClosePausedRef.current){const M=new CustomEvent(gf);O.dispatchEvent(M),u.isClosePausedRef.current=!0}},P=()=>{if(u.isClosePausedRef.current){const M=new CustomEvent(yf);O.dispatchEvent(M),u.isClosePausedRef.current=!1}},N=M=>{!_.contains(M.relatedTarget)&&P()},I=()=>{_.contains(document.activeElement)||P()};return _.addEventListener("focusin",T),_.addEventListener("focusout",N),_.addEventListener("pointermove",T),_.addEventListener("pointerleave",I),window.addEventListener("blur",T),window.addEventListener("focus",P),()=>{_.removeEventListener("focusin",T),_.removeEventListener("focusout",N),_.removeEventListener("pointermove",T),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",T),window.removeEventListener("focus",P)}}},[C,u.isClosePausedRef]);const j=b.useCallback(({tabbingDirection:_})=>{const T=d().map(P=>{const N=P.ref.current,I=[N,...O2(N)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?T.reverse():T).flat()},[d]);return b.useEffect(()=>{const _=y.current;if(_){const O=T=>{const P=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!P){const I=document.activeElement,M=T.shiftKey;if(T.target===_&&M){m.current?.focus();return}const te=j({tabbingDirection:M?"backwards":"forwards"}),U=te.findIndex(me=>me===I);Rd(te.slice(U+1))?T.preventDefault():M?m.current?.focus():p.current?.focus()}};return _.addEventListener("keydown",O),()=>_.removeEventListener("keydown",O)}},[d,j]),a.jsxs(o2,{ref:h,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&a.jsx(vf,{ref:m,onFocusFromOutsideViewport:()=>{const _=j({tabbingDirection:"forwards"});Rd(_)}}),a.jsx(gh.Slot,{scope:r,children:a.jsx(Ot.ol,{tabIndex:-1,...l,ref:v})}),C&&a.jsx(vf,{ref:p,onFocusFromOutsideViewport:()=>{const _=j({tabbingDirection:"backwards"});Rd(_)}})]})});I0.displayName=M0;var D0="ToastFocusProxy",vf=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=t,l=gc(D0,r);return a.jsx(pc,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!l.viewport?.contains(d)&&s()}})});vf.displayName=D0;var na="Toast",b2="toast.swipeStart",_2="toast.swipeMove",C2="toast.swipeCancel",j2="toast.swipeEnd",L0=b.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:l,...u}=t,[d,h]=A0({prop:s,defaultProp:o??!0,onChange:l,caller:na});return a.jsx(mc,{present:r||d,children:a.jsx(k2,{open:d,...u,ref:e,onClose:()=>h(!1),onPause:un(t.onPause),onResume:un(t.onResume),onSwipeStart:St(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:St(t.onSwipeMove,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:St(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:St(t.onSwipeEnd,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});L0.displayName=na;var[S2,N2]=R0(na,{onClose(){}}),k2=b.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:l,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:y,onSwipeCancel:v,onSwipeEnd:w,...C}=t,j=gc(na,r),[_,O]=b.useState(null),T=Rr(e,B=>O(B)),P=b.useRef(null),N=b.useRef(null),I=o||j.duration,M=b.useRef(0),D=b.useRef(I),H=b.useRef(0),{onToastAdd:te,onToastRemove:U}=j,me=un(()=>{_?.contains(document.activeElement)&&j.viewport?.focus(),u()}),se=b.useCallback(B=>{!B||B===1/0||(window.clearTimeout(H.current),M.current=new Date().getTime(),H.current=window.setTimeout(me,B))},[me]);b.useEffect(()=>{const B=j.viewport;if(B){const we=()=>{se(D.current),m?.()},J=()=>{const fe=new Date().getTime()-M.current;D.current=D.current-fe,window.clearTimeout(H.current),h?.()};return B.addEventListener(gf,J),B.addEventListener(yf,we),()=>{B.removeEventListener(gf,J),B.removeEventListener(yf,we)}}},[j.viewport,I,h,m,se]),b.useEffect(()=>{l&&!j.isClosePausedRef.current&&se(I)},[l,I,j.isClosePausedRef,se]),b.useEffect(()=>(te(),()=>U()),[te,U]);const re=b.useMemo(()=>_?q0(_):null,[_]);return j.viewport?a.jsxs(a.Fragment,{children:[re&&a.jsx(E2,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:re}),a.jsx(S2,{scope:r,onClose:me,children:hc.createPortal(a.jsx(gh.ItemSlot,{scope:r,children:a.jsx(i2,{asChild:!0,onEscapeKeyDown:St(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||me(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ot.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,...C,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:St(t.onKeyDown,B=>{B.key==="Escape"&&(d?.(B.nativeEvent),B.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,me()))}),onPointerDown:St(t.onPointerDown,B=>{B.button===0&&(P.current={x:B.clientX,y:B.clientY})}),onPointerMove:St(t.onPointerMove,B=>{if(!P.current)return;const we=B.clientX-P.current.x,J=B.clientY-P.current.y,fe=!!N.current,q=["left","right"].includes(j.swipeDirection),ie=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ne=q?ie(0,we):0,E=q?0:ie(0,J),L=B.pointerType==="touch"?10:2,Q={x:ne,y:E},oe={originalEvent:B,delta:Q};fe?(N.current=Q,Pl(_2,y,oe,{discrete:!1})):Uy(Q,j.swipeDirection,L)?(N.current=Q,Pl(b2,p,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(we)>L||Math.abs(J)>L)&&(P.current=null)}),onPointerUp:St(t.onPointerUp,B=>{const we=N.current,J=B.target;if(J.hasPointerCapture(B.pointerId)&&J.releasePointerCapture(B.pointerId),N.current=null,P.current=null,we){const fe=B.currentTarget,q={originalEvent:B,delta:we};Uy(we,j.swipeDirection,j.swipeThreshold)?Pl(j2,w,q,{discrete:!0}):Pl(C2,v,q,{discrete:!0}),fe.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),E2=t=>{const{__scopeToast:e,children:r,...s}=t,o=gc(na,e),[l,u]=b.useState(!1),[d,h]=b.useState(!1);return A2(()=>u(!0)),b.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:a.jsx(mh,{asChild:!0,children:a.jsx(pc,{...s,children:l&&a.jsxs(a.Fragment,{children:[o.label," ",r]})})})},P2="ToastTitle",$0=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(Ot.div,{...s,ref:e})});$0.displayName=P2;var T2="ToastDescription",F0=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(Ot.div,{...s,ref:e})});F0.displayName=T2;var U0="ToastAction",B0=b.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?a.jsx(z0,{altText:r,asChild:!0,children:a.jsx(yh,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${U0}\`. Expected non-empty \`string\`.`),null)});B0.displayName=U0;var V0="ToastClose",yh=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,o=N2(V0,r);return a.jsx(z0,{asChild:!0,children:a.jsx(Ot.button,{type:"button",...s,ref:e,onClick:St(t.onClick,o.onClose)})})});yh.displayName=V0;var z0=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...o}=t;return a.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:e})});function q0(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),R2(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",l=s.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...q0(s))}}),e}function Pl(t,e,r,{discrete:s}){const o=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?k0(o,l):o.dispatchEvent(l)}var Uy=(t,e,r=0)=>{const s=Math.abs(t.x),o=Math.abs(t.y),l=s>o;return e==="left"||e==="right"?l&&s>r:!l&&o>r};function A2(t=()=>{}){const e=un(t);xr(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function R2(t){return t.nodeType===t.ELEMENT_NODE}function O2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Rd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var M2=O0,W0=I0,H0=L0,G0=$0,K0=F0,Q0=B0,Y0=yh;const By=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Vy=x0,J0=(t,e)=>r=>{var s;if(e?.variants==null)return Vy(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const p=r?.[m],y=l?.[m];if(p===null)return null;const v=By(p)||By(y);return o[m][v]}),d=r&&Object.entries(r).reduce((m,p)=>{let[y,v]=p;return v===void 0||(m[y]=v),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,p)=>{let{class:y,className:v,...w}=p;return Object.entries(w).every(C=>{let[j,_]=C;return Array.isArray(_)?_.includes({...l,...d}[j]):{...l,...d}[j]===_})?[...m,y,v]:m},[]);return Vy(t,u,h,r?.class,r?.className)};var I2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=(t,e)=>{const r=b.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...h},m)=>b.createElement("svg",{ref:m,...I2,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:`lucide lucide-${D2(t)}`,...h},[...e.map(([p,y])=>b.createElement(p,y)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${t}`,r},yi=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),vi=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),L2=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zy=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),xf=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qy=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),$2=Te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ro=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),wf=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),F2=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vh=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),xh=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bf=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Wy=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),U2=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),qn=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),B2=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Jl=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),V2=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),z2=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),X0=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),q2=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),W2=Te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),No=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),H2=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Z0=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),G2=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),K2=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Q2=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Y2=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),_f=Te("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),J2=Te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Ss=Te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Od=Te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Fl=Te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),js=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Fn=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Un=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ew=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),X2=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Z2=Te("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),eE=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),tE=Te("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Md=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ar=Te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Ho=Te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),$o=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),rE=Te("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Fo=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ul=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Hy=Te("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),tw=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),nE=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),sE=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),iE=Te("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),yc=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Tl=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Gn=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oE=M2,rw=rt.forwardRef(({className:t,...e},r)=>a.jsx(W0,{ref:r,className:As("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rw.displayName=W0.displayName;const aE=J0("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nw=rt.forwardRef(({className:t,variant:e,...r},s)=>a.jsx(H0,{ref:s,className:As(aE({variant:e}),t),...r}));nw.displayName=H0.displayName;const lE=rt.forwardRef(({className:t,...e},r)=>a.jsx(Q0,{ref:r,className:As("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lE.displayName=Q0.displayName;const sw=rt.forwardRef(({className:t,...e},r)=>a.jsx(Y0,{ref:r,className:As("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),...e,children:a.jsx(Gn,{className:"h-4 w-4"})}));sw.displayName=Y0.displayName;const iw=rt.forwardRef(({className:t,...e},r)=>a.jsx(G0,{ref:r,className:As("text-sm font-semibold",t),...e}));iw.displayName=G0.displayName;const ow=rt.forwardRef(({className:t,...e},r)=>a.jsx(K0,{ref:r,className:As("text-sm opacity-90",t),...e}));ow.displayName=K0.displayName;const cE=1;let Id=0;function uE(){return Id=(Id+1)%Number.MAX_VALUE,Id.toString()}const qt={state:{toasts:[]},listeners:[],getState:()=>qt.state,setState:t=>{typeof t=="function"?qt.state=t(qt.state):qt.state={...qt.state,...t},qt.listeners.forEach(e=>e(qt.state))},subscribe:t=>(qt.listeners.push(t),()=>{qt.listeners=qt.listeners.filter(e=>e!==t)})},ue=({...t})=>{const e=uE(),r=o=>qt.setState(l=>({...l,toasts:l.toasts.map(u=>u.id===e?{...u,...o}:u)})),s=()=>qt.setState(o=>({...o,toasts:o.toasts.filter(l=>l.id!==e)}));return qt.setState(o=>({...o,toasts:[{...t,id:e,dismiss:s},...o.toasts].slice(0,cE)})),{id:e,dismiss:s,update:r}};function dE(){const[t,e]=b.useState(qt.getState());return b.useEffect(()=>qt.subscribe(s=>{e(s)}),[]),b.useEffect(()=>{const r=[];return t.toasts.forEach(s=>{if(s.duration===1/0)return;const o=setTimeout(()=>{s.dismiss()},s.duration||5e3);r.push(o)}),()=>{r.forEach(s=>clearTimeout(s))}},[t.toasts]),{toast:ue,toasts:t.toasts}}function fE(){const{toasts:t}=dE();return a.jsxs(oE,{children:[t.map(({id:e,title:r,description:s,action:o,dismiss:l,...u})=>a.jsxs(nw,{...u,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(iw,{children:r}),s&&a.jsx(ow,{children:s})]}),o,a.jsx(sw,{})]},e)),a.jsx(rw,{})]})}const hE="modulepreload",mE=function(t){return"/"+t},Gy={},Oi=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=m(r.map(p=>{if(p=mE(p),p in Gy)return;Gy[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":hE,y||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((C,j)=>{w.addEventListener("load",C),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},pE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class wh extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Ky extends wh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qy extends wh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yy extends wh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cf||(Cf={}));var gE=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class yE{constructor(e,{headers:r={},customFetch:s,region:o=Cf.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=pE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return gE(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:u,signal:d}=r;let h={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:d}).catch(_=>{throw _.name==="AbortError"?_:new Ky(_)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Qy(v);if(!v.ok)throw new Yy(v);let C=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return C==="application/json"?j=yield v.json():C==="application/octet-stream"?j=yield v.blob():C==="text/event-stream"?j=v:C==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Ky(o)}:{data:null,error:o,response:o instanceof Yy||o instanceof Qy?o.context:void 0}}})}}var Tt={},ai={},li={},ci={},ui={},di={},vE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=vE();const xE=Ti.fetch,aw=Ti.fetch.bind(Ti),lw=Ti.Headers,wE=Ti.Request,bE=Ti.Response,Mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:lw,Request:wE,Response:bE,default:aw,fetch:xE},Symbol.toStringTag,{value:"Module"})),_E=pC(Mi);var Al={},Jy;function cw(){if(Jy)return Al;Jy=1,Object.defineProperty(Al,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Al.default=t,Al}var Xy;function uw(){if(Xy)return di;Xy=1;var t=di&&di.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(di,"__esModule",{value:!0});const e=t(_E),r=t(cw());class s{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,v,w;let C=null,j=null,_=null,O=m.status,T=m.statusText;if(m.ok){if(this.method!=="HEAD"){const M=await m.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=M:j=JSON.parse(M))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),I=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&I&&I.length>1&&(_=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(C={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,_=null,O=406,T="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const N=await m.text();try{C=JSON.parse(N),Array.isArray(C)&&m.status===404&&(j=[],C=null,O=200,T="OK")}catch{m.status===404&&N===""?(O=204,T="No Content"):C={message:N}}if(C&&this.isMaybeSingle&&(!((w=C?.details)===null||w===void 0)&&w.includes("0 rows"))&&(C=null,O=200,T="OK"),C&&this.shouldThrowOnError)throw new r.default(C)}return{error:C,data:j,count:_,status:O,statusText:T}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,v;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return di.default=s,di}var Zy;function dw(){if(Zy)return ui;Zy=1;var t=ui&&ui.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ui,"__esModule",{value:!0});const e=t(uw());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const y=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ui.default=r,ui}var ev;function bh(){if(ev)return ci;ev=1;var t=ci&&ci.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ci,"__esModule",{value:!0});const e=t(dw());class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${m}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return ci.default=r,ci}var tv;function fw(){if(tv)return li;tv=1;var t=li&&li.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(li,"__esModule",{value:!0});const e=t(bh());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let h=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(y.length>0){const v=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return li.default=r,li}var rv;function CE(){if(rv)return ai;rv=1;var t=ai&&ai.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ai,"__esModule",{value:!0});const e=t(fw()),r=t(bh());class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:m}={}){var p;let y;const v=new URL(`${this.url}/rpc/${l}`);let w;d||h?(y=d?"HEAD":"GET",Object.entries(u).filter(([j,_])=>_!==void 0).map(([j,_])=>[j,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([j,_])=>{v.searchParams.append(j,_)})):(y="POST",w=u);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new r.default({method:y,url:v,headers:C,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return ai.default=s,ai}var nv;function jE(){if(nv)return Tt;nv=1;var t=Tt&&Tt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const e=t(CE());Tt.PostgrestClient=e.default;const r=t(fw());Tt.PostgrestQueryBuilder=r.default;const s=t(bh());Tt.PostgrestFilterBuilder=s.default;const o=t(dw());Tt.PostgrestTransformBuilder=o.default;const l=t(uw());Tt.PostgrestBuilder=l.default;const u=t(cw());return Tt.PostgrestError=u.default,Tt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Tt}var SE=jE();const NE=ks(SE),{PostgrestClient:kE,PostgrestQueryBuilder:oO,PostgrestFilterBuilder:aO,PostgrestTransformBuilder:lO,PostgrestBuilder:cO,PostgrestError:uO}=NE;class EE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const PE="2.15.5",TE=`realtime-js/${PE}`,AE="1.0.0",jf=1e4,RE=1e3,OE=100;var Uo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Uo||(Uo={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var Pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pr||(Pr={}));var Sf;(function(t){t.websocket="websocket"})(Sf||(Sf={}));var ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ws||(ws={}));class ME{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+o));u=u+o;const h=s.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class hw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const sv=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,u)=>(l[u]=IE(u,t,e,o),l),{})},IE=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=r[t];return l&&!s.includes(l)?mw(l,u):Nf(u)},mw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return FE(e,r)}switch(t){case st.bool:return DE(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return LE(e);case st.json:case st.jsonb:return $E(e);case st.timestamp:return UE(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Nf(e);default:return Nf(e)}},Nf=t=>t,DE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$E=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},FE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>mw(e,d))}return t},UE=t=>typeof t=="string"?t.replace(" ","T"):t,pw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Dd{constructor(e,r,s={},o=jf){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iv||(iv={}));class Bo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Bo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bo.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{u[m]||(h[m]=p)}),this.map(u,(m,p)=>{const y=l[m];if(y){const v=p.map(_=>_.presence_ref),w=y.map(_=>_.presence_ref),C=p.filter(_=>w.indexOf(_.presence_ref)<0),j=y.filter(_=>v.indexOf(_.presence_ref)<0);C.length>0&&(d[m]=C),j.length>0&&(h[m]=j)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const y=e[d].map(w=>w.presence_ref),v=p.filter(w=>y.indexOf(w.presence_ref)<0);e[d].unshift(...v)}s(d,p,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ov;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ov||(ov={}));var Vo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vo||(Vo={}));var sn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));class _h{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dd(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new hw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Bo(this),this.broadcastEndpointURL=pw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Vo.PRESENCE]&&this.bindings[Vo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},v={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(sn.CHANNEL_ERROR,w)),this._onClose(()=>e?.(sn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket.setAuth(),w===void 0){e?.(sn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_=(C=j?.length)!==null&&C!==void 0?C:0,O=[];for(let T=0;T<_;T++){const P=j[T],{filter:{event:N,schema:I,table:M,filter:D}}=P,H=w&&w[T];if(H&&H.event===N&&H.schema===I&&H.table===M&&H.filter===D)O.push(Object.assign(Object.assign({},P),{id:H.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(sn.SUBSCRIBED);return}}).receive("error",w=>{this.state=jt.errored,e?.(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===jt.joined&&e===Vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Dd(this,Pr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dd(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>OE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=Pr;if(s&&[d,h,m,p].indexOf(u)>=0&&s!==this._joinRef())return;let v=this._onMessage(u,r,s);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var C,j,_;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((_=(j=w.filter)===null||j===void 0?void 0:j.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(w=>w.callback(v,s)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var C,j,_,O,T,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const N=w.id,I=(C=w.filter)===null||C===void 0?void 0:C.event;return N&&((j=r.ids)===null||j===void 0?void 0:j.includes(N))&&(I==="*"||I?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const N=(T=(O=w?.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return N==="*"||N===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof v=="object"&&"ids"in v){const C=v.data,{schema:j,table:_,commit_timestamp:O,type:T,errors:P}=C;v=Object.assign(Object.assign({},{schema:j,table:_,commit_timestamp:O,eventType:T,new:{},old:{},errors:P}),this._getPayloadRecords(C))}w.callback(v,s)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&_h.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pr.close,{},e)}_onError(e){this._on(Pr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=sv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=sv(e.columns,e.old_record)),r}}const Ld=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BE=[1e3,2e3,5e3,1e4],VE=1e4,zE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qE{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jf,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ld,this.ref=0,this.reconnectTimer=null,this.logger=Ld,this.conn=null,this.sendBuffer=[],this.serializer=new ME,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Oi(async()=>{const{default:d}=await Promise.resolve().then(()=>Mi);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Sf.websocket}`,this.httpEndpoint=pw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AE}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Uo.connecting:return ws.Connecting;case Uo.open:return ws.Open;case Uo.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new _h(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([zE],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:TE};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Pr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,u,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:jf,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Rl.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Ld,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>BE[y-1]||VE),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((y,v)=>v(JSON.stringify(y))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ch extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WE extends Ch{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kf extends Ch{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var HE=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const gw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},GE=()=>HE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oi(()=>Promise.resolve().then(()=>Mi),void 0)).Response:Response}),Ef=t=>{if(Array.isArray(t))return t.map(r=>Ef(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Ef(s)}),e},KE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Rs=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const $d=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QE=(t,e,r)=>Rs(void 0,void 0,void 0,function*(){const s=yield GE();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new WE($d(o),l,u))}).catch(o=>{e(new kf($d(o),o))}):e(new kf($d(t),t))}),YE=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(KE(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function sa(t,e,r,s,o,l){return Rs(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,YE(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>QE(h,d,s))})})}function Xl(t,e,r,s){return Rs(this,void 0,void 0,function*(){return sa(t,"GET",e,r,s)})}function Vr(t,e,r,s,o){return Rs(this,void 0,void 0,function*(){return sa(t,"POST",e,s,o,r)})}function Pf(t,e,r,s,o){return Rs(this,void 0,void 0,function*(){return sa(t,"PUT",e,s,o,r)})}function JE(t,e,r,s){return Rs(this,void 0,void 0,function*(){return sa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function yw(t,e,r,s,o){return Rs(this,void 0,void 0,function*(){return sa(t,"DELETE",e,s,o,r)})}var XE=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class ZE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return XE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}var eP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class tP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new ZE(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return eP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}var Xt=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const rP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nP{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=gw(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return Xt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},av),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),y=yield(e=="PUT"?Pf:Vr)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}upload(e,r,s){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return Xt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:av.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",m.cacheControl)):(h=s,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield Pf(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(bt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Vr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Ch("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}update(e,r,s){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Xt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}copy(e,r,s){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return Xt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Vr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return Xt(this,void 0,void 0,function*(){try{const o=yield Vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Xl(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new tP(h,this.shouldThrowOnError)}info(e){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Xl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ef(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}exists(e){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield JE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s)&&s instanceof kf){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield yw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}list(e,r,s){return Xt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},rP),r),{prefix:e||""});return{data:yield Vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}listV2(e,r){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Vr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const sP="2.12.2",iP={"X-Client-Info":`storage-js/${sP}`};var fi=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class oP{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},iP),r),this.fetch=gw(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fi(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}getBucket(e){return fi(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fi(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return fi(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return fi(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fi(this,void 0,void 0,function*(){try{return{data:yield yw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}}class aP extends oP{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new nP(this.url,this.headers,e,this.fetch)}}const lP="2.58.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const cP={"X-Client-Info":`supabase-js-${Oo}/${lP}`},uP={headers:cP},dP={schema:"public"},fP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hP={};var mP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const pP=t=>{let e;return t?e=t:typeof fetch>"u"?e=aw:e=fetch,(...r)=>e(...r)},gP=()=>typeof Headers>"u"?lw:Headers,yP=(t,e,r)=>{const s=pP(r),o=gP();return(l,u)=>mP(void 0,void 0,void 0,function*(){var d;const h=(d=yield e())!==null&&d!==void 0?d:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},u),{headers:m}))})};var vP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};function xP(t){return t.endsWith("/")?t:t+"/"}function wP(t,e){var r,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:m,realtime:p,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>vP(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function bP(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vw="2.72.0",xi=30*1e3,Tf=3,Fd=Tf*xi,_P="http://localhost:9999",CP="supabase.auth.token",jP={"X-Client-Info":`gotrue-js/${vw}`},Af="X-Supabase-Api-Version",xw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NP=600*1e3;class jh extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kP extends jh{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function EP(t){return Ue(t)&&t.name==="AuthApiError"}class ww extends jh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jn extends jh{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class Ln extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PP(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class ko extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends Jn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TP(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class lv extends Jn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rf extends Jn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ud(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class cv extends Jn{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Of extends Jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uv=` 	
\r=`.split(""),AP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uv.length;e+=1)t[uv[e].charCodeAt(0)]=-2;for(let e=0;e<Zl.length;e+=1)t[Zl[e].charCodeAt(0)]=e;return t})();function dv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Zl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Zl[s]),e.queuedBits-=6}}function bw(t,e,r){const s=AP[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fv(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{MP(u,s,r)};for(let u=0;u<t.length;u+=1)bw(t.charCodeAt(u),o,l);return e.join("")}function RP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function OP(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}RP(s,e)}}function MP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function IP(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)bw(t.charCodeAt(o),r,s);return new Uint8Array(e)}function DP(t){const e=[];return OP(t,r=>e.push(r)),new Uint8Array(e)}function LP(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>dv(o,r,s)),dv(null,r,s),e.join("")}function $P(t){return Math.round(Date.now()/1e3)+t}function FP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const gr=()=>typeof window<"u"&&typeof document<"u",ms={tested:!1,writable:!1},_w=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ms.tested)return ms.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ms.tested=!0,ms.writable=!0}catch{ms.tested=!0,ms.writable=!1}return ms.writable};function UP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const Cw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},BP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ps=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},In=async(t,e)=>{await t.removeItem(e)};class vc{constructor(){this.promise=new vc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vc.promiseConstructor=Promise;function Bd(t){const e=t.split(".");if(e.length!==3)throw new Of("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!SP.test(e[s]))throw new Of("JWT not in base64url format");return{header:JSON.parse(fv(e[0])),payload:JSON.parse(fv(e[1])),signature:IP(e[2]),raw:{header:e[0],payload:e[1]}}}async function VP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zP(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function qP(t){return("0"+t.toString(16)).substr(-2)}function WP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,qP).join("")}async function HP(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function GP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await HP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(t,e,r=!1){const s=WP();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await wi(t,`${e}-code-verifier`,o);const l=await GP(s);return[l,s===l?"plain":"s256"]}const KP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QP(t){const e=t.headers.get(Af);if(!e||!e.match(KP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mi(t){if(!XP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hv(t){return JSON.parse(JSON.stringify(t))}var ZP=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r};const xs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eT=[502,503,504];async function mv(t){var e;if(!BP(t))throw new Rf(xs(t),0);if(eT.includes(t.status))throw new Rf(xs(t),t.status);let r;try{r=await t.json()}catch(l){throw new ww(xs(l),l)}let s;const o=QP(t);if(o&&o.getTime()>=xw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new cv(xs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new cv(xs(r),t.status,r.weak_password.reasons);throw new kP(xs(r),t.status||500,s)}const tT=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function qe(t,e,r,s){var o;const l=Object.assign({},s?.headers);l[Af]||(l[Af]=xw["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await rT(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function rT(t,e,r,s,o,l){const u=tT(e,s,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Rf(xs(h),0)}if(d.ok||await mv(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await mv(h)}}function Br(t){var e;let r=null;oT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$P(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function pv(t){const e=Br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nT(t){return{data:t,error:null}}function sT(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,u=ZP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function iT(t){return t}function oT(t){return t.access_token&&t.refresh_token&&t.expires_in}const zd=["global","local","others"];var aT=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r};class lT{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Cw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=zd[0]){if(zd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bn})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=aT(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:sT,redirectTo:r?.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bn})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:iT});if(p.error)throw p.error;const y=await p.json(),v=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(C=>{const j=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(C.split(";")[1].split("=")[1]);m[`${_}Page`]=j}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){mi(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bn})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){mi(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bn})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){mi(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bn})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){mi(e.userId);try{const{data:r,error:s}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){mi(e.userId),mi(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function gv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function cT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pi={debug:!!(globalThis&&_w()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uT extends jw{}async function dT(t,e,r){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),pi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Sw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fT(t){return parseInt(t,16)}function hT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function mT(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:p,uri:y,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Sw(t.address),C=p?`${p}://${s}`:s,j=t.statement?`${t.statement}
`:"",_=`${C} wants you to sign in with your Ethereum account:
${w}

${j}`;let O=`URI: ${y}
Version: ${v}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),d&&(O+=`
Not Before: ${d.toISOString()}`),h&&(O+=`
Request ID: ${h}`),m){let T=`
Resources:`;for(const P of m){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);T+=`
- ${P}`}O+=T}return`${_}
${O}`}cT();const pT={url:_P,storageKey:CP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yv(t,e,r){return await r()}const gi={};class Go{constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Go.nextInstanceID,Go.nextInstanceID+=1,this.instanceID>0&&gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},pT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lT({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Cw(o.fetch),this.lock=o.lock||yv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:gr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=dT:this.lock=yv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:_w()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=gv(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=gi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=UP(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),gr()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),TP(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?{error:r}:{error:new ww("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Br}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:p,password:y,options:v}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await hi(this.storage,this.storageKey)),l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:C},xform:Br})}else if("phone"in e){const{phone:p,password:y,options:v}=e;l=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Br})}else throw new Ol("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:pv})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:pv})}else throw new Ol("You must provide either an email or phone number and a password");const{data:s,error:o}=r;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ko}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,u,d,h,m,p,y,v;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:j,wallet:_,statement:O,options:T}=e;let P;if(gr())if(typeof _=="object")P=_;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")P=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const N=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href),I=await P.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Sw(I[0]);let D=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const te=await P.request({method:"eth_chainId"});D=fT(te)}const H={domain:N.host,address:M,statement:O,uri:N.href,version:"1",chainId:D,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=mT(H),C=await P.request({method:"personal_sign",params:[hT(w),M]})}try{const{data:j,error:_}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Br});if(_)throw _;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ko}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:_})}catch(j){if(Ue(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,s,o,l,u,d,h,m,p,y,v,w;let C,j;if("message"in e)C=e.message,j=e.signature;else{const{chain:_,wallet:O,statement:T,options:P}=e;let N;if(gr())if(typeof O=="object")N=O;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))N=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=O}const I=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const M=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),T?{statement:T}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)C=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),j=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${I.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(s=P?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=P?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((y=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...P.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await N.signMessage(new TextEncoder().encode(C),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=M}}try{const{data:_,error:O}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:LP(j)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Br});if(O)throw O;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ko}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:O})}catch(_){if(Ue(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await ps(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:u}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Br});if(await In(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(Ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:u}=e,d=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Br}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ko}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await hi(this.storage,this.storageKey));const{error:y}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new Ol("You must provide either an email or phone number.")}catch(d){if(Ue(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Br});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,s,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await hi(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:nT})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Ln;const{error:o}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Ol("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await ps(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Vd()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,p)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,p))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bn}):await this._useSession(async r=>{var s,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Bn})})}catch(r){if(Ue(r))return PP(r)&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Ln;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await hi(this.storage,this.storageKey));const{data:m,error:p}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Bn});if(p)throw p;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ln;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:u}=Bd(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{session:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ln;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!gr())throw new Ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lv("No code detected.");const{data:T,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new Ml("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let v=p+y;h&&(v=parseInt(h));const w=v-p;w*1e3<=xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const C=v-y;p-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,v,p):p-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,v,p);const{data:j,error:_}=await this._getUser(l);if(_)throw _;const O={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:v,refresh_token:u,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(s){if(Ue(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{error:l};const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(EP(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=FP(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await hi(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,m,p;const{data:y,error:v}=l;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return gr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ue(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)throw u;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await zP(async o=>(o>0&&await VP(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Br})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Ud(l)&&Date.now()+u-s<xi})}catch(s){if(this._debug(r,"error",s),Ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),gr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await ps(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await wi(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Vd()}else if(o&&!o.user&&!o.user){const u=await ps(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await In(this.storage,this.storageKey+"-user"),await wi(this.storage,this.storageKey,o)):o.user=Vd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Fd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ud(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vc;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ln;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Ue(l)){const u={session:null,error:l};return Ud(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await wi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=hv(o);await wi(this.storage,this.storageKey,l)}else{const o=hv(r);await wi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await In(this.storage,this.storageKey),await In(this.storage,this.storageKey+"-code-verifier"),await In(this.storage,this.storageKey+"-user"),this.userStorage&&await In(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xi}ms, refresh threshold is ${Tf} ticks`),o<=Tf&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await hi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?{data:null,error:l}:await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?{data:null,error:l}:await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=e?.factors||[],o=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bd(o.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((s=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+NP>o)return s;const{data:l,error:u}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:w,error:C}=await this.getSession();if(C||!w.session)return{data:null,error:C};s=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=Bd(s);r?.allowExpired||YP(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const p=JP(o.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,u,DP(`${d}.${h}`)))throw new Of("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}}Go.nextInstanceID=0;const gT=Go;class yT extends gT{constructor(e){super(e)}}var vT=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class xT{constructor(e,r,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=bP(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:dP,realtime:hP,auth:Object.assign(Object.assign({},fP),{storageKey:h}),global:uP},p=wP(s??{},m);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=p.auth)!==null&&u!==void 0?u:{},this.headers,p.global.fetch),this.fetch=yP(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new kE(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new aP(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new yE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return vT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yT({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wT=(t,e,r)=>new xT(t,e,r);function bT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _T="https://qcwnlbpultscerwdnzbm.supabase.co",CT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjd25sYnB1bHRzY2Vyd2RuemJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTU0NzUsImV4cCI6MjA3Mzk3MTQ3NX0.-2FMT_IxLPwnJXY3rm2sL6GwTklKJCAo2J50BdUbQFo",ee=wT(_T,CT,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"papuenvios-auth",flowType:"pkce",debug:!1},db:{schema:"public"},global:{headers:{"x-client-info":"papuenvios-web"}}}),Sh=1e4,jT=3e4,Nw=async(t,e=Sh,r="op")=>{let s;const o=new Promise((l,u)=>{s=setTimeout(()=>u(new Error(`${r} timed out after ${e}ms`)),e)});try{return await Promise.race([t,o])}finally{clearTimeout(s)}},Mf=new Map,ST=t=>{if(!t)return null;const e=Mf.get(t);return e?Date.now()-e.ts>jT?(Mf.delete(t),null):e.role:null},kw=(t,e)=>{t&&Mf.set(t,{role:e,ts:Date.now()})},Ew=async(t,{timeoutMs:e=Sh}={})=>{if(!t)return null;try{const r=await Nw(ee.from("user_profiles").select("id, user_id, email, role, is_enabled, full_name, avatar_url, created_at, updated_at").eq("id",t).single(),e,"getUserProfile");if(r?.error)return console.warn("[supabase] getUserProfile error:",r.error),null;const s=r?.data??r;return s?.role&&kw(t,s.role),s??null}catch(r){return console.warn("[supabase] getUserProfile failed:",r.message||r),null}},If=async(t,{timeoutMs:e=Sh}={})=>{if(!t)return null;const r=ST(t);if(r)return r;const o=(await Ew(t,{timeoutMs:e}))?.role??null;return o&&kw(t,o),o},NT=Object.freeze(Object.defineProperty({__proto__:null,getUserProfile:Ew,getUserRole:If,supabase:ee,withTimeout:Nw},Symbol.toStringTag,{value:"Module"})),vv=async()=>{try{const{data:t,error:e}=await ee.from("products").select(`
        *,
        category:product_categories(id, name_es, name_en, slug)
      `).eq("is_active",!0).order("created_at",{ascending:!1});if(e)throw e;const r=(t||[]).map(d=>d.id),{data:s}=await ee.from("inventory").select("product_id, quantity, available_quantity, expiry_date").in("product_id",r).eq("is_active",!0).order("created_at",{ascending:!1}),o={},l={};return(s||[]).forEach(d=>{o[d.product_id]||(o[d.product_id]=0),o[d.product_id]+=d.available_quantity||0,!l[d.product_id]&&d.expiry_date&&(l[d.product_id]=d.expiry_date)}),{data:(t||[]).map(d=>({...d,stock:o[d.id]||0,expiry_date:l[d.id]||null})),error:null}}catch(t){return console.error("Error fetching products:",t),{data:null,error:t}}},kT=async t=>{try{console.log("📝 createProduct called with:",t);const{data:e,error:r}=await ee.from("products").insert([{sku:t.sku||`SKU-${Date.now()}`,name_es:t.name,name_en:t.name,description_es:t.description_es||"",description_en:t.description_en||"",category_id:t.category_id,base_price:parseFloat(t.basePrice),base_currency_id:t.base_currency_id,profit_margin:parseFloat(t.profitMargin||40),min_stock_alert:t.min_stock_alert?parseInt(t.min_stock_alert):10,image_url:t.image||null,image_file:t.image||null,is_active:!0}]).select().single();if(r)throw r;if(console.log("✅ Product created:",e),t.stock&&parseInt(t.stock)>0){console.log("📦 Creating inventory with stock:",t.stock);const s={product_id:e.id,quantity:parseInt(t.stock),batch_number:`BATCH-${Date.now()}`,is_active:!0};t.expiryDate&&(s.expiry_date=t.expiryDate);const{error:o}=await ee.from("inventory").insert([s]);o?console.error("❌ Error creating inventory:",o):console.log("✅ Inventory created successfully")}else console.log("⚠️ No stock to create, stock value:",t.stock);return{data:e,error:null}}catch(e){return console.error("❌ Error creating product:",e),{data:null,error:e}}},ET=async(t,e)=>{try{console.log("📝 updateProduct called for:",t,"with data:",e);const r={name_es:e.name,name_en:e.name,description_es:e.description_es||"",description_en:e.description_en||"",category_id:e.category_id,base_price:parseFloat(e.basePrice),profit_margin:parseFloat(e.profitMargin||40),min_stock_alert:e.min_stock_alert!==void 0?parseInt(e.min_stock_alert):10,updated_at:new Date().toISOString()};e.image&&(r.image_url=e.image,r.image_file=e.image),console.log("📤 Sending update to products table:",r);const{data:s,error:o}=await ee.from("products").update(r).eq("id",t).select().single();if(o)throw o;if(console.log("✅ Product updated:",s),e.stock!==void 0||e.expiryDate!==void 0){const{data:l}=await ee.from("inventory").select("id").eq("product_id",t).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1),u=l&&l.length>0?l[0]:null;if(u){const d={updated_at:new Date().toISOString()};e.stock!==void 0&&(d.quantity=parseInt(e.stock)),e.expiryDate!==void 0&&(d.expiry_date=e.expiryDate||null);const{error:h}=await ee.from("inventory").update(d).eq("id",u.id);h&&console.error("Error updating inventory:",h)}else if(e.stock!==void 0&&parseInt(e.stock)>0){const d={product_id:t,quantity:parseInt(e.stock),batch_number:`BATCH-${Date.now()}`,is_active:!0};e.expiryDate&&(d.expiry_date=e.expiryDate);const{error:h}=await ee.from("inventory").insert([d]);h&&console.error("Error creating inventory:",h)}}return{data:s,error:null}}catch(r){return console.error("Error updating product:",r),{data:null,error:r}}},PT=async()=>{try{const{data:t,error:e}=await ee.from("product_categories").select("id, slug, name_es, name_en, description_es, description_en, display_order, is_active").eq("is_active",!0).order("display_order",{ascending:!0});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching categories:",t),{data:null,error:t}}},TT=async t=>{try{const e=t.es.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),{data:r,error:s}=await ee.from("product_categories").insert([{name_es:t.es,name_en:t.en,description_es:t.description_es||"",description_en:t.description_en||"",slug:e,is_active:!0,display_order:0}]).select().single();if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error creating category:",e),{data:null,error:e}}},AT=async(t,e)=>{try{const r=e.es.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),{data:s,error:o}=await ee.from("product_categories").update({name_es:e.es,name_en:e.en,description_es:e.description_es||"",description_en:e.description_en||"",slug:r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(r){return console.error("Error updating category:",r),{data:null,error:r}}},RT=async t=>{try{const{error:e}=await ee.from("product_categories").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting category:",e),{data:null,error:e}}},OT=async(t=!1)=>{try{let e=ee.from("combo_products").select(`
        *,
        items:combo_items(
          quantity,
          product:products(id, name_es, name_en, base_price)
        )
      `);t||(e=e.eq("is_active",!0));const{data:r,error:s}=await e.order("created_at",{ascending:!1});if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error fetching combos:",e),{data:null,error:e}}},MT=async t=>{try{let e=0;if(t.productsWithQuantities&&t.productsWithQuantities.length>0){const o=t.productsWithQuantities.map(u=>u.productId),{data:l}=await ee.from("products").select("id, base_price").in("id",o);l&&(e=t.productsWithQuantities.reduce((u,d)=>{const h=l.find(m=>m.id===d.productId);return h?u+parseFloat(h.base_price)*d.quantity:u},0))}const{data:r,error:s}=await ee.from("combo_products").insert([{name_es:t.name,name_en:t.name,description_es:t.description||"",description_en:t.description||"",image_url:t.image||null,base_total_price:e,profit_margin:parseFloat(t.profitMargin||40),is_active:!0}]).select().single();if(s)throw s;if(t.productsWithQuantities&&t.productsWithQuantities.length>0){const o=t.productsWithQuantities.map(u=>({combo_id:r.id,product_id:u.productId,quantity:u.quantity})),{error:l}=await ee.from("combo_items").insert(o);if(l)throw l}return{data:r,error:null}}catch(e){return console.error("Error creating combo:",e),{data:null,error:e}}},IT=async(t,e)=>{try{let r;if(e.productsWithQuantities&&e.productsWithQuantities.length>0){const u=e.productsWithQuantities.map(h=>h.productId),{data:d}=await ee.from("products").select("id, base_price").in("id",u);d&&(r=e.productsWithQuantities.reduce((h,m)=>{const p=d.find(y=>y.id===m.productId);return p?h+parseFloat(p.base_price)*m.quantity:h},0))}const s={name_es:e.name,name_en:e.name,description_es:e.description||"",description_en:e.description||"",profit_margin:parseFloat(e.profitMargin||40),updated_at:new Date().toISOString()};e.image&&(s.image_url=e.image),r!==void 0&&(s.base_total_price=r);const{data:o,error:l}=await ee.from("combo_products").update(s).eq("id",t).select().single();if(l)throw l;if(e.productsWithQuantities&&(await ee.from("combo_items").delete().eq("combo_id",t),e.productsWithQuantities.length>0)){const u=e.productsWithQuantities.map(h=>({combo_id:t,product_id:h.productId,quantity:h.quantity})),{error:d}=await ee.from("combo_items").insert(u);if(d)throw d}return{data:o,error:null}}catch(r){return console.error("Error updating combo:",r),{data:null,error:r}}},Pw=async(t=!1)=>{try{let e=ee.from("testimonials").select("*").order("created_at",{ascending:!1});t||(e=e.eq("is_visible",!0));const{data:r,error:s}=await e;if(s)throw s;if(r&&r.length>0){const o=[...new Set(r.map(d=>d.user_id))],{data:l}=await ee.from("user_profiles").select("user_id, full_name, avatar_url").in("user_id",o),u={};l&&l.forEach(d=>{u[d.user_id]=d}),r.forEach(d=>{const h=u[d.user_id];d.user_name=h?.full_name||"Usuario",d.user_avatar=h?.avatar_url||d.user_photo})}return{data:r,error:null}}catch(e){return console.error("Error fetching testimonials:",e),{data:null,error:e}}},DT=async t=>{try{const{data:e,error:r}=await ee.from("testimonials").insert([{user_id:t.user_id,order_id:t.order_id||null,rating:t.rating,comment:t.comment,user_photo:t.user_photo||null,is_visible:!1,is_featured:!1}]).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error creating testimonial:",e),{data:null,error:e}}},LT=async(t,e)=>{try{const{data:r,error:s}=await ee.from("testimonials").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error updating testimonial:",r),{data:null,error:r}}},$T=async(t,e)=>{try{const{data:r,error:s}=await ee.from("testimonials").update({is_visible:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error toggling testimonial visibility:",r),{data:null,error:r}}},FT=async(t,e)=>{try{const{data:r,error:s}=await ee.from("testimonials").update({is_featured:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error toggling testimonial featured status:",r),{data:null,error:r}}},UT=async t=>{try{const{data:e,error:r}=await ee.from("testimonials").select("*").eq("user_id",t).maybeSingle();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error fetching user testimonial:",e),{data:null,error:e}}},Tw=async(t=!1)=>{try{let e=ee.from("carousel_slides").select("*").order("display_order",{ascending:!0});t&&(e=e.eq("is_active",!0));const{data:r,error:s}=await e;if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error fetching carousel slides:",e),{data:null,error:e}}},BT=async t=>{try{const{data:e}=await ee.from("carousel_slides").select("display_order").order("display_order",{ascending:!1}).limit(1),r=e&&e.length>0?e[0].display_order+1:0,{data:s,error:o}=await ee.from("carousel_slides").insert([{title_es:t.title_es||"",title_en:t.title_en||"",subtitle_es:t.subtitle_es||null,subtitle_en:t.subtitle_en||null,image_url:t.image_url||null,image_file:t.image_file||null,link_url:t.link_url||null,display_order:t.display_order??r,is_active:t.is_active??!0}]).select().single();if(o)throw o;return{data:s,error:null}}catch(e){return console.error("Error creating carousel slide:",e),{data:null,error:e}}},xv=async(t,e)=>{try{const{data:r,error:s}=await ee.from("carousel_slides").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error updating carousel slide:",r),{data:null,error:r}}},VT=async t=>{try{const{error:e}=await ee.from("carousel_slides").delete().eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error hard deleting carousel slide:",e),{data:null,error:e}}},zT=async()=>{try{const{data:t,error:e}=await ee.from("carousel_slides").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(e)throw e;return{data:t,error:null}}catch(t){return console.error("Error fetching active carousel slides:",t),{data:null,error:t}}},Aw=b.createContext(),Eo=(t,e)=>{const[r,s]=b.useState(()=>{try{const l=window.localStorage.getItem(t);return l?JSON.parse(l):e}catch(l){return console.log(l),e}});return[r,l=>{try{const u=l instanceof Function?l(r):l;s(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(u){console.log(u)}}]},qT=({children:t})=>{const[e,r]=b.useState([]),[s,o]=b.useState([]),[l,u]=b.useState([]),[d,h]=b.useState([]),[m,p]=b.useState([]),[y,v]=b.useState(!0),[w,C]=b.useState(null),[j,_]=Eo("cart",[]),[O,T]=Eo("zelleAccounts",[{id:1,email:"payment1@example.com",name:"Main Sales",forProducts:!0,forRemittances:!1,active:!0,payments:{weekly:12,monthly:50,yearly:600,total:1500}},{id:2,email:"remit@example.com",name:"Remittances Only",forProducts:!1,forRemittances:!0,active:!0,payments:{weekly:5,monthly:20,yearly:250,total:400}}]),[P,N]=Eo("financialSettings",{usdToLocal:36.5,currencies:[{code:"USD",name:"US Dollar",rate:1,symbol:"$"},{code:"EUR",name:"Euro",rate:.92,symbol:"€"}],productProfit:40,comboProfit:35,remittanceProfit:5,shippingType:"undetermined",shippingFixedAmount:0,shippingFreeThreshold:100}),[I,M]=Eo("notificationSettings",{whatsapp:"",whatsappGroup:"",adminEmail:""}),[D,H]=Eo("visualSettings",{logo:"",favicon:"",companyName:"PapuEnvíos",primaryColor:"#2563eb",secondaryColor:"#9333ea",useGradient:!0,headerBgColor:"#ffffff",headerTextColor:"#1f2937",headingColor:"#1f2937",useHeadingGradient:!0,buttonBgColor:"#2563eb",buttonTextColor:"#ffffff",buttonHoverBgColor:"#1d4ed8",destructiveBgColor:"#dc2626",destructiveTextColor:"#ffffff",destructiveHoverBgColor:"#b91c1c",accentColor:"#9333ea",pageBgColor:"#f9fafb",cardBgColor:"#ffffff"}),te=async()=>{try{C(null);const{data:E,error:L}=await vv();if(L)throw L;r(E||[])}catch(E){console.error("Error refreshing products:",E),C(E.message)}},U=async()=>{try{C(null);const{data:E,error:L}=await PT();if(L)throw L;u(E||[])}catch(E){console.error("Error refreshing categories:",E),C(E.message)}},me=async(E=!1)=>{try{const{data:L,error:Q}=await OT(E);if(Q)throw Q;const{data:oe}=await vv(),ve={};(oe||[]).forEach(le=>{ve[le.id]=le});const Ce=(L||[]).map(le=>{const xe={},Ae=le.items?.map(K=>(xe[K.product.id]=K.quantity,K.product.id))||[];let Y=!1;for(const K of Ae){const Le=ve[K],je=xe[K]||1,A=Le?.stock||0;if(A===0||A<je){Y=!0;break}}return Y&&le.is_active&&ee.from("combo_products").update({is_active:!1}).eq("id",le.id).then(()=>console.log(`Combo ${le.id} auto-deactivated due to insufficient stock`)),{id:le.id,name:le.name_es,description:le.description_es,image:le.image_url,products:Ae,productQuantities:xe,items:le.items||[],profitMargin:le.profit_margin,baseTotalPrice:le.base_total_price,is_active:Y?!1:le.is_active}});o(Ce)}catch(L){console.error("Error refreshing combos:",L)}},se=async(E=!1)=>{try{C(null);const{data:L,error:Q}=await Pw(E);if(Q)throw Q;h(L||[])}catch(L){console.error("Error refreshing testimonials:",L),C(L)}},re=async(E=!1)=>{try{C(null);const{data:L,error:Q}=await Tw(E);if(Q)throw Q;p(L||[])}catch(L){console.error("Error refreshing carousel slides:",L),C(L)}};b.useEffect(()=>{(async()=>{v(!0),await Promise.all([te(),U(),me(),se(!1),re(!1)]),v(!1)})()},[]);const B=E=>r(L=>[...L,E]),we=E=>r(L=>L.map(Q=>Q.id===E.id?E:Q)),J=E=>{_(L=>L.find(oe=>oe.id===E.id)?L.map(oe=>oe.id===E.id?{...oe,quantity:oe.quantity+1}:oe):[...L,{...E,quantity:1}])},fe=E=>_(L=>L.filter(Q=>Q.id!==E)),ne={products:e,addProduct:B,updateProduct:we,refreshProducts:te,combos:s,setCombos:o,refreshCombos:me,cart:j,addToCart:J,removeFromCart:fe,updateCartQuantity:(E,L)=>{if(L<=0){fe(E);return}_(Q=>Q.map(oe=>oe.id===E?{...oe,quantity:L}:oe))},clearCart:()=>_([]),categories:l,setCategories:u,refreshCategories:U,testimonials:d,setTestimonials:h,refreshTestimonials:se,carouselSlides:m,setCarouselSlides:p,refreshCarouselSlides:re,zelleAccounts:O,setZelleAccounts:T,financialSettings:P,setFinancialSettings:N,notificationSettings:I,setNotificationSettings:M,visualSettings:D,setVisualSettings:H,loading:y,error:w,exchangeRate:P.currencies.find(E=>E.code==="USD")?.rate||1};return a.jsx(Aw.Provider,{value:ne,children:t})},Wt=()=>{const t=b.useContext(Aw);if(t===void 0)throw new Error("useBusiness must be used within a BusinessProvider");return t},WT=()=>{const{visualSettings:t}=Wt();return a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-50",style:{background:t.useGradient?`linear-gradient(to bottom right, ${t.primaryColor}, ${t.secondaryColor})`:t.primaryColor},children:a.jsxs("div",{className:"text-center",children:[a.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsxs(pe.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-24 h-24 mx-auto mb-4 relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/20"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white border-t-transparent animate-spin"})]}),a.jsxs(pe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex justify-center space-x-4 mb-6",children:[a.jsx(pe.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:0},children:a.jsx(Ar,{className:"w-8 h-8 text-white"})}),a.jsx(pe.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:.2},children:a.jsx(qn,{className:"w-8 h-8 text-white"})}),a.jsx(pe.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:.4},children:a.jsx(X0,{className:"w-8 h-8 text-white"})})]})]})}),a.jsx(pe.h1,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-4xl font-bold text-white mb-4",children:t.companyName||"PapuEnvíos"}),a.jsx(pe.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"text-xl text-white/80 mb-8",children:"Cargando tu plataforma de comercio digital..."}),a.jsx(pe.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:2,delay:1},className:"w-64 h-2 rounded-full mx-auto overflow-hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:a.jsx(pe.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"h-full w-1/3",style:{background:t.useGradient?`linear-gradient(to right, transparent, ${t.secondaryColor}, transparent)`:`linear-gradient(to right, transparent, ${t.primaryColor}, transparent)`}})})]})})};class HT extends rt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-4",children:this.state.error?.message||"An unexpected error occurred"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Reload Page"})]})}):this.props.children}}var qd={exports:{}},Wd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function GT(){if(wv)return Wd;wv=1;var t=sc();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function d(y,v){var w=v(),C=s({inst:{value:w,getSnapshot:v}}),j=C[0].inst,_=C[1];return l(function(){j.value=w,j.getSnapshot=v,h(j)&&_({inst:j})},[y,w,v]),o(function(){return h(j)&&_({inst:j}),y(function(){h(j)&&_({inst:j})})},[y]),u(w),w}function h(y){var v=y.getSnapshot;y=y.value;try{var w=v();return!r(y,w)}catch{return!0}}function m(y,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Wd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Wd}var bv;function KT(){return bv||(bv=1,qd.exports=GT()),qd.exports}var QT=KT();function YT(){return QT.useSyncExternalStore(JT,()=>!0,()=>!1)}function JT(){return()=>{}}var Nh="Avatar",[XT]=ra(Nh),[ZT,Rw]=XT(Nh),Ow=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[o,l]=b.useState("idle");return a.jsx(ZT,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:a.jsx(Ot.span,{...s,ref:e})})});Ow.displayName=Nh;var Mw="AvatarImage",Iw=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...l}=t,u=Rw(Mw,r),d=eA(s,l),h=un(m=>{o(m),u.onImageLoadingStatusChange(m)});return xr(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?a.jsx(Ot.img,{...l,ref:e,src:s}):null});Iw.displayName=Mw;var Dw="AvatarFallback",Lw=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=t,l=Rw(Dw,r),[u,d]=b.useState(s===void 0);return b.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&l.imageLoadingStatus!=="loaded"?a.jsx(Ot.span,{...o,ref:e}):null});Lw.displayName=Dw;function _v(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eA(t,{referrerPolicy:e,crossOrigin:r}){const s=YT(),o=b.useRef(null),l=s?(o.current||(o.current=new window.Image),o.current):null,[u,d]=b.useState(()=>_v(l,t));return xr(()=>{d(_v(l,t))},[l,t]),xr(()=>{const h=y=>()=>{d(y)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),u}var tA=Ow,rA=Iw,nA=Lw,sA=Uv[" useId ".trim().toString()]||(()=>{}),iA=0;function oA(t){const[e,r]=b.useState(sA());return xr(()=>{r(s=>s??String(iA++))},[t]),e?`radix-${e}`:""}const aA=["top","right","bottom","left"],Kn=Math.min,ir=Math.max,ec=Math.round,Il=Math.floor,Wr=t=>({x:t,y:t}),lA={left:"right",right:"left",bottom:"top",top:"bottom"},cA={start:"end",end:"start"};function Df(t,e,r){return ir(t,Kn(e,r))}function dn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function Ii(t){return t.split("-")[1]}function kh(t){return t==="x"?"y":"x"}function Eh(t){return t==="y"?"height":"width"}const uA=new Set(["top","bottom"]);function zr(t){return uA.has(fn(t))?"y":"x"}function Ph(t){return kh(zr(t))}function dA(t,e,r){r===void 0&&(r=!1);const s=Ii(t),o=Ph(t),l=Eh(o);let u=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=tc(u)),[u,tc(u)]}function fA(t){const e=tc(t);return[Lf(t),e,Lf(e)]}function Lf(t){return t.replace(/start|end/g,e=>cA[e])}const Cv=["left","right"],jv=["right","left"],hA=["top","bottom"],mA=["bottom","top"];function pA(t,e,r){switch(t){case"top":case"bottom":return r?e?jv:Cv:e?Cv:jv;case"left":case"right":return e?hA:mA;default:return[]}}function gA(t,e,r,s){const o=Ii(t);let l=pA(fn(t),r==="start",s);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(Lf)))),l}function tc(t){return t.replace(/left|right|bottom|top/g,e=>lA[e])}function yA(t){return{top:0,right:0,bottom:0,left:0,...t}}function $w(t){return typeof t!="number"?yA(t):{top:t,right:t,bottom:t,left:t}}function rc(t){const{x:e,y:r,width:s,height:o}=t;return{width:s,height:o,top:r,left:e,right:e+s,bottom:r+o,x:e,y:r}}function Sv(t,e,r){let{reference:s,floating:o}=t;const l=zr(e),u=Ph(e),d=Eh(u),h=fn(e),m=l==="y",p=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,v=s[d]/2-o[d]/2;let w;switch(h){case"top":w={x:p,y:s.y-o.height};break;case"bottom":w={x:p,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y};break;case"left":w={x:s.x-o.width,y};break;default:w={x:s.x,y:s.y}}switch(Ii(e)){case"start":w[u]-=v*(r&&m?-1:1);break;case"end":w[u]+=v*(r&&m?-1:1);break}return w}const vA=async(t,e,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:u}=r,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y}=Sv(m,s,h),v=s,w={},C=0;for(let j=0;j<d.length;j++){const{name:_,fn:O}=d[j],{x:T,y:P,data:N,reset:I}=await O({x:p,y,initialPlacement:s,placement:v,strategy:o,middlewareData:w,rects:m,platform:u,elements:{reference:t,floating:e}});p=T??p,y=P??y,w={...w,[_]:{...w[_],...N}},I&&C<=50&&(C++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(m=I.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):I.rects),{x:p,y}=Sv(m,v,h)),j=-1)}return{x:p,y,placement:v,strategy:o,middlewareData:w}};async function Ko(t,e){var r;e===void 0&&(e={});const{x:s,y:o,platform:l,rects:u,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:w=0}=dn(e,t),C=$w(w),_=d[v?y==="floating"?"reference":"floating":y],O=rc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(_)))==null||r?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:h})),T=y==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),N=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},I=rc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:P,strategy:h}):T);return{top:(O.top-I.top+C.top)/N.y,bottom:(I.bottom-O.bottom+C.bottom)/N.y,left:(O.left-I.left+C.left)/N.x,right:(I.right-O.right+C.right)/N.x}}const xA=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:o,rects:l,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:p=0}=dn(t,e)||{};if(m==null)return{};const y=$w(p),v={x:r,y:s},w=Ph(o),C=Eh(w),j=await u.getDimensions(m),_=w==="y",O=_?"top":"left",T=_?"bottom":"right",P=_?"clientHeight":"clientWidth",N=l.reference[C]+l.reference[w]-v[w]-l.floating[C],I=v[w]-l.reference[w],M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let D=M?M[P]:0;(!D||!await(u.isElement==null?void 0:u.isElement(M)))&&(D=d.floating[P]||l.floating[C]);const H=N/2-I/2,te=D/2-j[C]/2-1,U=Kn(y[O],te),me=Kn(y[T],te),se=U,re=D-j[C]-me,B=D/2-j[C]/2+H,we=Df(se,B,re),J=!h.arrow&&Ii(o)!=null&&B!==we&&l.reference[C]/2-(B<se?U:me)-j[C]/2<0,fe=J?B<se?B-se:B-re:0;return{[w]:v[w]+fe,data:{[w]:we,centerOffset:B-we-fe,...J&&{alignmentOffset:fe}},reset:J}}}),wA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:j=!0,..._}=dn(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const O=fn(o),T=zr(d),P=fn(d)===d,N=await(h.isRTL==null?void 0:h.isRTL(m.floating)),I=v||(P||!j?[tc(d)]:fA(d)),M=C!=="none";!v&&M&&I.push(...gA(d,j,C,N));const D=[d,...I],H=await Ko(e,_),te=[];let U=((s=l.flip)==null?void 0:s.overflows)||[];if(p&&te.push(H[O]),y){const B=dA(o,u,N);te.push(H[B[0]],H[B[1]])}if(U=[...U,{placement:o,overflows:te}],!te.every(B=>B<=0)){var me,se;const B=(((me=l.flip)==null?void 0:me.index)||0)+1,we=D[B];if(we&&(!(y==="alignment"?T!==zr(we):!1)||U.every(q=>zr(q.placement)===T?q.overflows[0]>0:!0)))return{data:{index:B,overflows:U},reset:{placement:we}};let J=(se=U.filter(fe=>fe.overflows[0]<=0).sort((fe,q)=>fe.overflows[1]-q.overflows[1])[0])==null?void 0:se.placement;if(!J)switch(w){case"bestFit":{var re;const fe=(re=U.filter(q=>{if(M){const ie=zr(q.placement);return ie===T||ie==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ie=>ie>0).reduce((ie,ne)=>ie+ne,0)]).sort((q,ie)=>q[1]-ie[1])[0])==null?void 0:re[0];fe&&(J=fe);break}case"initialPlacement":J=d;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function Nv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kv(t){return aA.some(e=>t[e]>=0)}const bA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...o}=dn(t,e);switch(s){case"referenceHidden":{const l=await Ko(e,{...o,elementContext:"reference"}),u=Nv(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:kv(u)}}}case"escaped":{const l=await Ko(e,{...o,altBoundary:!0}),u=Nv(l,r.floating);return{data:{escapedOffsets:u,escaped:kv(u)}}}default:return{}}}}},Fw=new Set(["left","top"]);async function _A(t,e){const{placement:r,platform:s,elements:o}=t,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=fn(r),d=Ii(r),h=zr(r)==="y",m=Fw.has(u)?-1:1,p=l&&h?-1:1,y=dn(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof C=="number"&&(w=d==="end"?C*-1:C),h?{x:w*p,y:v*m}:{x:v*m,y:w*p}}const CA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:o,y:l,placement:u,middlewareData:d}=e,h=await _A(e,t);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:u}}}}},jA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:_=>{let{x:O,y:T}=_;return{x:O,y:T}}},...h}=dn(t,e),m={x:r,y:s},p=await Ko(e,h),y=zr(fn(o)),v=kh(y);let w=m[v],C=m[y];if(l){const _=v==="y"?"top":"left",O=v==="y"?"bottom":"right",T=w+p[_],P=w-p[O];w=Df(T,w,P)}if(u){const _=y==="y"?"top":"left",O=y==="y"?"bottom":"right",T=C+p[_],P=C-p[O];C=Df(T,C,P)}const j=d.fn({...e,[v]:w,[y]:C});return{...j,data:{x:j.x-r,y:j.y-s,enabled:{[v]:l,[y]:u}}}}}},SA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:o,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=dn(t,e),p={x:r,y:s},y=zr(o),v=kh(y);let w=p[v],C=p[y];const j=dn(d,e),_=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const P=v==="y"?"height":"width",N=l.reference[v]-l.floating[P]+_.mainAxis,I=l.reference[v]+l.reference[P]-_.mainAxis;w<N?w=N:w>I&&(w=I)}if(m){var O,T;const P=v==="y"?"width":"height",N=Fw.has(fn(o)),I=l.reference[y]-l.floating[P]+(N&&((O=u.offset)==null?void 0:O[y])||0)+(N?0:_.crossAxis),M=l.reference[y]+l.reference[P]+(N?0:((T=u.offset)==null?void 0:T[y])||0)-(N?_.crossAxis:0);C<I?C=I:C>M&&(C=M)}return{[v]:w,[y]:C}}}},NA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:o,rects:l,platform:u,elements:d}=e,{apply:h=()=>{},...m}=dn(t,e),p=await Ko(e,m),y=fn(o),v=Ii(o),w=zr(o)==="y",{width:C,height:j}=l.floating;let _,O;y==="top"||y==="bottom"?(_=y,O=v===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(O=y,_=v==="end"?"top":"bottom");const T=j-p.top-p.bottom,P=C-p.left-p.right,N=Kn(j-p[_],T),I=Kn(C-p[O],P),M=!e.middlewareData.shift;let D=N,H=I;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(H=P),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=T),M&&!v){const U=ir(p.left,0),me=ir(p.right,0),se=ir(p.top,0),re=ir(p.bottom,0);w?H=C-2*(U!==0||me!==0?U+me:ir(p.left,p.right)):D=j-2*(se!==0||re!==0?se+re:ir(p.top,p.bottom))}await h({...e,availableWidth:H,availableHeight:D});const te=await u.getDimensions(d.floating);return C!==te.width||j!==te.height?{reset:{rects:!0}}:{}}}};function xc(){return typeof window<"u"}function Di(t){return Uw(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gr(t){var e;return(e=(Uw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uw(t){return xc()?t instanceof Node||t instanceof or(t).Node:!1}function Or(t){return xc()?t instanceof Element||t instanceof or(t).Element:!1}function Hr(t){return xc()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function Ev(t){return!xc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}const kA=new Set(["inline","contents"]);function ia(t){const{overflow:e,overflowX:r,overflowY:s,display:o}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!kA.has(o)}const EA=new Set(["table","td","th"]);function PA(t){return EA.has(Di(t))}const TA=[":popover-open",":modal"];function wc(t){return TA.some(e=>{try{return t.matches(e)}catch{return!1}})}const AA=["transform","translate","scale","rotate","perspective"],RA=["transform","translate","scale","rotate","perspective","filter"],OA=["paint","layout","strict","content"];function Th(t){const e=Ah(),r=Or(t)?Mr(t):t;return AA.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||RA.some(s=>(r.willChange||"").includes(s))||OA.some(s=>(r.contain||"").includes(s))}function MA(t){let e=Qn(t);for(;Hr(e)&&!Ai(e);){if(Th(e))return e;if(wc(e))return null;e=Qn(e)}return null}function Ah(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IA=new Set(["html","body","#document"]);function Ai(t){return IA.has(Di(t))}function Mr(t){return or(t).getComputedStyle(t)}function bc(t){return Or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qn(t){if(Di(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ev(t)&&t.host||Gr(t);return Ev(e)?e.host:e}function Bw(t){const e=Qn(t);return Ai(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hr(e)&&ia(e)?e:Bw(e)}function Qo(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=Bw(t),l=o===((s=t.ownerDocument)==null?void 0:s.body),u=or(o);if(l){const d=$f(u);return e.concat(u,u.visualViewport||[],ia(o)?o:[],d&&r?Qo(d):[])}return e.concat(o,Qo(o,[],r))}function $f(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vw(t){const e=Mr(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Hr(t),l=o?t.offsetWidth:r,u=o?t.offsetHeight:s,d=ec(r)!==l||ec(s)!==u;return d&&(r=l,s=u),{width:r,height:s,$:d}}function Rh(t){return Or(t)?t:t.contextElement}function ki(t){const e=Rh(t);if(!Hr(e))return Wr(1);const r=e.getBoundingClientRect(),{width:s,height:o,$:l}=Vw(e);let u=(l?ec(r.width):r.width)/s,d=(l?ec(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const DA=Wr(0);function zw(t){const e=or(t);return!Ah()||!e.visualViewport?DA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LA(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==or(t)?!1:e}function Ns(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=Rh(t);let u=Wr(1);e&&(s?Or(s)&&(u=ki(s)):u=ki(t));const d=LA(l,r,s)?zw(l):Wr(0);let h=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,p=o.width/u.x,y=o.height/u.y;if(l){const v=or(l),w=s&&Or(s)?or(s):s;let C=v,j=$f(C);for(;j&&s&&w!==C;){const _=ki(j),O=j.getBoundingClientRect(),T=Mr(j),P=O.left+(j.clientLeft+parseFloat(T.paddingLeft))*_.x,N=O.top+(j.clientTop+parseFloat(T.paddingTop))*_.y;h*=_.x,m*=_.y,p*=_.x,y*=_.y,h+=P,m+=N,C=or(j),j=$f(C)}}return rc({width:p,height:y,x:h,y:m})}function _c(t,e){const r=bc(t).scrollLeft;return e?e.left+r:Ns(Gr(t)).left+r}function qw(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-_c(t,r),o=r.top+e.scrollTop;return{x:s,y:o}}function $A(t){let{elements:e,rect:r,offsetParent:s,strategy:o}=t;const l=o==="fixed",u=Gr(s),d=e?wc(e.floating):!1;if(s===u||d&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Wr(1);const p=Wr(0),y=Hr(s);if((y||!y&&!l)&&((Di(s)!=="body"||ia(u))&&(h=bc(s)),Hr(s))){const w=Ns(s);m=ki(s),p.x=w.x+s.clientLeft,p.y=w.y+s.clientTop}const v=u&&!y&&!l?qw(u,h):Wr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+p.x+v.x,y:r.y*m.y-h.scrollTop*m.y+p.y+v.y}}function FA(t){return Array.from(t.getClientRects())}function UA(t){const e=Gr(t),r=bc(t),s=t.ownerDocument.body,o=ir(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=ir(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+_c(t);const d=-r.scrollTop;return Mr(s).direction==="rtl"&&(u+=ir(e.clientWidth,s.clientWidth)-o),{width:o,height:l,x:u,y:d}}const Pv=25;function BA(t,e){const r=or(t),s=Gr(t),o=r.visualViewport;let l=s.clientWidth,u=s.clientHeight,d=0,h=0;if(o){l=o.width,u=o.height;const p=Ah();(!p||p&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const m=_c(s);if(m<=0){const p=s.ownerDocument,y=p.body,v=getComputedStyle(y),w=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(s.clientWidth-y.clientWidth-w);C<=Pv&&(l-=C)}else m<=Pv&&(l+=m);return{width:l,height:u,x:d,y:h}}const VA=new Set(["absolute","fixed"]);function zA(t,e){const r=Ns(t,!0,e==="fixed"),s=r.top+t.clientTop,o=r.left+t.clientLeft,l=Hr(t)?ki(t):Wr(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,h=o*l.x,m=s*l.y;return{width:u,height:d,x:h,y:m}}function Tv(t,e,r){let s;if(e==="viewport")s=BA(t,r);else if(e==="document")s=UA(Gr(t));else if(Or(e))s=zA(e,r);else{const o=zw(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return rc(s)}function Ww(t,e){const r=Qn(t);return r===e||!Or(r)||Ai(r)?!1:Mr(r).position==="fixed"||Ww(r,e)}function qA(t,e){const r=e.get(t);if(r)return r;let s=Qo(t,[],!1).filter(d=>Or(d)&&Di(d)!=="body"),o=null;const l=Mr(t).position==="fixed";let u=l?Qn(t):t;for(;Or(u)&&!Ai(u);){const d=Mr(u),h=Th(u);!h&&d.position==="fixed"&&(o=null),(l?!h&&!o:!h&&d.position==="static"&&!!o&&VA.has(o.position)||ia(u)&&!h&&Ww(t,u))?s=s.filter(p=>p!==u):o=d,u=Qn(u)}return e.set(t,s),s}function WA(t){let{element:e,boundary:r,rootBoundary:s,strategy:o}=t;const u=[...r==="clippingAncestors"?wc(e)?[]:qA(e,this._c):[].concat(r),s],d=u[0],h=u.reduce((m,p)=>{const y=Tv(e,p,o);return m.top=ir(y.top,m.top),m.right=Kn(y.right,m.right),m.bottom=Kn(y.bottom,m.bottom),m.left=ir(y.left,m.left),m},Tv(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function HA(t){const{width:e,height:r}=Vw(t);return{width:e,height:r}}function GA(t,e,r){const s=Hr(e),o=Gr(e),l=r==="fixed",u=Ns(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Wr(0);function m(){h.x=_c(o)}if(s||!s&&!l)if((Di(e)!=="body"||ia(o))&&(d=bc(e)),s){const w=Ns(e,!0,l,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&m();l&&!s&&o&&m();const p=o&&!s&&!l?qw(o,d):Wr(0),y=u.left+d.scrollLeft-h.x-p.x,v=u.top+d.scrollTop-h.y-p.y;return{x:y,y:v,width:u.width,height:u.height}}function Hd(t){return Mr(t).position==="static"}function Av(t,e){if(!Hr(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Gr(t)===r&&(r=r.ownerDocument.body),r}function Hw(t,e){const r=or(t);if(wc(t))return r;if(!Hr(t)){let o=Qn(t);for(;o&&!Ai(o);){if(Or(o)&&!Hd(o))return o;o=Qn(o)}return r}let s=Av(t,e);for(;s&&PA(s)&&Hd(s);)s=Av(s,e);return s&&Ai(s)&&Hd(s)&&!Th(s)?r:s||MA(t)||r}const KA=async function(t){const e=this.getOffsetParent||Hw,r=this.getDimensions,s=await r(t.floating);return{reference:GA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function QA(t){return Mr(t).direction==="rtl"}const YA={convertOffsetParentRelativeRectToViewportRelativeRect:$A,getDocumentElement:Gr,getClippingRect:WA,getOffsetParent:Hw,getElementRects:KA,getClientRects:FA,getDimensions:HA,getScale:ki,isElement:Or,isRTL:QA};function Gw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function JA(t,e){let r=null,s;const o=Gr(t);function l(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:p,top:y,width:v,height:w}=m;if(d||e(),!v||!w)return;const C=Il(y),j=Il(o.clientWidth-(p+v)),_=Il(o.clientHeight-(y+w)),O=Il(p),P={rootMargin:-C+"px "+-j+"px "+-_+"px "+-O+"px",threshold:ir(0,Kn(1,h))||1};let N=!0;function I(M){const D=M[0].intersectionRatio;if(D!==h){if(!N)return u();D?u(!1,D):s=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!Gw(m,t.getBoundingClientRect())&&u(),N=!1}try{r=new IntersectionObserver(I,{...P,root:o.ownerDocument})}catch{r=new IntersectionObserver(I,P)}r.observe(t)}return u(!0),l}function XA(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=Rh(t),p=o||l?[...m?Qo(m):[],...Qo(e)]:[];p.forEach(O=>{o&&O.addEventListener("scroll",r,{passive:!0}),l&&O.addEventListener("resize",r)});const y=m&&d?JA(m,r):null;let v=-1,w=null;u&&(w=new ResizeObserver(O=>{let[T]=O;T&&T.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(e)})),r()}),m&&!h&&w.observe(m),w.observe(e));let C,j=h?Ns(t):null;h&&_();function _(){const O=Ns(t);j&&!Gw(j,O)&&r(),j=O,C=requestAnimationFrame(_)}return r(),()=>{var O;p.forEach(T=>{o&&T.removeEventListener("scroll",r),l&&T.removeEventListener("resize",r)}),y?.(),(O=w)==null||O.disconnect(),w=null,h&&cancelAnimationFrame(C)}}const ZA=CA,eR=jA,tR=wA,rR=NA,nR=bA,Rv=xA,sR=SA,iR=(t,e,r)=>{const s=new Map,o={platform:YA,...r},l={...o.platform,_c:s};return vA(t,e,{...o,platform:l})};var oR=typeof document<"u",aR=function(){},Bl=oR?b.useLayoutEffect:aR;function nc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!nc(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=r;s--!==0;){const l=o[s];if(!(l==="_owner"&&t.$$typeof)&&!nc(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Kw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(t,e){const r=Kw(t);return Math.round(e*r)/r}function Gd(t){const e=b.useRef(t);return Bl(()=>{e.current=t}),e}function lR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[p,y]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=b.useState(s);nc(v,s)||w(s);const[C,j]=b.useState(null),[_,O]=b.useState(null),T=b.useCallback(q=>{q!==M.current&&(M.current=q,j(q))},[]),P=b.useCallback(q=>{q!==D.current&&(D.current=q,O(q))},[]),N=l||C,I=u||_,M=b.useRef(null),D=b.useRef(null),H=b.useRef(p),te=h!=null,U=Gd(h),me=Gd(o),se=Gd(m),re=b.useCallback(()=>{if(!M.current||!D.current)return;const q={placement:e,strategy:r,middleware:v};me.current&&(q.platform=me.current),iR(M.current,D.current,q).then(ie=>{const ne={...ie,isPositioned:se.current!==!1};B.current&&!nc(H.current,ne)&&(H.current=ne,hc.flushSync(()=>{y(ne)}))})},[v,e,r,me,se]);Bl(()=>{m===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[m]);const B=b.useRef(!1);Bl(()=>(B.current=!0,()=>{B.current=!1}),[]),Bl(()=>{if(N&&(M.current=N),I&&(D.current=I),N&&I){if(U.current)return U.current(N,I,re);re()}},[N,I,re,U,te]);const we=b.useMemo(()=>({reference:M,floating:D,setReference:T,setFloating:P}),[T,P]),J=b.useMemo(()=>({reference:N,floating:I}),[N,I]),fe=b.useMemo(()=>{const q={position:r,left:0,top:0};if(!J.floating)return q;const ie=Ov(J.floating,p.x),ne=Ov(J.floating,p.y);return d?{...q,transform:"translate("+ie+"px, "+ne+"px)",...Kw(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:ne}},[r,d,J.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:re,refs:we,elements:J,floatingStyles:fe}),[p,re,we,J,fe])}const cR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:o}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Rv({element:s.current,padding:o}).fn(r):{}:s?Rv({element:s,padding:o}).fn(r):{}}}},uR=(t,e)=>({...ZA(t),options:[t,e]}),dR=(t,e)=>({...eR(t),options:[t,e]}),fR=(t,e)=>({...sR(t),options:[t,e]}),hR=(t,e)=>({...tR(t),options:[t,e]}),mR=(t,e)=>({...rR(t),options:[t,e]}),pR=(t,e)=>({...nR(t),options:[t,e]}),gR=(t,e)=>({...cR(t),options:[t,e]});var yR="Arrow",Qw=b.forwardRef((t,e)=>{const{children:r,width:s=10,height:o=5,...l}=t;return a.jsx(Ot.svg,{...l,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qw.displayName=yR;var vR=Qw;function xR(t){const[e,r]=b.useState(void 0);return xr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Oh="Popper",[Yw,Jw]=ra(Oh),[wR,Xw]=Yw(Oh),Zw=t=>{const{__scopePopper:e,children:r}=t,[s,o]=b.useState(null);return a.jsx(wR,{scope:e,anchor:s,onAnchorChange:o,children:r})};Zw.displayName=Oh;var eb="PopperAnchor",tb=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...o}=t,l=Xw(eb,r),u=b.useRef(null),d=Rr(e,u),h=b.useRef(null);return b.useEffect(()=>{const m=h.current;h.current=s?.current||u.current,m!==h.current&&l.onAnchorChange(h.current)}),s?null:a.jsx(Ot.div,{...o,ref:d})});tb.displayName=eb;var Mh="PopperContent",[bR,_R]=Yw(Mh),rb=b.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:C,...j}=t,_=Xw(Mh,r),[O,T]=b.useState(null),P=Rr(e,le=>T(le)),[N,I]=b.useState(null),M=xR(N),D=M?.width??0,H=M?.height??0,te=s+(l!=="center"?"-"+l:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},me=Array.isArray(m)?m:[m],se=me.length>0,re={padding:U,boundary:me.filter(jR),altBoundary:se},{refs:B,floatingStyles:we,placement:J,isPositioned:fe,middlewareData:q}=lR({strategy:"fixed",placement:te,whileElementsMounted:(...le)=>XA(...le,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[uR({mainAxis:o+H,alignmentAxis:u}),h&&dR({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?fR():void 0,...re}),h&&hR({...re}),mR({...re,apply:({elements:le,rects:xe,availableWidth:Ae,availableHeight:Y})=>{const{width:K,height:Le}=xe.reference,je=le.floating.style;je.setProperty("--radix-popper-available-width",`${Ae}px`),je.setProperty("--radix-popper-available-height",`${Y}px`),je.setProperty("--radix-popper-anchor-width",`${K}px`),je.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),N&&gR({element:N,padding:d}),SR({arrowWidth:D,arrowHeight:H}),v&&pR({strategy:"referenceHidden",...re})]}),[ie,ne]=ib(J),E=un(C);xr(()=>{fe&&E?.()},[fe,E]);const L=q.arrow?.x,Q=q.arrow?.y,oe=q.arrow?.centerOffset!==0,[ve,Ce]=b.useState();return xr(()=>{O&&Ce(window.getComputedStyle(O).zIndex)},[O]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:fe?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(bR,{scope:r,placedSide:ie,onArrowChange:I,arrowX:L,arrowY:Q,shouldHideArrow:oe,children:a.jsx(Ot.div,{"data-side":ie,"data-align":ne,...j,ref:P,style:{...j.style,animation:fe?void 0:"none"}})})})});rb.displayName=Mh;var nb="PopperArrow",CR={top:"bottom",right:"left",bottom:"top",left:"right"},sb=b.forwardRef(function(e,r){const{__scopePopper:s,...o}=e,l=_R(nb,s),u=CR[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(vR,{...o,ref:r,style:{...o.style,display:"block"}})})});sb.displayName=nb;function jR(t){return t!==null}var SR=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,p]=ib(r),y={start:"0%",center:"50%",end:"100%"}[p],v=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+h/2;let C="",j="";return m==="bottom"?(C=u?y:`${v}px`,j=`${-h}px`):m==="top"?(C=u?y:`${v}px`,j=`${s.floating.height+h}px`):m==="right"?(C=`${-h}px`,j=u?y:`${w}px`):m==="left"&&(C=`${s.floating.width+h}px`,j=u?y:`${w}px`),{data:{x:C,y:j}}}});function ib(t){const[e,r="center"]=t.split("-");return[e,r]}var NR=Zw,kR=tb,ER=rb,PR=sb,[Cc]=ra("Tooltip",[Jw]),jc=Jw(),ob="TooltipProvider",TR=700,Ff="tooltip.open",[AR,Ih]=Cc(ob),ab=t=>{const{__scopeTooltip:e,delayDuration:r=TR,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:l}=t,u=b.useRef(!0),d=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),a.jsx(AR,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:b.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:l})};ab.displayName=ob;var Yo="Tooltip",[RR,oa]=Cc(Yo),lb=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:o,onOpenChange:l,disableHoverableContent:u,delayDuration:d}=t,h=Ih(Yo,t.__scopeTooltip),m=jc(e),[p,y]=b.useState(null),v=oA(),w=b.useRef(0),C=u??h.disableHoverableContent,j=d??h.delayDuration,_=b.useRef(!1),[O,T]=A0({prop:s,defaultProp:o??!1,onChange:D=>{D?(h.onOpen(),document.dispatchEvent(new CustomEvent(Ff))):h.onClose(),l?.(D)},caller:Yo}),P=b.useMemo(()=>O?_.current?"delayed-open":"instant-open":"closed",[O]),N=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,_.current=!1,T(!0)},[T]),I=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T(!1)},[T]),M=b.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{_.current=!0,T(!0),w.current=0},j)},[j,T]);return b.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),a.jsx(NR,{...m,children:a.jsx(RR,{scope:e,contentId:v,open:O,stateAttribute:P,trigger:p,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?M():N()},[h.isOpenDelayedRef,M,N]),onTriggerLeave:b.useCallback(()=>{C?I():(window.clearTimeout(w.current),w.current=0)},[I,C]),onOpen:N,onClose:I,disableHoverableContent:C,children:r})})};lb.displayName=Yo;var Uf="TooltipTrigger",cb=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=oa(Uf,r),l=Ih(Uf,r),u=jc(r),d=b.useRef(null),h=Rr(e,d,o.onTriggerChange),m=b.useRef(!1),p=b.useRef(!1),y=b.useCallback(()=>m.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),a.jsx(kR,{asChild:!0,...u,children:a.jsx(Ot.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:St(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:St(t.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:St(t.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:St(t.onFocus,()=>{m.current||o.onOpen()}),onBlur:St(t.onBlur,o.onClose),onClick:St(t.onClick,o.onClose)})})});cb.displayName=Uf;var Dh="TooltipPortal",[OR,MR]=Cc(Dh,{forceMount:void 0}),ub=t=>{const{__scopeTooltip:e,forceMount:r,children:s,container:o}=t,l=oa(Dh,e);return a.jsx(OR,{scope:e,forceMount:r,children:a.jsx(mc,{present:r||l.open,children:a.jsx(mh,{asChild:!0,container:o,children:s})})})};ub.displayName=Dh;var Ri="TooltipContent",db=b.forwardRef((t,e)=>{const r=MR(Ri,t.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...l}=t,u=oa(Ri,t.__scopeTooltip);return a.jsx(mc,{present:s||u.open,children:u.disableHoverableContent?a.jsx(fb,{side:o,...l,ref:e}):a.jsx(IR,{side:o,...l,ref:e})})}),IR=b.forwardRef((t,e)=>{const r=oa(Ri,t.__scopeTooltip),s=Ih(Ri,t.__scopeTooltip),o=b.useRef(null),l=Rr(e,o),[u,d]=b.useState(null),{trigger:h,onClose:m}=r,p=o.current,{onPointerInTransitChange:y}=s,v=b.useCallback(()=>{d(null),y(!1)},[y]),w=b.useCallback((C,j)=>{const _=C.currentTarget,O={x:C.clientX,y:C.clientY},T=FR(O,_.getBoundingClientRect()),P=UR(O,T),N=BR(j.getBoundingClientRect()),I=zR([...P,...N]);d(I),y(!0)},[y]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(h&&p){const C=_=>w(_,p),j=_=>w(_,h);return h.addEventListener("pointerleave",C),p.addEventListener("pointerleave",j),()=>{h.removeEventListener("pointerleave",C),p.removeEventListener("pointerleave",j)}}},[h,p,w,v]),b.useEffect(()=>{if(u){const C=j=>{const _=j.target,O={x:j.clientX,y:j.clientY},T=h?.contains(_)||p?.contains(_),P=!VR(O,u);T?v():P&&(v(),m())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[h,p,u,m,v]),a.jsx(fb,{...t,ref:l})}),[DR,LR]=Cc(Yo,{isInside:!1}),$R=Hk("TooltipContent"),fb=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=t,h=oa(Ri,r),m=jc(r),{onClose:p}=h;return b.useEffect(()=>(document.addEventListener(Ff,p),()=>document.removeEventListener(Ff,p)),[p]),b.useEffect(()=>{if(h.trigger){const y=v=>{v.target?.contains(h.trigger)&&p()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,p]),a.jsx(hh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:p,children:a.jsxs(ER,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx($R,{children:s}),a.jsx(DR,{scope:r,isInside:!0,children:a.jsx(g2,{id:h.contentId,role:"tooltip",children:o||s})})]})})});db.displayName=Ri;var hb="TooltipArrow",mb=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=jc(r);return LR(hb,r).isInside?null:a.jsx(PR,{...o,...s,ref:e})});mb.displayName=hb;function FR(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(r,s,o,l)){case l:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function UR(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function BR(t){const{top:e,right:r,bottom:s,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:s},{x:o,y:s}]}function VR(t,e){const{x:r,y:s}=t;let o=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l],h=e[u],m=d.x,p=d.y,y=h.x,v=h.y;p>s!=v>s&&r<(y-m)*(s-p)/(v-p)+m&&(o=!o)}return o}function zR(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),qR(e)}function qR(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;r.length>=2;){const l=r[r.length-1],u=r[r.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var WR=ab,HR=lb,GR=cb,KR=ub,QR=db,YR=mb;function JR({user:t,className:e}){if(!t)return null;const r="https://api.dicebear.com/7.x/avataaars/svg?seed="+encodeURIComponent(t.email),s=t.user_metadata?.name||t.email,o=t.user_metadata?.avatar_url||r;return a.jsx(WR,{children:a.jsxs(HR,{children:[a.jsx(GR,{asChild:!0,children:a.jsxs(tA,{className:`relative inline-flex h-8 w-8 ${e}`,children:[a.jsx(rA,{src:o,className:"h-full w-full rounded-full object-cover",alt:s}),a.jsx(nA,{className:"flex h-full w-full items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:s.charAt(0).toUpperCase()})]})}),a.jsx(KR,{children:a.jsxs(QR,{className:"rounded-md bg-white px-3 py-1.5 text-sm text-gray-900 shadow-md dark:bg-gray-800 dark:text-gray-100",sideOffset:5,children:[s,a.jsx(YR,{className:"fill-current text-white dark:text-gray-800"})]})})]})})}const XR=J0("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=rt.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...o},l)=>{const u=s?qk:"button";return a.jsx(u,{className:As(XR({variant:e,size:r,className:t})),ref:l,...o})});ye.displayName="Button";const pb=b.createContext(),ZR={es:{nav:{home:"Inicio",products:"Productos",remittances:"Remesas",admin:"Administración",dashboard:"Panel de Control",settings:"Configuración",cart:"Carrito",userPanel:"Mi Panel",userManagement:"Gestión de Usuarios"},home:{hero:{cta:{products:"Ver Productos"}},features:{title:"Funcionalidades Principales",subtitle:"Todo lo que necesitas para hacer crecer tu negocio digital",products:{title:"Venta de Productos",description:"Plataforma completa para vendedores independientes con cálculo automático de precios"},remittances:{title:"Remesas a Cuba",description:"Envía dinero a Cuba desde USA y España de forma rápida y segura"},analytics:{title:"Panel de Ganancias",description:"Visualiza tus ganancias diarias y mensuales en tiempo real"},vendors:{title:"Gestión de Vendedores",description:"Herramientas completas para que vendedores independientes gestionen su inventario"}},testimonials:{title:"Lo que dicen nuestros clientes",subtitle:"Experiencias reales de usuarios satisfechos con nuestra plataforma."}},products:{title:"Catálogo de Productos",subtitle:"Descubre productos y combos para enviar a Cuba con precios competitivos",searchPlaceholder:"Buscar productos...",categories:{all:"Todas las Categorías"},exchangeRate:"Tasa de Cambio Actual",addToCart:"Agregar al Carrito",vendor:"Vendedor",noProducts:"No se encontraron productos",noProductsDesc:"Intenta con otros términos de búsqueda o categorías",addProduct:"Agregar Producto",addedToCart:"Producto agregado",addedToCartDesc:"se agregó al carrito exitosamente",detail:{previous:"Anterior",next:"Siguiente",backToProducts:"← Volver a Productos",backToCombos:"← Volver a Combos",continueToProducts:"Continuar a Productos →",continueToCombos:"Continuar a Combos →",price:"Precio",basePrice:"Precio Base",category:"Categoría",description:"Descripción",stock:"Stock Disponible",expiryDate:"Fecha de Vencimiento",currency:"Moneda",includedProducts:"Productos Incluidos",profitMargin:"Margen de Ganancia",comboDetails:"Detalles del Combo",productDetails:"Detalles del Producto",inStock:"En Stock",outOfStock:"Agotado",units:"unidades"}},remittances:{title:"Remesas a Cuba",subtitle:"Envía dinero a Cuba desde USA y España de forma rápida y segura",calculator:"Calculadora de Remesas",amount:"Cantidad a Enviar (USD)",country:"País de Destino",selectCountry:"Seleccionar país...",currentRate:"Tasa Actual",popular:"Popular",rate:"Tasa",fee:"Comisión",time:"Tiempo",youReceive:"Recibes",send:"Enviar",howItWorks:"¿Cómo Funciona?",step1:{title:"Selecciona el País",description:"Elige el país de destino y la cantidad a enviar"},step2:{title:"Confirma los Datos",description:"Verifica la información del destinatario"},step3:{title:"Recibe Confirmación",description:"El dinero llega en el tiempo estimado"},recipient:{title:"Datos del Destinatario",deliveryMethod:"Método de Entrega",cash:"Efectivo",transfer:"Transferencia",currency:"Moneda",fullName:"Nombre Completo",bankName:"Nombre del Banco",accountNumber:"Número de Cuenta",confirm:"Confirmar y Enviar"}},vendor:{title:"Gestión de la Plataforma",subtitle:"Gestiona productos, categorías, combos y más.",tabs:{inventory:"Inventario",categories:"Categorías",combos:"Combos",management:"Gestión"},actions:{addProduct:"Agregar Producto",createCombo:"Crear Combo"},addProduct:{title:"Agregar Nuevo Producto",editTitle:"Editar Producto",cancel:"Cancelar",name:"Nombre del Producto",namePlaceholder:"Ej: iPhone 15 Pro Max",description:"Descripción",descriptionPlaceholder:"Describe las características principales...",category:"Categoría",basePrice:"Precio Base",currency:"Moneda",image:"Imagen del Producto",upload:"Subir archivo",finalPrice:"Precio Final",save:"Guardar Producto"},inventory:{product:"Producto",stock:"Existencias",price:"Precio Final",expiryDate:"Fecha de Caducidad"},categories:{manage:"Gestionar Categorías",new:"Nueva categoría",name_es:"Nombre (ES)",name_en:"Nombre (EN)",id:"ID"},combos:{title:"Gestión de Combos",new:"Crear Nuevo Combo",edit:"Editar Combo",name:"Nombre del Combo",profitMargin:"Margen de Ganancia (%)",shipping:"Envío",free:"Gratis",discount:"Descuento (%)",paid:"Pagado",shippingCost:"Costo de Envío",products:"Productos en el Combo",addProduct:"Agregar Producto",basePrice:"Precio Base Total",finalPrice:"Precio Final",coverImage:"Imagen de Portada",save:"Guardar Combo"},management:{title:"Gestión General",payments:"Gestión de Pagos",testimonials:"Gestión de Testimonios",users:"Gestión de Usuarios",show:"Mostrar",hide:"Ocultar",activate:"Activar",deactivate:"Desactivar",delete:"Eliminar"},validation:{error:"Error de Validación",fillFields:"Por favor completa todos los campos requeridos"},productAdded:"Producto agregado exitosamente",productUpdated:"Producto actualizado exitosamente",categoryAdded:"Categoría agregada",categoryRemoved:"Categoría eliminada",comboAdded:"Combo creado exitosamente",comboUpdated:"Combo actualizado exitosamente"},dashboard:{title:"Panel de Control",subtitle:"Visualización completa de ganancias y métricas del negocio",privateAccess:"Acceso Privado",adminOnly:"Esta sección es solo para administradores.",refresh:"Actualizar",stats:{dailyRevenue:"Ingresos Diarios",monthlyRevenue:"Ingresos Mensuales",dailyProfit:"Ganancia Diaria",monthlyProfit:"Ganancia Mensual",totalProducts:"Total de Productos",totalCombos:"Total de Combos",pendingOrders:"Pedidos Pendientes",completedOrders:"Pedidos Completados",totalUsers:"Total de Usuarios",activeProducts:"Productos Activos",siteVisits:"Visitas al Sitio"},profitBreakdown:"Desglose de Ganancias",dailyBreakdown:"Desglose Diario",monthlyBreakdown:"Desglose Mensual",grossRevenue:"Ingresos Brutos",costs:"Costos",netProfit:"Ganancia Neta",profitMargin:"Margen de Ganancia",orderSummary:"Resumen de Pedidos",pending:"Pendientes",completed:"Completados",analyticsTitle:"Análisis y Estadísticas",selectCurrency:"Seleccionar Moneda",expirationWarning:{title:"Alerta de Caducidad",description:"Hay {count} producto(s) próximos a caducar en los siguientes 30 días."},visits:{title:"Visitas al Sitio",weekly:"Semanal",monthly:"Mensual",yearly:"Anual",total:"Total",thisWeek:"Esta Semana",thisMonth:"Este Mes",thisYear:"Este Año",allTime:"Histórico"}},settings:{title:"Ajustes Generales",subtitle:"Gestiona la configuración clave de tu plataforma.",financial:{title:"Ajustes Financieros",usdToLocal:"USD a Moneda Nacional",productProfit:"Ganancia Productos (%)",comboProfit:"Ganancia Combos (%)",remittanceProfit:"Ganancia Remesas (%)",save:"Guardar Ajustes",currencies:"Gestión de Monedas",addCurrency:"Agregar Moneda",code:"Código (ej: USD, EUR, CUP)",nameES:"Nombre (Español)",nameEN:"Nombre (Inglés)",rate:"Tasa vs USD",symbol:"Símbolo",active:"Activa",updateCurrency:"Actualizar Moneda",currencyCreated:"Moneda creada",currencyUpdated:"Moneda actualizada",currencyDeleted:"Moneda eliminada"},zelle:{title:"Cuentas Zelle",add:"Agregar Cuenta Zelle",email:"Email",name:"Nombre",assignTo:"Asignar a",products:"Venta de Productos",remittances:"Remesas",active:"Activa"},visual:{title:"Ajustes Visuales",logo:"Logo del Sitio",favicon:"Favicon",slides:"Diapositivas de Portada",addSlide:"Agregar Diapositiva",image:"Imagen (URL o Archivo)",imageType:"Tipo de Imagen",url:"URL",upload:"Subir",mainText:"Texto Principal",secondaryText:"Texto Secundario",text_es:"Texto (ES)",text_en:"Texto (EN)",linkUrl:"Enlace (URL)",order:"Orden",active:"Activa",save:"Guardar Ajustes"},notifications:{title:"Ajustes de Notificación",whatsapp:"Número de WhatsApp para Notificaciones",adminEmail:"Email de Administración para Notificaciones",save:"Guardar Ajustes"},saveSuccess:"Ajustes guardados exitosamente"},cart:{title:"Tu Carrito de Compras",empty:"Tu carrito está vacío.",browse:"Explorar productos",summary:"Resumen del Pedido",subtotal:"Subtotal",shipping:"Envío",free:"Gratis",total:"Total",checkout:"Proceder al Pago",payment:{title:"Realizar Pago",instructionsTitle:"Instrucciones de Pago",instructions:"Copia el ID de la compra y pégalo en la descripción de la transferencia Zelle. Envía el comprobante a info@papuenvios.com o súbelo directamente aquí. El pago estará sujeto a validación.",accountInfo:"Datos de la Cuenta Zelle",purchaseId:"ID de la Compra",copy:"Copiado",amount:"Monto a Pagar",uploadProof:"Subir Comprobante de Pago",confirm:"Confirmar Pago",recipientTitle:"Datos de Entrega/Destinatario"}},auth:{login:"Iniciar Sesión",loginTitle:"Bienvenido de Nuevo",loginSubtitle:"Inicia sesión para acceder a tu cuenta.",email:"Correo Electrónico",password:"Contraseña",loginWithGoogle:"Iniciar Sesión con Google",or:"O",loginSuccess:"¡Inicio de sesión exitoso!",loginError:"Credenciales inválidas. Por favor, intenta de nuevo.",logoutSuccess:"Sesión cerrada exitosamente.",loginRequired:"Inicio de Sesión Requerido",loginToCheckout:"Por favor, inicia sesión para continuar con el pago."},userPanel:{title:"Mi Panel de Usuario",welcome:"Bienvenido, {name}",myOrders:"Mis Pedidos",noOrders:"Aún no tienes pedidos.",status:{pending:"Pendiente",validated:"Validado",rejected:"Rechazado"}},users:{management:"Gestión de Usuarios",managementDescription:"Administra roles y permisos de usuarios de la plataforma",fetchError:"Error al cargar usuarios",roleUpdated:"Rol actualizado",roleUpdatedSuccess:"El rol del usuario se actualizó correctamente",roleUpdateError:"Error al actualizar rol",userEnabled:"Usuario habilitado",userDisabled:"Usuario deshabilitado",statusUpdateSuccess:"El estado del usuario se actualizó correctamente",statusUpdateError:"Error al actualizar estado",cannotModifySuperAdmin:"No se puede modificar al super administrador",superAdmin:"Super Admin",noUsers:"No hay usuarios",enable:"Habilitar",disable:"Deshabilitar",delete:"Eliminar",deleteUser:"Eliminar usuario",enableUser:"Activar usuario",disableUser:"Desactivar usuario",userDeleted:"Usuario eliminado",userDeletedSuccess:"El usuario ha sido eliminado exitosamente.",deleteError:"Error al eliminar",confirmDelete:"¿Estás seguro de que deseas eliminar a {email}? Esta acción no se puede deshacer.",protected:"Protegido",refresh:"Actualizar",loadingUsers:"Cargando usuarios...",noUsersFound:"No se encontraron usuarios",total:"Total",rolesPermissions:{title:"Roles y Permisos",userDesc:"Acceso básico al sistema",adminDesc:"Gestión de productos, combos e inventario",superAdminDesc:"Acceso total + gestión de usuarios"},securityNote:{title:"Nota de seguridad",superAdminProtected:"Los Super Admins están protegidos y no pueden ser editados ni eliminados",onlySuperAdminManage:"Solo Super Admins pueden gestionar roles y eliminar usuarios",deletionPermanent:"La eliminación de usuarios es permanente y no se puede deshacer"},roles:{user:"Usuario",admin:"Administrador",super_admin:"Super Administrador"},table:{email:"Correo Electrónico",name:"Nombre",role:"Rol",status:"Estado",actions:"Acciones",active:"Activo",inactive:"Inactivo",createdAt:"Fecha de Registro"}}},en:{nav:{home:"Home",products:"Products",remittances:"Remittances",admin:"Administration",dashboard:"Control Panel",settings:"Settings",cart:"Cart",userPanel:"My Panel",userManagement:"User Management"},home:{hero:{cta:{products:"View Products"}},features:{title:"Key Features",subtitle:"Everything you need to grow your digital business",products:{title:"Product Sales",description:"Complete platform for independent vendors with automatic price calculation"},remittances:{title:"Remittances to Cuba",description:"Send money to Cuba from USA and Spain quickly and securely"},analytics:{title:"Profit Dashboard",description:"View your daily and monthly profits in real-time"},vendors:{title:"Vendor Management",description:"Complete tools for independent vendors to manage their inventory"}},testimonials:{title:"What our customers say",subtitle:"Real experiences from users satisfied with our platform."}},products:{title:"Product Catalog",subtitle:"Discover exclusive products and combos to send to Cuba with competitive prices",searchPlaceholder:"Search products...",categories:{all:"All Categories"},exchangeRate:"Current Exchange Rate",addToCart:"Add to Cart",vendor:"Vendor",noProducts:"No products found",noProductsDesc:"Try different search terms or categories",addProduct:"Add Product",addedToCart:"Product added",addedToCartDesc:"was successfully added to cart",detail:{previous:"Previous",next:"Next",backToProducts:"← Back to Products",backToCombos:"← Back to Combos",continueToProducts:"Continue to Products →",continueToCombos:"Continue to Combos →",price:"Price",basePrice:"Base Price",category:"Category",description:"Description",stock:"Available Stock",expiryDate:"Expiry Date",currency:"Currency",includedProducts:"Included Products",profitMargin:"Profit Margin",comboDetails:"Combo Details",productDetails:"Product Details",inStock:"In Stock",outOfStock:"Out of Stock",units:"units"}},remittances:{title:"Remittances to Cuba",subtitle:"Send money to Cuba from USA and Spain quickly and securely",calculator:"Remittance Calculator",amount:"Amount to Send (USD)",country:"Destination Country",selectCountry:"Select country...",currentRate:"Current Rate",popular:"Popular",rate:"Rate",fee:"Fee",time:"Time",youReceive:"You Receive",send:"Send",howItWorks:"How It Works?",step1:{title:"Select Country",description:"Choose destination country and amount to send"},step2:{title:"Confirm Details",description:"Verify recipient information"},step3:{title:"Receive Confirmation",description:"Money arrives within estimated time"},recipient:{title:"Recipient Details",deliveryMethod:"Delivery Method",cash:"Cash",transfer:"Transfer",currency:"Currency",fullName:"Full Name",bankName:"Bank Name",accountNumber:"Account Number",confirm:"Confirm & Send"}},vendor:{title:"Platform Management",subtitle:"Manage products, categories, combos, and more.",tabs:{inventory:"Inventory",categories:"Categories",combos:"Combos",management:"Management"},actions:{addProduct:"Add Product",createCombo:"Create Combo"},addProduct:{title:"Add New Product",editTitle:"Edit Product",cancel:"Cancel",name:"Product Name",namePlaceholder:"Ex: iPhone 15 Pro Max",description:"Description",descriptionPlaceholder:"Describe main features...",category:"Category",basePrice:"Base Price",currency:"Currency",image:"Product Image",upload:"Upload file",finalPrice:"Final Price",save:"Save Product"},inventory:{product:"Product",stock:"Stock",price:"Final Price",expiryDate:"Expiry Date"},categories:{manage:"Manage Categories",new:"New category",name_es:"Name (ES)",name_en:"Name (EN)",id:"ID"},combos:{title:"Combo Management",new:"Create New Combo",edit:"Edit Combo",name:"Combo Name",profitMargin:"Profit Margin (%)",shipping:"Shipping",free:"Free",discount:"Discount (%)",paid:"Paid",shippingCost:"Shipping Cost",products:"Products in Combo",addProduct:"Add Product",basePrice:"Total Base Price",finalPrice:"Final Price",coverImage:"Cover Image",save:"Save Combo"},management:{title:"General Management",payments:"Payment Management",testimonials:"Testimonial Management",users:"User Management",show:"Show",hide:"Hide",activate:"Activate",deactivate:"Deactivate",delete:"Delete"},validation:{error:"Validation Error",fillFields:"Please fill all required fields"},productAdded:"Product added successfully",productUpdated:"Product updated successfully",categoryAdded:"Category added",categoryRemoved:"Category removed",comboAdded:"Combo created successfully",comboUpdated:"Combo updated successfully"},dashboard:{title:"Control Panel",subtitle:"Complete visualization of profits and business metrics",privateAccess:"Private Access",adminOnly:"This section is for administrators only.",refresh:"Refresh",stats:{dailyRevenue:"Daily Revenue",monthlyRevenue:"Monthly Revenue",dailyProfit:"Daily Profit",monthlyProfit:"Monthly Profit",totalProducts:"Total Products",totalCombos:"Total Combos",pendingOrders:"Pending Orders",completedOrders:"Completed Orders",totalUsers:"Total Users",activeProducts:"Active Products",siteVisits:"Site Visits"},profitBreakdown:"Profit Breakdown",dailyBreakdown:"Daily Breakdown",monthlyBreakdown:"Monthly Breakdown",grossRevenue:"Gross Revenue",costs:"Costs",netProfit:"Net Profit",profitMargin:"Profit Margin",orderSummary:"Order Summary",pending:"Pending",completed:"Completed",analyticsTitle:"Analytics & Statistics",selectCurrency:"Select Currency",expirationWarning:{title:"Expiration Alert",description:"There are {count} product(s) nearing expiration in the next 30 days."},visits:{title:"Site Visits",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",total:"Total",thisWeek:"This Week",thisMonth:"This Month",thisYear:"This Year",allTime:"All Time"}},settings:{title:"General Settings",subtitle:"Manage the key settings of your platform.",financial:{title:"Financial Settings",usdToLocal:"USD to Local Currency",productProfit:"Product Profit (%)",comboProfit:"Combo Profit (%)",remittanceProfit:"Remittance Profit (%)",save:"Save Settings",currencies:"Currency Management",addCurrency:"Add Currency",code:"Code (e.g: USD, EUR, CUP)",nameES:"Name (Spanish)",nameEN:"Name (English)",rate:"Rate vs USD",symbol:"Symbol",active:"Active",updateCurrency:"Update Currency",currencyCreated:"Currency created",currencyUpdated:"Currency updated",currencyDeleted:"Currency deleted"},zelle:{title:"Zelle Accounts",add:"Add Zelle Account",email:"Email",name:"Name",assignTo:"Assign to",products:"Product Sales",remittances:"Remittances",active:"Active"},visual:{title:"Visual Settings",logo:"Site Logo",favicon:"Favicon",slides:"Homepage Slides",addSlide:"Add Slide",image:"Image (URL or File)",imageType:"Image Type",url:"URL",upload:"Upload",mainText:"Main Text",secondaryText:"Secondary Text",text_es:"Text (ES)",text_en:"Text (EN)",active:"Active",save:"Save Settings"},notifications:{title:"Notification Settings",whatsapp:"WhatsApp Number for Notifications",adminEmail:"Admin Email for Notifications",save:"Save Settings"},saveSuccess:"Settings saved successfully"},cart:{title:"Your Shopping Cart",empty:"Your cart is empty.",browse:"Browse products",summary:"Order Summary",subtotal:"Subtotal",shipping:"Shipping",free:"Free",total:"Total",checkout:"Proceed to Checkout",payment:{title:"Make Payment",instructionsTitle:"Payment Instructions",instructions:"Copy the purchase ID and paste it into the Zelle transfer description. Send the receipt to info@papuenvios.com or upload it directly here. The payment will be subject to validation.",accountInfo:"Zelle Account Details",purchaseId:"Purchase ID",copy:"Copied",amount:"Amount to Pay",uploadProof:"Upload Payment Proof",confirm:"Confirm Payment",recipientTitle:"Delivery/Recipient Details"}},auth:{login:"Login",loginTitle:"Welcome Back",loginSubtitle:"Log in to access your account.",email:"Email",password:"Password",loginWithGoogle:"Login with Google",or:"Or",loginSuccess:"Login successful!",loginError:"Invalid credentials. Please try again.",logoutSuccess:"Logged out successfully.",loginRequired:"Login Required",loginToCheckout:"Please log in to continue to checkout."},userPanel:{title:"My User Panel",welcome:"Welcome, {name}",myOrders:"My Orders",noOrders:"You have no orders yet.",status:{pending:"Pending",validated:"Validated",rejected:"Rejected"}},users:{management:"User Management",managementDescription:"Manage platform user roles and permissions",fetchError:"Error loading users",roleUpdated:"Role updated",roleUpdatedSuccess:"User role was updated successfully",roleUpdateError:"Error updating role",userEnabled:"User enabled",userDisabled:"User disabled",statusUpdateSuccess:"User status was updated successfully",statusUpdateError:"Error updating status",cannotModifySuperAdmin:"Cannot modify super administrator",superAdmin:"Super Admin",noUsers:"No users",enable:"Enable",disable:"Disable",delete:"Delete",deleteUser:"Delete user",enableUser:"Enable user",disableUser:"Disable user",userDeleted:"User deleted",userDeletedSuccess:"User has been deleted successfully.",deleteError:"Error deleting",confirmDelete:"Are you sure you want to delete {email}? This action cannot be undone.",protected:"Protected",refresh:"Refresh",loadingUsers:"Loading users...",noUsersFound:"No users found",total:"Total",rolesPermissions:{title:"Roles & Permissions",userDesc:"Basic system access",adminDesc:"Product, combo and inventory management",superAdminDesc:"Full access + user management"},securityNote:{title:"Security Note",superAdminProtected:"Super Admins are protected and cannot be edited or deleted",onlySuperAdminManage:"Only Super Admins can manage roles and delete users",deletionPermanent:"User deletion is permanent and cannot be undone"},roles:{user:"User",admin:"Administrator",super_admin:"Super Administrator"},table:{email:"Email",name:"Name",role:"Role",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive",createdAt:"Registration Date"}}}},e4=({children:t})=>{const[e,r]=b.useState("es"),s=(o,l={})=>{const u=o.split(".");let d=ZR[e];for(const h of u)d=d?.[h];return typeof d=="string"?Object.entries(l).reduce((h,[m,p])=>h.replace(`{${m}}`,p),d):d||o};return a.jsx(pb.Provider,{value:{language:e,setLanguage:r,t:s},children:t})},er=()=>{const t=b.useContext(pb);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},gb=()=>{const[t,e]=b.useState(null);b.useEffect(()=>{try{const d=localStorage.getItem("visualSettings");d&&e(JSON.parse(d))}catch(d){console.error("Error loading visual settings:",d)}},[]);const r=t?.primaryColor||"#2563eb",s=t?.secondaryColor||"#9333ea",o=t?.useGradient!==void 0?t.useGradient:!0,l=t?.pageBgColor||"#f9fafb",u=o?{background:`linear-gradient(to right, ${r}, ${s})`}:{backgroundColor:l};return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:u,children:a.jsx(pe.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,ease:[0,.71,.2,1.01],scale:{type:"spring",damping:5,stiffness:100,restDelta:.001}},className:"p-8 rounded-2xl shadow-xl",style:{backgroundColor:t?.cardBgColor||"#ffffff"},children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin",style:{borderColor:`${r} transparent transparent transparent`}}),a.jsx("p",{className:"font-medium",style:{color:t?.textPrimaryColor||"#4b5563"},children:"Authenticating..."})]})})})},yb=b.createContext(),t4=5e3,r4=1e4,n4=({children:t})=>{const[e,r]=b.useState(null),[s,o]=b.useState(null),[l,u]=b.useState(!0),[d,h]=b.useState(!0),m=b.useRef(!0),p=async N=>{try{const{data:I,error:M}=await Promise.race([ee.from("user_profiles").select("role, is_enabled, avatar_url, full_name, email").eq("id",N).single(),new Promise((D,H)=>setTimeout(()=>H(new Error("Profile fetch timeout")),t4))]);return M?(console.warn("[Auth] Profile fetch error:",M),null):I}catch(I){return console.warn("[Auth] Profile fetch failed:",I.message),null}},y=async N=>{if(!N?.user){r(null),o(null),u(!0);return}const I=N.user.id;console.log("[Auth] Updating user state for:",N.user.email);const M=await p(I);if(!M){console.warn("[Auth] Profile not found, using session data as fallback"),r(N.user),o("user"),u(!0);return}if(M.is_enabled===!1){console.warn("[Auth] Account is disabled"),r(null),o(null),u(!1);try{await ee.auth.signOut(),ue({title:"Cuenta deshabilitada",description:"Tu cuenta ha sido deshabilitada. Contacta al soporte.",variant:"destructive"})}catch(D){console.error("[Auth] Error signing out disabled user:",D)}return}r({...N.user,profile:M}),o(M.role||"user"),u(!0),console.log("[Auth] User state updated successfully. Role:",M.role),v(I,N.user,M)},v=async(N,I,M)=>{try{const D=I.user_metadata?.avatar_url||I.user_metadata?.picture,H=I.user_metadata?.full_name||I.user_metadata?.name,te={};if(D&&D!==M.avatar_url&&(te.avatar_url=D),H&&H!==M.full_name&&(te.full_name=H),Object.keys(te).length>0){const{error:U}=await ee.from("user_profiles").update(te).eq("id",N);U&&console.warn("[Auth] Metadata sync error (non-critical):",U)}}catch(D){console.warn("[Auth] Metadata sync failed (non-critical):",D)}};b.useEffect(()=>{m.current=!0;const N=setTimeout(()=>{m.current&&d&&(console.warn("[Auth] Init timeout - clearing loading state"),h(!1))},r4),I=async()=>{console.log("[Auth] Initializing..."),h(!0);try{const{data:{session:D},error:H}=await ee.auth.getSession();if(H){console.error("[Auth] getSession error:",H),h(!1);return}D&&await y(D)}catch(D){console.error("[Auth] Init error:",D)}finally{clearTimeout(N),m.current&&h(!1)}},{data:M}=ee.auth.onAuthStateChange(async(D,H)=>{if(console.log("[Auth] State change:",D),!!m.current){if(D==="SIGNED_OUT"){r(null),o(null),u(!0);return}H&&await y(H)}});return I(),()=>{m.current=!1,clearTimeout(N),M?.subscription&&M.subscription.unsubscribe()}},[]);const w=async(N,I)=>{try{const{data:M,error:D}=await ee.auth.signInWithPassword({email:N,password:I});if(D)throw D;return M?.session?(await y(M.session),!0):!1}catch(M){return console.error("[Auth] login error",M),ue({title:"Error de inicio de sesión",description:M.message||String(M),variant:"destructive"}),!1}},C=async()=>{try{await ee.auth.signOut();const{data:N,error:I}=await ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(I)throw I;N?.url&&window.location.replace(N.url)}catch(N){console.error("[Auth] signInWithGoogle error",N),ue({title:"Error",description:N.message||String(N),variant:"destructive"})}},j=async()=>{try{const{error:N}=await ee.auth.signOut();if(N)throw N;r(null),o(null),u(!0)}catch(N){console.error("[Auth] logout error",N),ue({title:"Error al cerrar sesión",description:N.message||String(N),variant:"destructive"})}},_=N=>N?s?s==="super_admin"||s==="admin"&&N!=="super_admin"?!0:s===N:!1:!0,T=["jtheoden@gmail.com","jtheoden@googlemail.com"].includes(e?.email),P={user:e,loading:d,isAuthenticated:!!e&&l,userRole:s,isEnabled:l,isSuperAdmin:s==="super_admin"||T,isAdmin:s==="admin"||s==="super_admin"||T,checkRole:_,login:w,signInWithGoogle:C,logout:j,supabaseClient:ee};return a.jsx(yb.Provider,{value:P,children:d?a.jsx(gb,{}):t})},lr=()=>{const t=b.useContext(yb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},s4=async()=>{const t=new Date().toISOString().slice(0,10).replace(/-/g,""),e=Date.now().toString().slice(-5),r=Math.floor(Math.random()*100).toString().padStart(2,"0"),s=`${e}${r}`.slice(0,5),o=`ORD-${t}-${s}`,{data:l}=await ee.from("orders").select("order_number").eq("order_number",o).maybeSingle();if(l){const u=(Date.now()%1e3).toString().padStart(3,"0");return`ORD-${t}-${e.slice(-2)}${u}`}return o},i4=async(t,e)=>{try{const s={order_number:await s4(),user_id:t.userId,order_type:t.orderType||"product",status:"pending",subtotal:t.subtotal,discount_amount:t.discountAmount||0,shipping_cost:t.shippingCost||0,tax_amount:t.taxAmount||0,total_amount:t.totalAmount,currency_id:t.currencyId,shipping_address:t.shippingAddress||null,recipient_info:t.recipientInfo||null,delivery_instructions:t.deliveryInstructions||"",payment_method:t.paymentMethod||"zelle",payment_status:"pending",payment_reference:t.paymentReference||"",payment_proof_url:t.paymentProofUrl||null,shipping_zone_id:t.shippingZoneId||null,zelle_account_id:t.zelleAccountId||null,notes:t.notes||"",offer_id:t.offerId||null},{data:o,error:l}=await ee.from("orders").insert(s).select().single();if(l)throw l;const u=e.map(m=>({order_id:o.id,item_type:m.itemType,item_id:m.itemId,item_name_es:m.nameEs,item_name_en:m.nameEn,quantity:m.quantity,unit_price:m.unitPrice,total_price:m.totalPrice,inventory_id:m.inventoryId||null,remittance_amount:m.remittanceAmount||null,exchange_rate:m.exchangeRate||null,recipient_data:m.recipientData||null})),{data:d,error:h}=await ee.from("order_items").insert(u).select();if(h)throw h;for(const m of e)m.itemType==="product"&&m.inventoryId&&await o4(m.inventoryId,m.quantity);return{success:!0,order:{...o,items:d}}}catch(r){return console.error("Error creating order:",r),{success:!1,error:r.message}}},o4=async(t,e)=>{try{const{data:r,error:s}=await ee.from("inventory").select("reserved_quantity").eq("id",t).single();if(s)throw s;const o=(r.reserved_quantity||0)+e,{error:l}=await ee.from("inventory").update({reserved_quantity:o}).eq("id",t);if(l)throw l;return await ee.from("inventory_movements").insert({inventory_id:t,movement_type:"reserved",quantity_change:-e,reference_type:"order",notes:"Reserved for order"}),{success:!0}}catch(r){return console.error("Error reserving inventory:",r),{success:!1,error:r.message}}},a4=async(t,e)=>{try{const{data:r,error:s}=await ee.from("inventory").select("reserved_quantity").eq("id",t).single();if(s)throw s;const o=Math.max(0,(r.reserved_quantity||0)-e),{error:l}=await ee.from("inventory").update({reserved_quantity:o}).eq("id",t);if(l)throw l;return await ee.from("inventory_movements").insert({inventory_id:t,movement_type:"released",quantity_change:e,reference_type:"order",notes:"Released from rejected/cancelled order"}),{success:!0}}catch(r){return console.error("Error releasing inventory:",r),{success:!1,error:r.message}}},Mv=async(t,e)=>{try{const{data:r,error:s}=await ee.from("inventory").select("quantity, reserved_quantity").eq("id",t).single();if(s)throw s;const o=r.quantity-e,l=Math.max(0,(r.reserved_quantity||0)-e),{error:u}=await ee.from("inventory").update({quantity:o,reserved_quantity:l}).eq("id",t);if(u)throw u;return await ee.from("inventory_movements").insert({inventory_id:t,movement_type:"sold",quantity_change:-e,reference_type:"order",notes:"Sold - payment validated"}),{success:!0}}catch(r){return console.error("Error reducing inventory:",r),{success:!1,error:r.message}}},l4=async(t,e={})=>{try{let r=ee.from("orders").select(`
        *,
        order_items (*),
        currencies (code, symbol),
        shipping_zones (province_name, shipping_cost)
      `).eq("user_id",t).order("created_at",{ascending:!1});e.status&&(r=r.eq("status",e.status)),e.payment_status&&(r=r.eq("payment_status",e.payment_status));const{data:s,error:o}=await r;if(o)throw o;return{success:!0,orders:s||[]}}catch(r){return console.error("Error fetching user orders:",r),{success:!1,error:r.message,orders:[]}}},c4=async t=>{try{const{data:e,error:r}=await ee.from("orders").select(`
        *,
        order_items (*),
        currencies (code, symbol),
        shipping_zones (province_name, shipping_cost)
      `).eq("id",t).single();if(r)throw r;if(e&&e.user_id){const{data:s,error:o}=await ee.from("user_profiles").select("user_id, full_name, email").eq("user_id",e.user_id).single();!o&&s&&(e.user_profiles=s)}return{success:!0,order:e}}catch(e){return console.error("Error fetching order:",e),{success:!1,error:e.message}}},u4=async(t={})=>{try{let e=ee.from("orders").select(`
        *,
        order_items (*),
        currencies (code, symbol),
        shipping_zones (province_name, shipping_cost)
      `).order("created_at",{ascending:!1});t.status&&(e=e.eq("status",t.status)),t.payment_status&&(e=e.eq("payment_status",t.payment_status)),t.order_type&&(e=e.eq("order_type",t.order_type));const{data:r,error:s}=await e;if(s)throw s;if(r&&r.length>0){const o=[...new Set(r.map(d=>d.user_id))],{data:l,error:u}=await ee.from("user_profiles").select("user_id, full_name, email").in("user_id",o);if(!u&&l){const d={};l.forEach(h=>{d[h.user_id]=h}),r.forEach(h=>{h.user_profiles=d[h.user_id]||null})}}return{success:!0,orders:r||[]}}catch(e){return console.error("Error fetching all orders:",e),{success:!1,error:e.message,orders:[]}}},d4=async()=>{try{const{data:t,error:e}=await ee.rpc("get_pending_orders_count");if(e)throw e;return{success:!0,count:t||0}}catch(t){return console.error("Error fetching pending orders count:",t),{success:!1,count:0}}},f4=async(t,e)=>{try{const{data:r,error:s}=await ee.from("orders").select("*, order_items (*)").eq("id",t).single();if(s)throw s;const{data:o,error:l}=await ee.from("orders").update({payment_status:"validated",status:"processing",validated_by:e,validated_at:new Date().toISOString()}).eq("id",t).select().single();if(l)throw l;for(const u of r.order_items)if(u.item_type==="product"&&u.inventory_id)await Mv(u.inventory_id,u.quantity);else if(u.item_type==="combo"&&u.item_id){const{data:d}=await ee.from("combo_items").select("product_id, quantity").eq("combo_id",u.item_id);if(d)for(const h of d){const{data:m}=await ee.from("products").select("inventory_id").eq("id",h.product_id).single();m?.inventory_id&&await Mv(m.inventory_id,u.quantity*h.quantity)}}return await ee.from("order_status_history").insert({order_id:t,previous_status:r.status,new_status:"processing",changed_by:e,notes:"Payment validated by admin"}),{success:!0,order:o}}catch(r){return console.error("Error validating payment:",r),{success:!1,error:r.message}}},h4=async(t,e,r)=>{try{const{data:s,error:o}=await ee.from("orders").select("*, order_items (*)").eq("id",t).single();if(o)throw o;const{data:l,error:u}=await ee.from("orders").update({payment_status:"rejected",status:"cancelled",validated_by:e,validated_at:new Date().toISOString(),rejection_reason:r}).eq("id",t).select().single();if(u)throw u;for(const d of s.order_items)d.item_type==="product"&&d.inventory_id&&await a4(d.inventory_id,d.quantity);return await ee.from("order_status_history").insert({order_id:t,previous_status:s.status,new_status:"cancelled",changed_by:e,notes:`Payment rejected: ${r}`}),{success:!0,order:l}}catch(s){return console.error("Error rejecting payment:",s),{success:!1,error:s.message}}},m4=async(t,e)=>{try{let r="jpg";t.name?r=t.name.split(".").pop():t.type&&(r={"image/jpeg":"jpg","image/jpg":"jpg","image/png":"png","image/webp":"webp","image/gif":"gif"}[t.type]||"jpg");const o=`payment-proofs/${`payment-proof-${e}-${Date.now()}.${r}`}`,{data:l,error:u}=await ee.storage.from("order-documents").upload(o,t,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:d}=ee.storage.from("order-documents").getPublicUrl(o),{error:h}=await ee.from("orders").update({payment_proof_url:d.publicUrl}).eq("id",e);if(h)throw h;return{success:!0,url:d.publicUrl}}catch(r){return console.error("Error uploading payment proof:",r),{success:!1,error:r.message}}},p4=({currentPage:t,onNavigate:e})=>{const[r,s]=b.useState(!1),[o,l]=b.useState(!1),[u,d]=b.useState(0),{language:h,setLanguage:m,t:p}=er(),{cart:y,visualSettings:v}=Wt(),{user:w,isAdmin:C,userRole:j}=lr(),_=[{id:"home",icon:Ar,label:p("nav.home")},{id:"products",icon:Ar,label:p("nav.products")},{id:"remittances",icon:qn,label:p("nav.remittances")}],O=[{id:"dashboard",icon:xf,label:p("nav.dashboard")},{id:"admin",icon:q2,label:p("nav.admin")},{id:"user-management",icon:yc,label:p("nav.userManagement")},{id:"settings",icon:eE,label:p("nav.settings")}],{logout:T}=lr(),P=()=>{T(),ue({title:p("auth.logoutSuccess")}),e("home")},N=()=>{e("login")},I=D=>{e(D),l(!1),s(!1)};b.useEffect(()=>{if(j==="admin"||j==="super_admin"){M();const D=setInterval(M,3e4);return()=>clearInterval(D)}},[j]);const M=async()=>{try{const D=await d4();D.success&&d(D.count||0)}catch(D){console.error("Error loading pending orders:",D)}};return a.jsx(pe.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-40 backdrop-blur-md shadow-sm",style:{backgroundColor:v.headerBgColor||"rgba(255, 255, 255, 0.8)",color:v.headerTextColor||"#1f2937"},children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(pe.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 cursor-pointer",onClick:()=>I("home"),children:[v.logo?a.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:a.jsx("img",{src:v.logo,alt:v.companyName||"Logo",className:"max-w-full max-h-full object-contain"})}):a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:v.primaryColor||"#2563eb"},children:a.jsx(Ar,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold",style:{backgroundImage:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.primaryColor||"#2563eb"})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:v.companyName||"PapuEnvíos"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[_.map(D=>a.jsxs(ye,{variant:t===D.id?"default":"ghost",size:"sm",onClick:()=>I(D.id),className:"flex items-center space-x-2",style:t===D.id?{background:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:v.buttonBgColor||"#2563eb",color:v.buttonTextColor||"#ffffff",border:"none"}:{color:v.headerTextColor||"#1f2937"},children:[a.jsx(D.icon,{className:"w-4 h-4"}),a.jsx("span",{children:D.label})]},D.id)),C&&a.jsxs("div",{className:"relative",children:[a.jsxs(ye,{variant:O.some(D=>t===D.id)?"default":"ghost",size:"sm",onClick:()=>l(!o),className:"flex items-center space-x-2",style:O.some(D=>t===D.id)?{background:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:v.buttonBgColor||"#2563eb",color:v.buttonTextColor||"#ffffff",border:"none"}:{color:v.headerTextColor||"#1f2937"},children:[a.jsx(tE,{className:"w-4 h-4"}),a.jsx("span",{children:"Admin"}),a.jsx(F2,{className:`w-3 h-3 transition-transform ${o?"rotate-180":""}`})]}),a.jsx(zn,{children:o&&a.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 rounded-xl shadow-xl overflow-hidden backdrop-blur-md",style:{backgroundColor:v.headerBgColor||"rgba(255, 255, 255, 0.95)",color:v.headerTextColor||"#1f2937"},children:O.map(D=>{const te=v.headerBgColor==="#ffffff"||!v.headerBgColor?`${v.primaryColor}15`:`${v.headerBgColor}40`,U=t===D.id?{backgroundColor:te,color:v.primaryColor||"#2563eb"}:{};return a.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>I(D.id),className:"w-full justify-start flex items-center space-x-2 rounded-none hover:opacity-100",style:{...U,color:v.headerTextColor||"#1f2937"},onMouseEnter:me=>{t!==D.id&&(me.currentTarget.style.backgroundColor=te)},onMouseLeave:me=>{t!==D.id&&(me.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(D.icon,{className:"w-4 h-4"}),a.jsx("span",{children:D.label})]},D.id)})})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>m(h==="es"?"en":"es"),className:"hidden sm:flex items-center space-x-2",style:{borderColor:v.primaryColor||"#2563eb",color:v.primaryColor||"#2563eb"},children:[a.jsx(X0,{className:"w-4 h-4"}),a.jsx("span",{children:h.toUpperCase()})]}),j!=="admin"&&j!=="super_admin"&&a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>e("cart"),children:a.jsxs("div",{className:"relative",children:[a.jsx(Ho,{className:"w-5 h-5"}),y.length>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:y.reduce((D,H)=>D+H.quantity,0)})]})}),w?a.jsxs(a.Fragment,{children:[a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>e("user-panel"),className:"relative",children:a.jsxs("div",{className:"relative",children:[a.jsx(JR,{user:w}),(j==="admin"||j==="super_admin")&&u>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg",children:u})]})}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:P,children:a.jsx(G2,{className:"w-5 h-5"})})]}):a.jsx(ye,{variant:"ghost",size:"icon",onClick:N,children:a.jsx(Z0,{className:"w-5 h-5"})}),a.jsx(ye,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>s(!r),children:r?a.jsx(Gn,{className:"w-5 h-5"}):a.jsx(Y2,{className:"w-5 h-5"})})]})]}),a.jsx(zn,{children:r&&a.jsx(pe.nav,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-white/20 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[_.map(D=>a.jsxs(ye,{variant:t===D.id?"default":"ghost",size:"sm",onClick:()=>I(D.id),className:"flex items-center space-x-2 justify-start",style:t===D.id?{background:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:v.buttonBgColor||"#2563eb",color:v.buttonTextColor||"#ffffff",border:"none"}:{color:v.headerTextColor||"#1f2937"},children:[a.jsx(D.icon,{className:"w-4 h-4"}),a.jsx("span",{children:D.label})]},D.id)),C&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pt-2 pb-1 px-2 text-xs font-semibold uppercase opacity-70",style:{color:v.headerTextColor||"#6b7280"},children:"Administración"}),O.map(D=>a.jsxs(ye,{variant:t===D.id?"default":"ghost",size:"sm",onClick:()=>I(D.id),className:"flex items-center space-x-2 justify-start",style:t===D.id?{background:v.useGradient?`linear-gradient(to right, ${v.primaryColor||"#2563eb"}, ${v.secondaryColor||"#9333ea"})`:v.buttonBgColor||"#2563eb",color:v.buttonTextColor||"#ffffff",border:"none"}:{color:v.headerTextColor||"#1f2937"},children:[a.jsx(D.icon,{className:"w-4 h-4"}),a.jsx("span",{children:D.label})]},D.id))]})]})})})]})})},ht=t=>t?{background:t.useGradient?`linear-gradient(to right, ${t.primaryColor||"#2563eb"}, ${t.secondaryColor||"#9333ea"})`:t.buttonBgColor||t.primaryColor||"#2563eb",color:t.buttonTextColor||"#ffffff",border:"none"}:{},et=t=>t?t.useHeadingGradient||t.useGradient?{backgroundImage:`linear-gradient(to right, ${t.primaryColor||"#2563eb"}, ${t.secondaryColor||"#9333ea"})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.headingColor||t.primaryColor||"#1f2937"}:{},Fe=(t,e="primary")=>{if(!t)return{};const r={primary:{color:t.textPrimaryColor||"#1f2937"},secondary:{color:t.textSecondaryColor||"#6b7280"},muted:{color:t.textMutedColor||"#9ca3af"}};return r[e]||r.primary},vb=(t,e="default")=>{if(!t)return{};const r={default:{backgroundColor:t.pillBgColor||"#e5e7eb",color:t.pillTextColor||"#374151"},success:{backgroundColor:`${t.successColor||"#10b981"}20`,color:t.successColor||"#10b981",borderColor:t.successColor||"#10b981"},warning:{backgroundColor:`${t.warningColor||"#f59e0b"}20`,color:t.warningColor||"#f59e0b",borderColor:t.warningColor||"#f59e0b"},error:{backgroundColor:`${t.errorColor||"#ef4444"}20`,color:t.errorColor||"#ef4444",borderColor:t.errorColor||"#ef4444"},info:{backgroundColor:`${t.primaryColor||"#2563eb"}20`,color:t.primaryColor||"#2563eb",borderColor:t.primaryColor||"#2563eb"}};return r[e]||r.default},Kd=(t,e)=>{if(!e)return{};const s={validated:"success",pending:"warning",rejected:"error",cancelled:"default",processing:"info",completed:"success"}[t]||"default";return vb(e,s)},Po=t=>t?{backgroundColor:t.inputBgColor||"#ffffff",borderColor:t.inputBorderColor||"#d1d5db",color:t.textPrimaryColor||"#1f2937"}:{},g4=(t,e="info")=>{if(!t)return{};const r={success:{backgroundColor:`${t.successColor||"#10b981"}10`,borderColor:t.successColor||"#10b981",color:t.successColor||"#10b981"},warning:{backgroundColor:`${t.warningColor||"#f59e0b"}10`,borderColor:t.warningColor||"#f59e0b",color:t.warningColor||"#f59e0b"},error:{backgroundColor:`${t.errorColor||"#ef4444"}10`,borderColor:t.errorColor||"#ef4444",color:t.errorColor||"#ef4444"},info:{backgroundColor:`${t.primaryColor||"#2563eb"}10`,borderColor:t.primaryColor||"#2563eb",color:t.primaryColor||"#2563eb"}};return r[e]||r.info},Iv=({onNavigate:t})=>{const{t:e,language:r}=er(),{visualSettings:s}=Wt(),{isAdmin:o}=lr(),[l,u]=b.useState([]),[d,h]=b.useState([]),m=[{icon:Ar,title:e("home.features.products.title"),description:e("home.features.products.description"),action:()=>t("products")},{icon:qn,title:e("home.features.remittances.title"),description:e("home.features.remittances.description"),action:()=>t("remittances")},{icon:Ul,title:e("home.features.analytics.title"),description:e("home.features.analytics.description"),action:()=>t("dashboard"),admin:!0},{icon:yc,title:e("home.features.vendors.title"),description:e("home.features.vendors.description"),action:()=>t("admin"),admin:!0}].filter(C=>!C.admin||o),[p,y]=b.useState(0);b.useEffect(()=>{(async()=>{const j=await Pw(!1);j.data&&h(j.data)})()},[]),b.useEffect(()=>{(async()=>{try{const{data:j,error:_}=await zT();if(_)throw _;u(j||[])}catch(j){console.error("Error loading carousel slides:",j),u([])}})()},[]);const v=()=>{y(C=>C===l.length-1?0:C+1)},w=()=>{y(C=>C===0?l.length-1:C-1)};return b.useEffect(()=>{if(l.length>1){const C=setInterval(v,5e3);return()=>clearInterval(C)}},[l.length]),a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"relative h-[60vh] md:h-[80vh] w-full overflow-hidden",children:l.length>0?a.jsxs(a.Fragment,{children:[a.jsx(zn,{initial:!1,children:a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},style:{backgroundImage:`url(${l[p]?.image_url||l[p]?.image_file})`},className:"absolute inset-0 bg-cover bg-center",children:a.jsx("div",{className:"absolute inset-0 bg-black/50"})},p)}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center text-white p-4",children:[a.jsx(pe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl md:text-6xl font-bold mb-4",children:r==="es"?l[p]?.title_es:l[p]?.title_en},`main-${p}`),a.jsx(pe.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-lg md:text-xl max-w-2xl mx-auto mb-8",children:r==="es"?l[p]?.subtitle_es:l[p]?.subtitle_en},`secondary-${p}`),a.jsx(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsxs(ye,{size:"lg",onClick:()=>t("products"),className:"px-8 py-3 text-lg",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.buttonBgColor||"#2563eb",color:s.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(Ar,{className:"w-5 h-5 mr-2"}),e("home.hero.cta.products")]})})]}),l.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:w,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 p-2 bg-white/20 rounded-full hover:bg-white/40 transition-colors",children:a.jsx(vh,{className:"h-6 w-6 text-white"})}),a.jsx("button",{onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 p-2 bg-white/20 rounded-full hover:bg-white/40 transition-colors",children:a.jsx(xh,{className:"h-6 w-6 text-white"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:l.map((C,j)=>a.jsx("div",{onClick:()=>y(j),className:`w-3 h-3 rounded-full cursor-pointer transition-colors ${p===j?"bg-white":"bg-white/50"}`},j))})]})]}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.primaryColor||"#2563eb"},children:a.jsxs("div",{className:"text-center text-white p-4",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:e("home.hero.title")}),a.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto mb-8",children:e("home.hero.subtitle")}),a.jsxs(ye,{size:"lg",onClick:()=>t("products"),className:"px-8 py-3 text-lg",style:{backgroundColor:s.cardBgColor||"#ffffff",color:s.primaryColor||"#2563eb",border:"none"},children:[a.jsx(Ar,{className:"w-5 h-5 mr-2"}),e("home.hero.cta.products")]})]})})}),a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",style:et(s),children:e("home.features.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("home.features.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map((C,j)=>a.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"glass-effect p-6 rounded-2xl hover-lift cursor-pointer group",onClick:C.action,children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.primaryColor||"#2563eb"},children:a.jsx(C.icon,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:C.title}),a.jsx("p",{className:"text-gray-600",children:C.description})]},j))})]})}),a.jsx("section",{className:"py-20 px-4 bg-slate-100/50",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",style:et(s),children:e("home.testimonials.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("home.testimonials.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.length>0?d.map(C=>a.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"glass-effect p-6 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{className:"w-12 h-12 rounded-full mr-4 object-cover",alt:C.user_name||"User",src:C.user_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(C.user_name||"U")}&background=random`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:C.user_name}),a.jsxs("div",{className:"flex",children:[[...Array(C.rating)].map((j,_)=>a.jsx($o,{className:"w-4 h-4 text-yellow-400 fill-current"},_)),[...Array(5-C.rating)].map((j,_)=>a.jsx($o,{className:"w-4 h-4 text-gray-300"},_))]})]})]}),a.jsxs("p",{className:"text-gray-600 italic",children:['"',C.comment,'"']})]},C.id)):a.jsx("p",{className:"text-gray-500 col-span-full text-center",children:r==="es"?"Aún no hay testimonios disponibles":"No testimonials available yet"})})]})})]})},Bf="product-images",y4=async(t,e)=>{try{const r=t.name.split(".").pop(),s=`${e}.${r}`,{error:o}=await ee.storage.from(Bf).upload(s,t,{cacheControl:"3600",upsert:!0});if(o)throw o;const{data:{publicUrl:l}}=ee.storage.from(Bf).getPublicUrl(s);return{publicUrl:l}}catch(r){throw console.error("Error uploading image:",r),r}},v4=async t=>{try{const{error:e}=await ee.storage.from(Bf).remove([t]);if(e)throw e}catch(e){throw console.error("Error deleting image:",e),e}},xb={product:{maxSizeMB:2,maxWidth:800,maxHeight:800,aspectRatio:1,quality:.85,formats:["image/jpeg","image/png","image/webp"]},combo:{maxSizeMB:2,maxWidth:800,maxHeight:800,aspectRatio:1,quality:.85,formats:["image/jpeg","image/png","image/webp"]},carousel:{maxSizeMB:3,maxWidth:1920,maxHeight:1080,aspectRatio:16/9,quality:.9,formats:["image/jpeg","image/png","image/webp"]},carouselMobile:{maxSizeMB:1.5,maxWidth:800,maxHeight:1200,aspectRatio:2/3,quality:.85,formats:["image/jpeg","image/png","image/webp"]},logo:{maxSizeMB:2,maxWidth:400,maxHeight:400,aspectRatio:1,quality:.95,formats:["image/png","image/svg+xml","image/webp"]},payment_proof:{maxSizeMB:5,maxWidth:2e3,maxHeight:2e3,aspectRatio:null,quality:.85,formats:["image/jpeg","image/png","image/webp"]}},wb=(t,e="product")=>{const r=xb[e],s=[];if(!t)return s.push("No se seleccionó ningún archivo"),{valid:!1,errors:s};r.formats.includes(t.type)||s.push(`Formato no válido. Use: ${r.formats.map(l=>l.split("/")[1]).join(", ")}`);const o=t.size/(1024*1024);return o>r.maxSizeMB&&s.push(`Tamaño muy grande (${o.toFixed(2)}MB). Máximo: ${r.maxSizeMB}MB`),{valid:s.length===0,errors:s,sizeMB:o.toFixed(2)}},x4=t=>new Promise((e,r)=>{const s=new FileReader;s.onload=o=>{const l=new Image;l.onload=()=>e(l),l.onerror=r,l.src=o.target.result},s.onerror=r,s.readAsDataURL(t)}),bb=async(t,e="product")=>{const r=xb[e],s=wb(t,e);if(!s.valid)throw new Error(s.errors.join(`
`));try{if(t.type==="image/svg+xml"){const M=await new Promise((H,te)=>{const U=new FileReader;U.onloadend=()=>H(U.result),U.onerror=te,U.readAsDataURL(t)}),D=t.size/(1024*1024);return{success:!0,base64:M,blob:t,metadata:{originalSize:D.toFixed(2)+"MB",finalSize:D.toFixed(2)+"MB",compression:"0%",originalDimensions:"Vector",finalDimensions:"Vector",format:"SVG",quality:"100%"}}}const o=await x4(t);let{width:l,height:u}=o;const d=l/u,h=r.aspectRatio;let m=l,p=u,y=0,v=0;h&&Math.abs(d-h)>.01&&(d>h?(m=u*h,y=(l-m)/2):(p=l/h,v=(u-p)/2));let w=m,C=p;if(w>r.maxWidth){const M=r.maxWidth/w;w=r.maxWidth,C=C*M}if(C>r.maxHeight){const M=r.maxHeight/C;C=r.maxHeight,w=w*M}const j=document.createElement("canvas");j.width=w,j.height=C;const _=j.getContext("2d");_.imageSmoothingEnabled=!0,_.imageSmoothingQuality="high",_.drawImage(o,y,v,m,p,0,0,w,C);const O=await new Promise(M=>{j.toBlob(M,"image/jpeg",r.quality)}),T=await new Promise(M=>{const D=new FileReader;D.onloadend=()=>M(D.result),D.readAsDataURL(O)}),P=t.size/(1024*1024),N=O.size/(1024*1024),I=((1-N/P)*100).toFixed(1);return{success:!0,base64:T,blob:O,metadata:{originalSize:P.toFixed(2)+"MB",finalSize:N.toFixed(2)+"MB",compression:I+"%",originalDimensions:`${o.width}x${o.height}`,finalDimensions:`${w}x${C}`,format:"JPEG",quality:r.quality*100+"%"}}}catch(o){throw console.error("Error processing image:",o),new Error("Error al procesar la imagen: "+o.message)}},Jo=async(t,e="product",r=null)=>{try{r&&r({stage:"validating",progress:10});const s=wb(t,e);if(!s.valid)return{success:!1,errors:s.errors};r&&r({stage:"processing",progress:50});const o=await bb(t,e);return r&&r({stage:"complete",progress:100}),o}catch(s){return{success:!1,errors:[s.message]}}},w4=({onNavigate:t})=>{const{t:e,language:r}=er(),{user:s,isAdmin:o}=lr(),{products:l,combos:u,categories:d,addToCart:h,financialSettings:m,refreshProducts:p,visualSettings:y}=Wt(),[v,w]=b.useState(""),[C,j]=b.useState("all"),[_,O]=b.useState([]),[T,P]=b.useState([]),[N,I]=b.useState(!1),[M,D]=b.useState(0),[H,te]=b.useState(null),[U,me]=b.useState(null),[se,re]=b.useState([]),[B,we]=b.useState(null),[J,fe]=b.useState({}),q=b.useRef(null),[ie,ne]=b.useState(!1),[E,L]=b.useState(!1),Q=b.useCallback(async(K,Le)=>{const je=K.target.files[0];if(je)try{I(!0),D(0);const A=await Jo(je,"product",Oe=>D(Oe.progress));if(!A.success){ue({title:"Error de validación",description:A.errors.join(`
`),variant:"destructive"});return}me(A.base64);const he=`product-${Le}-${Date.now()}.jpg`,{publicUrl:Z}=await y4(A.blob,he),{error:Re}=await ee.from("products").update({image_url:Z}).eq("id",Le);if(Re)throw Re;await p(),ue({title:e("products.imageUploaded"),description:`${e("products.imageUploadedSuccess")} (${A.metadata.compression} compresión)`})}catch(A){console.error("Error uploading image:",A),ue({title:e("products.imageUploadError"),description:A.message,variant:"destructive"})}finally{I(!1),D(0),me(null)}},[e,p]),oe=b.useCallback(async(K,Le)=>{if(Le)try{const je=Le.split("/").pop();await v4(je);const{error:A}=await ee.from("products").update({image_url:null}).eq("id",K);if(A)throw A;await p(),ue({title:e("products.imageDeleted"),description:e("products.imageDeletedSuccess")})}catch(je){console.error("Error deleting image:",je),ue({title:e("products.imageDeleteError"),description:je.message,variant:"destructive"})}},[e,p]);b.useEffect(()=>{(async()=>{try{const{data:Le,error:je}=await ee.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(je)throw je;re(Le||[]);const A=Le?.find(Oe=>Oe.is_base);A&&we(A.id);const{data:he,error:Z}=await ee.from("exchange_rates").select("*").eq("is_active",!0);if(Z)throw Z;const Re={};(he||[]).forEach(Oe=>{Re[`${Oe.from_currency_id}-${Oe.to_currency_id}`]=Oe.rate}),fe(Re)}catch(Le){console.error("Error loading currencies:",Le)}})()},[]),b.useEffect(()=>{let K=l;o||(K=K.filter(je=>(je.stock!==void 0?je.stock:0)>0)),v&&(K=K.filter(je=>(je.name_es||je.name||"").toLowerCase().includes(v.toLowerCase())||(je.name_en||"").toLowerCase().includes(v.toLowerCase()))),C!=="all"&&(K=K.filter(je=>je.category?.id===C||je.category_id===C)),O(K);let Le=u||[];o||(Le=Le.filter(je=>je.is_active!==!1)),v&&(Le=Le.filter(je=>je.name.toLowerCase().includes(v.toLowerCase()))),P(Le)},[l,u,v,C,o]);const ve=K=>{h(K),ue({title:e("products.addedToCart"),description:`${K.name_es||K.name} ${e("products.addedToCartDesc")}`})},Ce=K=>{if(q.current){const je=K==="left"?q.current.scrollLeft-400:q.current.scrollLeft+400;q.current.scrollTo({left:je,behavior:"smooth"})}},le=()=>{if(q.current){const{scrollLeft:K,scrollWidth:Le,clientWidth:je}=q.current;ne(K>0),L(K<Le-je-10)}};b.useEffect(()=>{le();const K=q.current;if(K)return K.addEventListener("scroll",le),()=>K.removeEventListener("scroll",le)},[T]);const xe=(K,Le,je)=>{if(!K||!Le||!je||Le===je)return K;const A=`${Le}-${je}`,he=J[A];return he?parseFloat(K)*he:K},Ae=K=>{if(!K||!B)return"0.00";const Le=parseFloat(K.final_price||K.base_price||0),je=K.base_currency_id;return je?xe(Le,je,B).toFixed(2):Le.toFixed(2)},Y=K=>{if(!K||!B)return"0.00";let Le=0;(K.products||[]).forEach(he=>{const Z=l.find(Re=>Re.id===he);if(Z){const Re=parseFloat(Z.base_price||0),Oe=Z.base_currency_id,He=K.productQuantities?.[he]||1;let X=Re;Oe&&Oe!==B&&(X=xe(Re,Oe,B)),Le+=X*He}});const je=parseFloat(K.profitMargin||m.comboProfit)/100;return(Le*(1+je)).toFixed(2)};return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(y),children:e("products.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("products.subtitle")})]}),a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-6 rounded-2xl mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ew,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:e("products.searchPlaceholder"),value:v,onChange:K=>w(K.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z2,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:C,onChange:K=>j(K.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:e("products.categories.all")}),d.map(K=>a.jsx("option",{value:K.id,children:r==="es"?K.name_es:K.name_en},K.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:r==="es"?"Moneda:":"Currency:"}),a.jsx("select",{value:B||"",onChange:K=>we(K.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:se.map(K=>a.jsxs("option",{value:K.id,children:[K.code," (",K.symbol,")"]},K.id))})]})]})}),T.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",style:et(y),children:"🎁 Combos Especiales"}),T.length>3&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Ce("left"),disabled:!ie,className:"rounded-full w-10 h-10 p-0",children:a.jsx(vh,{className:"w-5 h-5"})}),a.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Ce("right"),disabled:!E,className:"rounded-full w-10 h-10 p-0",children:a.jsx(xh,{className:"w-5 h-5"})})]})]})}),a.jsx("style",{children:`
              .combos-carousel::-webkit-scrollbar {
                display: none;
              }
            `}),a.jsx("div",{ref:q,className:"combos-carousel flex gap-6 mb-12 overflow-x-auto pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:T.map((K,Le)=>{const A=(()=>{let Z=0;(K.products||[]).forEach(X=>{const be=l.find(Ve=>Ve.id===X);if(be){const Ve=parseFloat(be.base_price||0),Ye=xe(Ve,be.base_currency_id,B),Nt=K.productQuantities?.[X]||1,ut=parseFloat(m.productProfit||40)/100,Mt=Ye*(1+ut);Z+=Mt*Nt}});const Re=parseFloat(Y(K)),Oe=Z-Re,He=Z>0?(Oe/Z*100).toFixed(0):0;return{savings:Oe.toFixed(2),percent:He}})(),he=se.find(Z=>Z.id===B)?.symbol||"$";return a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:Le*.1},className:"glass-effect rounded-2xl overflow-hidden hover-lift group border-2 border-purple-200 cursor-pointer flex-shrink-0",style:{width:"300px"},onClick:()=>t("product-detail",{itemId:K.id,itemType:"combo"}),children:[a.jsxs("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-pink-100 relative",children:[K.image?a.jsx("img",{src:K.image,alt:K.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Ss,{className:"w-20 h-20 text-purple-300"})}),A.savings>0&&a.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-2 rounded-lg shadow-lg animate-pulse",children:a.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[a.jsx("span",{className:"text-[10px] opacity-90",children:r==="es"?"AHORRA":"SAVE"}),a.jsxs("span",{className:"text-sm",children:[he,A.savings]}),a.jsxs("span",{className:"text-[10px] bg-white bg-opacity-20 px-2 rounded-full mt-0.5",children:["-",A.percent,"%"]})]})}),a.jsx("div",{className:"absolute top-2 right-2 bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"COMBO"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:K.name}),a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[K.products?.length||0," productos incluidos"]}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[se.find(Z=>Z.id===B)?.symbol||"$",Y(K)]}),a.jsx("p",{className:"text-xs text-gray-500",children:se.find(Z=>Z.id===B)?.code||"USD"})]})}),a.jsxs(ye,{onClick:Z=>{Z.stopPropagation(),ve({...K,type:"combo"})},className:"w-full",style:{background:y.useGradient?`linear-gradient(to right, ${y.primaryColor||"#2563eb"}, ${y.secondaryColor||"#9333ea"})`:y.buttonBgColor||"#2563eb",color:y.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(Ho,{className:"w-4 h-4 mr-2"}),e("products.addToCart")]})]})]},`combo-${K.id}`)})})]}),_.length>0&&a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:a.jsx("h2",{className:"text-2xl font-bold mb-4",style:et(y),children:"📦 Productos"})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map((K,Le)=>a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:Le*.1},className:"glass-effect rounded-2xl overflow-hidden hover-lift group cursor-pointer",onClick:()=>t("product-detail",{itemId:K.id,itemType:"product"}),children:[a.jsxs("div",{className:"aspect-square bg-gray-100 relative group",children:[U&&H===K.id?a.jsx("img",{className:"w-full h-full object-cover",alt:e("products.preview"),src:U}):a.jsx("img",{className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",alt:K.name_es||K.name,src:K.image_url||"https://images.unsplash.com/photo-1646193186132-7976c1670e81"}),o&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center z-10",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:je=>{je.stopPropagation(),te(K.id),Q(je,K.id)}}),a.jsx(ye,{variant:"secondary",size:"sm",className:"bg-white hover:bg-gray-100",onClick:je=>je.stopPropagation(),children:a.jsx(tw,{className:"w-4 h-4"})})]}),K.image_url&&a.jsx(ye,{variant:"destructive",size:"sm",onClick:je=>{je.stopPropagation(),oe(K.id,K.image_url)},children:a.jsx(Gn,{className:"w-4 h-4"})})]})}),N&&H===K.id&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:a.jsx("div",{className:"w-full max-w-[80%] bg-white rounded-lg p-4",children:a.jsx("div",{className:"h-2 bg-gray-200 rounded",children:a.jsx("div",{className:"h-full rounded transition-all duration-300",style:{width:`${M}%`,background:y.useGradient?`linear-gradient(to right, ${y.primaryColor}, ${y.secondaryColor})`:y.primaryColor}})})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:K.name_es||K.name}),K.category&&a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:r==="es"?K.category.name_es:K.category.name_en}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-xl font-bold text-green-600",children:[se.find(je=>je.id===B)?.symbol||"$",Ae(K)]}),a.jsx("p",{className:"text-xs text-gray-500",children:se.find(je=>je.id===B)?.code||"USD"})]})}),a.jsxs(ye,{onClick:je=>{je.stopPropagation(),ve(K)},className:"w-full",style:{background:y.useGradient?`linear-gradient(to right, ${y.primaryColor||"#2563eb"}, ${y.secondaryColor||"#9333ea"})`:y.buttonBgColor||"#2563eb",color:y.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(Ho,{className:"w-4 h-4 mr-2"}),e("products.addToCart")]})]})]},K.id))}),_.length===0&&a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[a.jsx(Ss,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:e("products.noProducts")}),a.jsx("p",{className:"text-gray-500",children:e("products.noProductsDesc")})]})]})})},b4=({product:t,selectedCurrency:e,currencySymbol:r,currencyCode:s,convertPrice:o,quantity:l=1})=>{const[u,d]=b.useState(!1),{language:h}=er(),{visualSettings:m}=Wt(),p=()=>{const v=parseFloat(t.final_price||t.base_price||0),w=t.base_currency_id;return!w||w===e?v.toFixed(2):o(v,w,e).toFixed(2)},y=()=>(parseFloat(p())*l).toFixed(2);return a.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-200 last:border-0",children:[a.jsx(pe.div,{className:"flex-shrink-0 cursor-pointer relative",onClick:()=>d(!u),whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(pe.div,{animate:{width:u?"120px":"60px",height:u?"120px":"60px"},transition:{duration:.3,ease:"easeInOut"},className:"rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:t.image_url||"https://images.unsplash.com/photo-1646193186132-7976c1670e81",alt:t.name_es||t.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-800",children:t.name_es||t.name}),t.category&&a.jsx("p",{className:"text-xs text-gray-500",children:h==="es"?t.category.name_es:t.category.name_en}),a.jsx("p",{className:"text-sm font-semibold",style:et(m),children:h==="es"?`Cantidad: ${l}`:`Quantity: ${l}`})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[r,p()," ",h==="es"?"c/u":"each"]}),a.jsxs("p",{className:"font-semibold text-gray-800",children:["Total:"," ",r,y()]}),a.jsx("p",{className:"text-xs text-gray-500",children:s})]})]})},_4=({onNavigate:t,itemId:e,itemType:r})=>{const{t:s,language:o}=er(),{products:l,combos:u,categories:d,addToCart:h,financialSettings:m,visualSettings:p}=Wt(),{isAdmin:y}=lr(),[v,w]=b.useState(null),[C,j]=b.useState(0),[_,O]=b.useState([]),[T,P]=b.useState(!1),[N,I]=b.useState([]),[M,D]=b.useState(null),[H,te]=b.useState({});b.useEffect(()=>{(async()=>{try{const{data:L,error:Q}=await ee.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(Q)throw Q;I(L||[]);const oe=L?.find(xe=>xe.is_base);oe&&D(oe.id);const{data:ve,error:Ce}=await ee.from("exchange_rates").select("*").eq("is_active",!0);if(Ce)throw Ce;const le={};(ve||[]).forEach(xe=>{le[`${xe.from_currency_id}-${xe.to_currency_id}`]=xe.rate}),te(le)}catch(L){console.error("Error loading currencies:",L)}})()},[]),b.useEffect(()=>{const E=r==="combo"?u:l;O(E);const L=E.findIndex(Q=>Q.id===e);L!==-1&&(j(L),w(E[L]))},[e,r,l,u]);const U=(E,L,Q)=>{if(!E||!L||!Q||L===Q)return E;const oe=`${L}-${Q}`,ve=H[oe];return ve?parseFloat(E)*ve:E},me=(E,L)=>{if(!E||!M)return"0.00";if(L){const Q=parseFloat(E.final_price||E.base_price||0),oe=E.base_currency_id;return oe?U(Q,oe,M).toFixed(2):Q.toFixed(2)}else{let Q=0;(E.products||[]).forEach(ve=>{const Ce=l.find(le=>le.id===ve);if(Ce){const le=parseFloat(Ce.base_price||0),xe=Ce.base_currency_id,Ae=E.productQuantities?.[ve]||1;let Y=le;xe&&xe!==M&&(Y=U(le,xe,M)),Q+=Y*Ae}});const oe=parseFloat(E.profitMargin||m.comboProfit)/100;return(Q*(1+oe)).toFixed(2)}},se=()=>{if(C>0){const E=_[C-1];j(C-1),w(E),P(!1)}else P(!0)},re=()=>{if(C<_.length-1){const E=_[C+1];j(C+1),w(E),P(!1)}else P(!0)},B=()=>{const E=!v?.products;if(E&&C===_.length-1){if(u.length>0){const L=u[0];O(u),j(0),w(L),P(!1)}}else if(E&&C===0){if(u.length>0){const L=u[u.length-1];O(u),j(u.length-1),w(L),P(!1)}}else if(!E&&C===_.length-1){if(l.length>0){const L=l[0];O(l),j(0),w(L),P(!1)}}else if(!E&&C===0&&l.length>0){const L=l[l.length-1];O(l),j(l.length-1),w(L),P(!1)}},we=()=>{const E=N.find(oe=>oe.code==="USD");let L=0;if(fe){const oe=parseFloat(v.final_price||v.base_price||0),ve=v.base_currency_id;ve&&ve!==E?.id?L=U(oe,ve,E?.id):L=oe}else{const oe=parseFloat(v.baseTotalPrice||0),ve=parseFloat(v.profitMargin||m.comboProfit||35)/100;L=oe*(1+ve)}const Q={...v,calculated_price_usd:L};h(Q),ue({title:s("products.addedToCart"),description:`${v.name_es||v.name} ${s("products.addedToCartDesc")}`})},J=E=>{const L=d.find(Q=>Q.id===E);return L?o==="es"?L.name_es||L.es:L.name_en||L.en:""};if(!v)return a.jsx("div",{className:"min-h-screen py-8 px-4 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:s("products.noProducts")})});const fe=!v.products,q=me(v,fe),ie=N.find(E=>E.id===M)?.symbol||"$",ne=N.find(E=>E.id===M)?.code||"USD";return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx(pe.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("products"),className:"mb-6 flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:s(fe?"products.detail.backToProducts":"products.detail.backToCombos")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[a.jsxs(pe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"relative",children:[a.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 relative",children:[v.image_url||v.image?a.jsx("img",{src:v.image_url||v.image,alt:v.name_es||v.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Ss,{className:"w-24 h-24 text-gray-300"})}),!fe&&a.jsx("div",{className:"absolute top-4 right-4 bg-purple-600 text-white text-sm font-bold px-4 py-2 rounded-full",children:"COMBO"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs(ye,{onClick:se,variant:"outline",size:"lg",disabled:C===0&&r==="combo"&&l.length===0,className:"flex items-center gap-2",children:[a.jsx(vh,{className:"w-5 h-5"}),s("products.detail.previous")]}),a.jsxs(ye,{onClick:re,variant:"outline",size:"lg",disabled:C===_.length-1&&r==="combo"&&l.length===0,className:"flex items-center gap-2",children:[s("products.detail.next"),a.jsx(xh,{className:"w-5 h-5"})]})]}),T&&(()=>{const E=!v?.products;return a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4",children:a.jsxs(ye,{onClick:B,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:[E&&(C===_.length-1||C===0)&&s("products.detail.continueToCombos"),!E&&(C===_.length-1||C===0)&&s("products.detail.continueToProducts"),a.jsx(L2,{className:"w-5 h-5 ml-2"})]})})})()]}),a.jsxs(pe.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",style:et(p),children:v.name_es||v.name}),fe&&(v.category_id||v.category)&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[a.jsx(rE,{className:"w-4 h-4"}),a.jsx("span",{children:J(v.category_id||v.category)})]})]}),a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:o==="es"?"Mostrar en:":"Display in:"}),a.jsx("select",{value:M||"",onChange:E=>D(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:N.map(E=>a.jsxs("option",{value:E.id,children:[E.code," (",E.symbol,")"]},E.id))})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-4xl font-bold",style:et(p),children:[ie,q]}),a.jsx("span",{className:"text-gray-500",children:ne})]})]}),(v.description_es||v.description_en||v.description)&&a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:s("products.detail.description")}),a.jsx("p",{className:"text-gray-600",children:o==="es"?v.description_es||v.description:v.description_en||v.description})]}),fe&&a.jsxs("div",{className:"space-y-4",children:[v.stock!==void 0&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[s("products.detail.stock"),":"]}),a.jsx("span",{className:`font-semibold ${v.stock>0?"text-green-600":"text-red-600"}`,children:v.stock>0?`${v.stock} ${s("products.detail.units")}`:s("products.detail.outOfStock")})]}),v.expiryDate&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Calendar,{className:"w-4 h-4"}),a.jsxs("span",{children:[s("products.detail.expiryDate"),":"]})]}),a.jsx("span",{className:"font-semibold",children:v.expiryDate})]})]}),!fe&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"glass-effect p-6 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",style:et(p),children:o==="es"?"💰 ¡Ahorra con este combo!":"💰 Save with this combo!"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white bg-opacity-50 p-3 rounded-lg space-y-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:o==="es"?"Comprando por separado:":"Buying separately:"}),(v.products||[]).map(E=>{const L=l.find(Ae=>Ae.id===E);if(!L)return null;const Q=parseFloat(L.base_price||0),oe=U(Q,L.base_currency_id,M),ve=v.productQuantities?.[E]||1,Ce=parseFloat(m.productProfit||40)/100,xe=oe*(1+Ce)*ve;return a.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[a.jsxs("span",{children:[L.name_es||L.name," × ",ve]}),a.jsxs("span",{children:[ie,xe.toFixed(2)]})]},E)}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Total:"}),a.jsxs("span",{className:"text-lg font-semibold line-through text-gray-500",children:[ie,(()=>{let E=0;return(v.products||[]).forEach(L=>{const Q=l.find(oe=>oe.id===L);if(Q){const oe=parseFloat(Q.base_price||0),ve=U(oe,Q.base_currency_id,M),Ce=v.productQuantities?.[L]||1,le=parseFloat(m.productProfit||40)/100,xe=ve*(1+le);E+=xe*Ce}}),E.toFixed(2)})()]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-purple-200",children:[a.jsx("span",{className:"text-lg font-bold",style:et(p),children:o==="es"?"Precio del combo:":"Combo price:"}),a.jsxs("span",{className:"text-2xl font-bold",style:et(p),children:[ie,q]})]}),a.jsx("div",{className:"text-center pt-2",children:a.jsxs("span",{className:"inline-block bg-green-100 px-4 py-2 rounded-full text-sm font-semibold",style:et(p),children:[o==="es"?"¡Ahorras ":"You save ",ie,(()=>{let E=0;return(v.products||[]).forEach(Q=>{const oe=l.find(ve=>ve.id===Q);if(oe){const ve=parseFloat(oe.base_price||0),Ce=U(ve,oe.base_currency_id,M),le=v.productQuantities?.[Q]||1,xe=parseFloat(m.productProfit||40)/100,Ae=Ce*(1+xe);E+=Ae*le}}),(E-parseFloat(q)).toFixed(2)})(),"!"]})})]})]}),a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:s("products.detail.includedProducts")}),a.jsx("div",{className:"space-y-3",children:v.products?.map(E=>{const L=l.find(oe=>oe.id===E),Q=v.productQuantities?.[E]||1;return L?a.jsx(b4,{product:L,selectedCurrency:M,currencySymbol:ie,currencyCode:ne,convertPrice:U,quantity:Q},E):null})})]}),y&&v.profitMargin&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl border-2 border-purple-200",children:[a.jsxs("span",{className:"text-gray-600",children:[s("products.detail.profitMargin"),":"]}),a.jsxs("span",{className:"font-semibold text-purple-600",children:[v.profitMargin,"%"]})]})]}),a.jsxs(ye,{onClick:we,size:"lg",className:"w-full text-lg py-6",style:ht(p),children:[a.jsx(Ho,{className:"w-5 h-5 mr-2"}),s("products.addToCart")]})]})]})]})})},Lh=async()=>{try{return{success:!0,configs:Dv()}}catch(t){return console.error("Error fetching remittance configs:",t),{success:!1,configs:Dv(),error:t.message}}},Dv=()=>[{id:"temp-mn",currency:"MN",name:"Moneda Nacional",enabled:!0,paymentMethods:[{id:"cash",name:"Efectivo",enabled:!0},{id:"transfer",name:"Transferencia",enabled:!0}],isNew:!0},{id:"temp-usd",currency:"USD",name:"Dólar Estadounidense",enabled:!0,paymentMethods:[{id:"cash",name:"Efectivo",enabled:!0},{id:"card_transfer",name:"Transferencia Tarjeta Clásica",enabled:!0}],isNew:!0},{id:"temp-mlc",currency:"MLC",name:"Moneda Libremente Convertible",enabled:!0,paymentMethods:[{id:"card",name:"Tarjeta MLC",enabled:!0}],isNew:!0}],C4=async t=>{try{return console.warn("Remittance config save not implemented yet"),{success:!0,config:t}}catch(e){return console.error("Error saving remittance config:",e),{success:!1,error:e.message}}},j4=async()=>{try{const t=await Lh();return t.success?{success:!0,configs:t.configs.filter(r=>r.enabled!==!1)}:t}catch(t){return console.error("Error fetching enabled remittance configs:",t),{success:!1,configs:[],error:t.message}}},S4=async t=>{try{const e=await Lh();if(!e.success)return{success:!1,methods:[],error:e.error};const r=e.configs.find(o=>o.currency===t);return r?{success:!0,methods:r.paymentMethods?.filter(o=>o.enabled!==!1)||[]}:{success:!1,methods:[],error:"Currency not found"}}catch(e){return console.error("Error fetching payment methods:",e),{success:!1,methods:[],error:e.message}}},N4=({onNavigate:t})=>{const{t:e,language:r}=er(),{visualSettings:s}=Wt(),[o,l]=b.useState(""),[u,d]=b.useState(""),[h,m]=b.useState("offers"),[p,y]=b.useState(null),[v,w]=b.useState({deliveryMethod:"transfer",currency:"USD",fullName:"",bankName:"",accountNumber:""}),[C,j]=b.useState([]),[_,O]=b.useState([]),[T,P]=b.useState(!1);b.useEffect(()=>{N()},[]),b.useEffect(()=>{v.currency&&I(v.currency)},[v.currency]);const N=async()=>{P(!0);try{const U=await j4();U.success&&(j(U.configs),U.configs.length>0&&!v.currency&&w(me=>({...me,currency:U.configs[0].currency})))}catch(U){console.error("Error loading remittance configs:",U)}finally{P(!1)}},I=async U=>{try{const me=await S4(U);me.success&&(O(me.methods),me.methods.length>0&&w(se=>({...se,deliveryMethod:me.methods[0].id})))}catch(me){console.error("Error loading payment methods:",me)}},M=[{id:1,country:"Cuba",rate:120,fee:5,time:"2-4 hours",popular:!0,currency:"CUP"}],D=U=>{y(U),m("recipient")},H=()=>{ue({title:"🚧 Esta funcionalidad no está implementada aún—¡pero no te preocupes! ¡Puedes solicitarla en tu próximo prompt! 🚀"}),m("offers"),l("")},te=U=>o?(parseFloat(o)*U.rate-U.fee).toFixed(2):0;return h==="recipient"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:et(s),children:e("remittances.recipient.title")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Moneda":"Currency"}),a.jsx("select",{value:v.currency,onChange:U=>w({...v,currency:U.target.value}),className:"input-style w-full",style:Po(s),children:C.map(U=>a.jsxs("option",{value:U.currency,children:[U.currency," - ",U.name]},U.currency))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Método de Pago":"Payment Method"}),a.jsx("select",{value:v.deliveryMethod,onChange:U=>w({...v,deliveryMethod:U.target.value}),className:"input-style w-full",style:Po(s),children:_.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e("remittances.recipient.fullName")}),a.jsx("input",{type:"text",placeholder:e("remittances.recipient.fullName"),value:v.fullName,onChange:U=>w({...v,fullName:U.target.value}),className:"input-style w-full",style:Po(s)})]}),(v.deliveryMethod==="transfer"||v.deliveryMethod==="card_transfer")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e("remittances.recipient.bankName")}),a.jsx("input",{type:"text",placeholder:e("remittances.recipient.bankName"),value:v.bankName,onChange:U=>w({...v,bankName:U.target.value}),className:"input-style w-full",style:Po(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:v.deliveryMethod==="card_transfer"?r==="es"?"Número de Tarjeta":"Card Number":e("remittances.recipient.accountNumber")}),a.jsx("input",{type:"text",placeholder:v.deliveryMethod==="card_transfer"?r==="es"?"Número de Tarjeta":"Card Number":e("remittances.recipient.accountNumber"),value:v.accountNumber,onChange:U=>w({...v,accountNumber:U.target.value}),className:"input-style w-full",style:Po(s)})]})]}),v.deliveryMethod==="cash"&&a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${s.primaryColor||"#2563eb"}10`,borderColor:s.primaryColor||"#2563eb",borderWidth:"1px",borderStyle:"solid"},children:a.jsx("p",{className:"text-sm",children:r==="es"?"El destinatario recogerá el efectivo en el punto de entrega especificado.":"The recipient will pick up cash at the specified delivery point."})})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ye,{variant:"outline",onClick:()=>m("offers"),children:e("vendor.addProduct.cancel")}),a.jsx(ye,{onClick:H,style:ht(s),children:e("remittances.recipient.confirm")})]})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(s),children:e("remittances.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("remittances.subtitle")})]}),a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-8 rounded-2xl mb-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("input",{type:"number",value:o,onChange:U=>l(U.target.value),placeholder:e("remittances.amount"),className:"input-style w-full"}),a.jsxs("select",{value:u,onChange:U=>d(U.target.value),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e("remittances.selectCountry")}),M.map(U=>a.jsx("option",{value:U.country,children:U.country},U.id))]})]})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((U,me)=>a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:me*.1},className:`glass-effect rounded-2xl p-6 hover-lift relative ${U.popular?"ring-2 ring-blue-500":""}`,children:[U.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:e("remittances.popular")})}),a.jsx("h3",{className:"text-lg font-semibold text-center mb-4",children:U.country}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.rate"),":"]}),a.jsx("span",{className:"font-semibold",children:U.rate.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.fee"),":"]}),a.jsxs("span",{className:"font-semibold",children:["$",U.fee]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.time"),":"]}),a.jsxs("span",{className:"font-semibold flex items-center",children:[a.jsx(bf,{className:"w-4 h-4 mr-1"}),U.time]})]}),o&&a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",style:{color:s.accentColor||"#22c55e"},children:[a.jsxs("span",{children:[e("remittances.youReceive"),":"]}),a.jsxs("span",{children:[te(U)," ",U.currency||"USD"]})]})})]}),a.jsxs(ye,{onClick:()=>D(U),className:"w-full",disabled:!o,style:ht(s),children:[a.jsx(X2,{className:"w-4 h-4 mr-2"}),e("remittances.send")]})]},U.id))})]})})},k4=({onNavigate:t})=>{const{t:e}=er(),{products:r,combos:s,financialSettings:o,visualSettings:l}=Wt(),{user:u,isAdmin:d,isSuperAdmin:h}=lr(),[m,p]=b.useState({totalProducts:0,totalCombos:0,totalUsers:0,pendingOrders:0,completedOrders:0,dailyRevenue:0,monthlyRevenue:0,loading:!0}),[y,v]=b.useState({weekly:0,monthly:0,yearly:0,total:0,loading:!0}),[w,C]=b.useState([]),[j,_]=b.useState(null),[O,T]=b.useState(1),P=re=>{if(!re.expiryDate)return!1;const B=new Date,J=new Date(re.expiryDate)-B,fe=Math.ceil(J/(1e3*60*60*24));return fe<=30&&fe>0},N=r.filter(P);b.useEffect(()=>{(async()=>{const{data:B}=await ee.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(B){C(B);const we=B.find(J=>J.is_base);we&&(_(we.id),T(1))}})()},[]),b.useEffect(()=>{if(j&&w.length>0){const re=w.find(B=>B.id===j);re&&T(re.exchange_rate||1)}},[j,w]);const I=async()=>{try{v(we=>({...we,loading:!0}));const{data:re,error:B}=await ee.from("site_visits").select("visit_time");if(B){console.warn("Visit tracking not configured:",B.message),v({weekly:0,monthly:0,yearly:0,total:0,loading:!1,unavailable:!0});return}if(re){const we=new Date,J=new Date(we-10080*60*1e3),fe=new Date(we-720*60*60*1e3),q=new Date(we-365*24*60*60*1e3),ie=re.filter(Q=>new Date(Q.visit_time)>=J).length,ne=re.filter(Q=>new Date(Q.visit_time)>=fe).length,E=re.filter(Q=>new Date(Q.visit_time)>=q).length,L=re.length;v({weekly:ie,monthly:ne,yearly:E,total:L,loading:!1,unavailable:!1})}}catch(re){console.error("Error fetching visit stats:",re),v({weekly:0,monthly:0,yearly:0,total:0,loading:!1,unavailable:!0})}},M=async()=>{try{p(xe=>({...xe,loading:!0}));const[re,B,we,J]=await Promise.all([ee.from("products").select("id",{count:"exact",head:!0}),ee.from("combo_products").select("id",{count:"exact",head:!0}),ee.from("user_profiles").select("id",{count:"exact",head:!0}),ee.from("orders").select("id, status, total_amount, created_at")]),fe=re.count||0,q=B.count||0,ie=we.count||0,ne=J.data||[],E=ne.filter(xe=>xe.status==="pending").length,L=ne.filter(xe=>["delivered","completed"].includes(xe.status)).length,Q=new Date,oe=new Date(Q-1440*60*1e3),ve=new Date(Q-720*60*60*1e3),Ce=ne.filter(xe=>new Date(xe.created_at)>=oe&&["delivered","completed","processing"].includes(xe.status)).reduce((xe,Ae)=>xe+(parseFloat(Ae.total_amount)||0),0),le=ne.filter(xe=>new Date(xe.created_at)>=ve&&["delivered","completed","processing"].includes(xe.status)).reduce((xe,Ae)=>xe+(parseFloat(Ae.total_amount)||0),0);p({totalProducts:fe,totalCombos:q,totalUsers:ie,pendingOrders:E,completedOrders:L,dailyRevenue:Ce,monthlyRevenue:le,loading:!1})}catch(re){console.error("Error fetching dashboard stats:",re),p(B=>({...B,loading:!1}))}};b.useEffect(()=>{u&&(d||h)&&(M(),I())},[u,d,h]);const D=m.dailyRevenue*(o.productProfit/100),H=m.monthlyRevenue*(o.productProfit/100),te=w.find(re=>re.id===j),U=te?.symbol||"$",me=te?.code||"USD",se=re=>(re*O).toFixed(2);return!u||!d&&!h?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(iE,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",style:et(l),children:e("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:e("dashboard.adminOnly")})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"flex justify-between items-start mb-12",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:et(l),children:e("dashboard.title")}),a.jsx("p",{className:"text-xl text-gray-600",children:e("dashboard.subtitle")})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[e("dashboard.selectCurrency"),":"]}),a.jsx("select",{value:j||"",onChange:re=>_(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(re=>a.jsxs("option",{value:re.id,children:[re.code," (",re.symbol,")"]},re.id))})]}),a.jsxs("button",{onClick:()=>{M(),I()},disabled:m.loading,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl shadow hover:shadow-md transition-shadow",children:[a.jsx(Fn,{className:`w-4 h-4 ${m.loading?"animate-spin":""}`}),a.jsx("span",{className:"text-sm font-medium",children:e("dashboard.refresh")})]})]})]}),N.length>0&&a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg mb-8",role:"alert",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"py-1",children:a.jsx(vi,{className:"h-6 w-6 text-yellow-500 mr-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("dashboard.expirationWarning.title")}),a.jsx("p",{className:"text-sm",children:e("dashboard.expirationWarning.description",{count:N.length})})]})]})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:e("dashboard.stats.dailyRevenue"),value:m.dailyRevenue,icon:qn,color:"from-green-500 to-emerald-600"},{title:e("dashboard.stats.monthlyRevenue"),value:m.monthlyRevenue,icon:Ul,color:"from-blue-500 to-cyan-600"},{title:e("dashboard.stats.dailyProfit"),value:D,icon:xf,color:"from-purple-500 to-pink-600"},{title:e("dashboard.stats.monthlyProfit"),value:H,icon:Ul,color:"from-orange-500 to-red-600"}].map((re,B)=>a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"glass-effect p-6 rounded-2xl hover-lift",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${re.color} rounded-xl flex items-center justify-center`,children:a.jsx(re.icon,{className:"w-6 h-6 text-white"})})}),a.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[U,se(re.value)," ",me]}),a.jsx("p",{className:"text-gray-600 text-sm",children:re.title})]},B))}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:e("dashboard.stats.totalProducts"),value:m.totalProducts,icon:Ss},{title:e("dashboard.stats.totalCombos"),value:m.totalCombos,icon:yc},{title:e("dashboard.stats.pendingOrders"),value:m.pendingOrders,icon:xf},{title:e("dashboard.stats.totalUsers"),value:m.totalUsers,icon:Jl}].map((re,B)=>a.jsx(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4+B*.1},className:"glass-effect p-6 rounded-2xl hover-lift",children:a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mr-3",children:a.jsx(re.icon,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:re.value}),a.jsx("p",{className:"text-gray-600 text-sm",children:re.title})]})]})},B))}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6",children:e("dashboard.profitBreakdown")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e("dashboard.dailyBreakdown")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.grossRevenue"),":"]}),a.jsxs("span",{className:"font-semibold",children:[U,se(m.dailyRevenue)," ",me]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.costs"),":"]}),a.jsxs("span",{className:"font-semibold text-red-600",children:["-",U,se(m.dailyRevenue-D)," ",me]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2 mt-1",children:[a.jsxs("span",{children:[e("dashboard.netProfit"),":"]}),a.jsxs("span",{className:"font-bold text-green-600",children:[U,se(D)," ",me]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[e("dashboard.profitMargin"),":"]}),a.jsxs("span",{children:[o.productProfit,"%"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e("dashboard.monthlyBreakdown")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.grossRevenue"),":"]}),a.jsxs("span",{className:"font-semibold",children:[U,se(m.monthlyRevenue)," ",me]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.costs"),":"]}),a.jsxs("span",{className:"font-semibold text-red-600",children:["-",U,se(m.monthlyRevenue-H)," ",me]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2 mt-1",children:[a.jsxs("span",{children:[e("dashboard.netProfit"),":"]}),a.jsxs("span",{className:"font-bold text-green-600",children:[U,se(H)," ",me]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[e("dashboard.profitMargin"),":"]}),a.jsxs("span",{children:[o.productProfit,"%"]})]})]})]})]})]}),a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6",children:e("dashboard.orderSummary")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-yellow-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.pending")}),a.jsx("span",{className:"text-lg font-bold text-yellow-600",children:m.pendingOrders})]}),a.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.completed")}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:m.completedOrders})]}),a.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-3 rounded-lg border-t-2 border-blue-500",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.stats.totalUsers")}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:m.totalUsers})]}),a.jsxs("div",{className:"flex justify-between items-center bg-purple-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.stats.activeProducts")}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:m.totalProducts})]})]})]})]}),a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",style:et(l),children:e("dashboard.analyticsTitle")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:e("dashboard.visits.title")}),a.jsx(Jl,{className:"w-8 h-8 text-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisWeek")}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.weekly})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisMonth")}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.monthly})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisYear")}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:y.yearly})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border-2 border-green-500",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.allTime")}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.total})]})]})]}),a.jsxs("div",{className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:e("dashboard.stats.siteVisits")}),a.jsx(Ul,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.weekly")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.thisWeek")})]}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:y.weekly})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.monthly")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.thisMonth")})]}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:y.monthly})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-500",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.total")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.allTime")})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:y.total})]})]})]})]})]})]})})},E4=()=>{const{t,language:e}=er(),{products:r,refreshProducts:s,financialSettings:o,categories:l,refreshCategories:u,combos:d,refreshCombos:h,testimonials:m,refreshTestimonials:p,visualSettings:y}=Wt(),[v,w]=b.useState([]),[C,j]=b.useState(null),[_,O]=b.useState(null),[T,P]=b.useState({});b.useEffect(()=>{const A=async()=>{const{data:Z}=await ee.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(Z){w(Z);const Oe=Z.find(He=>He.is_base);Oe&&(j(Oe.id),O(Oe.id))}const{data:Re}=await ee.from("exchange_rates").select("*").eq("is_active",!0);if(Re){const Oe={};Re.forEach(He=>{Oe[`${He.from_currency_id}-${He.to_currency_id}`]=He.rate}),P(Oe)}},he=async()=>{await p(!0),await h(!0)};A(),he()},[]);const[N,I]=b.useState("inventory"),[M,D]=b.useState(null),[H,te]=b.useState(null),[U,me]=b.useState({dbId:null,es:"",en:"",description_es:"",description_en:""}),[se,re]=b.useState(null),B=(A,he,Z,Re=null)=>{A==="product"?D(Oe=>({...Oe,[he]:Z})):A==="combo"&&te(Re?Oe=>({...Oe,[he]:{...Oe[he],[Re]:Z}}):Oe=>({...Oe,[he]:Z}))},we=()=>{D({id:null,name:"",description_es:"",description_en:"",basePrice:"",base_currency_id:C||"",category:"",stock:"",min_stock_alert:"",expiryDate:"",image:""}),re(null)},J=A=>{D({id:A.id,name:A.name_es||A.name,description_es:A.description_es||"",description_en:A.description_en||"",basePrice:A.base_price||A.basePrice||"",profitMargin:A.profit_margin||40,base_currency_id:A.base_currency_id||C||"",category:A.category?.id||A.category_id||"",stock:A.stock||"",min_stock_alert:A.min_stock_alert||"",expiryDate:A.expiry_date||A.expiryDate||"",image:A.image_url||A.image_file||A.image||"",sku:A.sku||""}),re(A.image_url||A.image_file||A.image||null)},fe=async A=>{const he=A.target.files?.[0];if(he)try{const Z=await Jo(he,"product");if(!Z.success){ue({title:"Error de validación",description:Z.errors.join(`
`),variant:"destructive"});return}re(Z.base64),D(Re=>({...Re,image:Z.base64})),ue({title:"Imagen optimizada",description:`${Z.metadata.originalDimensions} → ${Z.metadata.finalDimensions} (${Z.metadata.compression} compresión)`})}catch(Z){console.error("Error processing product image:",Z),ue({title:"Error al procesar imagen",description:Z.message,variant:"destructive"})}},q=async()=>{if(!M.name||!M.basePrice||!M.category){ue({title:t("vendor.validation.error"),description:t("vendor.validation.fillFields"),variant:"destructive"});return}if(!M.base_currency_id){ue({title:"Error",description:e==="es"?"Debe seleccionar una moneda":"You must select a currency",variant:"destructive"});return}try{if(!l.find(Z=>Z.id===M.category)){ue({title:"Error",description:"Categoría no válida",variant:"destructive"});return}const he={name:M.name,description_es:M.description_es||"",description_en:M.description_en||"",basePrice:parseFloat(M.basePrice),stock:parseInt(M.stock||0,10),min_stock_alert:parseInt(M.min_stock_alert||10,10),profitMargin:parseFloat(M.profitMargin||40),category_id:M.category,base_currency_id:M.base_currency_id,image:M.image||"",sku:M.sku||`SKU-${Date.now()}`,slug:M.name.toLowerCase().replace(/\s+/g,"-"),expiryDate:M.expiryDate||null};if(console.log("💾 Saving product with data:",he),console.log("📦 Stock value:",he.stock,typeof he.stock),console.log("🏷️ Category ID:",he.category_id,typeof he.category_id),console.log("📅 Expiry Date:",he.expiryDate,typeof he.expiryDate),M.id){const{error:Z}=await ET(M.id,he);if(Z)throw Z;ue({title:t("vendor.productUpdated")})}else{const{error:Z}=await kT(he);if(Z)throw Z;ue({title:t("vendor.productAdded")})}await s(),D(null),re(null)}catch(A){console.error("Error saving product:",A),ue({title:"Error",description:A.message,variant:"destructive"})}},ie=async()=>{if(!U.es||!U.en){ue({title:"Error",description:e==="es"?"Por favor complete los campos de nombre en ambos idiomas":"Please complete the name fields in both languages",variant:"destructive"});return}try{if(U.dbId){const{error:A}=await AT(U.dbId,{es:U.es,en:U.en,description_es:U.description_es,description_en:U.description_en});if(A)throw A;ue({title:e==="es"?"Categoría actualizada":"Category Updated",description:e==="es"?"La categoría se actualizó exitosamente":"The category was successfully updated"})}else{const{error:A}=await TT({es:U.es,en:U.en,description_es:U.description_es,description_en:U.description_en});if(A)throw A;ue({title:e==="es"?"Categoría creada":"Category Created",description:e==="es"?"La categoría se creó exitosamente":"The category was successfully created"})}await u(),me({dbId:null,es:"",en:"",description_es:"",description_en:""})}catch(A){console.error("Error saving category:",A),ue({title:"Error",description:A.message||(e==="es"?"Error al guardar la categoría":"Error saving category"),variant:"destructive"})}},ne=A=>{me({dbId:A.id,es:A.name_es||A.es,en:A.name_en||A.en,description_es:A.description_es||"",description_en:A.description_en||""})},E=async A=>{if(confirm(e==="es"?"¿Está seguro de que desea eliminar esta categoría?":"Are you sure you want to delete this category?"))try{const{error:Z}=await RT(A);if(Z)throw Z;await u(),ue({title:e==="es"?"Categoría eliminada":"Category Deleted",description:e==="es"?"La categoría se eliminó exitosamente":"The category was successfully deleted"})}catch(Z){console.error("Error deleting category:",Z),ue({title:"Error",description:Z.message||(e==="es"?"Error al eliminar la categoría":"Error deleting category"),variant:"destructive"})}},[L,Q]=b.useState(null),oe=()=>{te({id:null,name:"",profitMargin:"",shipping:{type:"paid",value:0},products:[],productQuantities:{},image:""}),Q(null)},ve=A=>{const he={},Z=[];A.items&&A.items.length>0&&A.items.forEach(Re=>{Z.push(Re.product.id),he[Re.product.id]=Re.quantity||1}),te({...A,products:Z,productQuantities:he}),Q(A.image_url||A.image||null)},Ce=async A=>{const he=A.target.files?.[0];if(he)try{const Z=await Jo(he,"combo");if(!Z.success){ue({title:"Error de validación",description:Z.errors.join(`
`),variant:"destructive"});return}Q(Z.base64),te(Re=>({...Re,image:Z.base64})),ue({title:"Imagen optimizada",description:`${Z.metadata.originalDimensions} → ${Z.metadata.finalDimensions} (${Z.metadata.compression} compresión)`})}catch(Z){console.error("Error processing combo image:",Z),ue({title:"Error al procesar imagen",description:Z.message,variant:"destructive"})}},le=A=>{te(he=>{const Z=he.products.includes(A),Re=Z?he.products.filter(He=>He!==A):[...he.products,A],Oe={...he.productQuantities};return Z?delete Oe[A]:Oe[A]=1,{...he,products:Re,productQuantities:Oe}})},xe=(A,he)=>{te(Z=>({...Z,productQuantities:{...Z.productQuantities,[A]:parseInt(he)||1}}))},Ae=async()=>{if(!H.name){ue({title:t("vendor.validation.error"),description:t("vendor.validation.fillFields"),variant:"destructive"});return}try{const A=(H.products||[]).map(Z=>({productId:Z,quantity:H.productQuantities[Z]||1})),he={name:H.name,description:H.description||"",image:H.image||"",productsWithQuantities:A,profitMargin:parseFloat(H.profitMargin||o.comboProfit),slug:H.name.toLowerCase().replace(/\s+/g,"-")};if(H.id){const{error:Z}=await IT(H.id,he);if(Z)throw Z;ue({title:t("vendor.comboUpdated")})}else{const{error:Z}=await MT(he);if(Z)throw Z;ue({title:t("vendor.comboAdded")})}await h(!0),te(null),Q(null)}catch(A){console.error("Error saving combo:",A),ue({title:"Error",description:A.message,variant:"destructive"})}},Y=(A,he,Z)=>{if(!A||!he||!Z||he===Z)return A;const Re=`${he}-${Z}`,Oe=T[Re];return Oe?parseFloat(A)*Oe:A},K=A=>{if(!A||!_)return{base:0,final:0};let he=0;(A.products||[]).forEach(Oe=>{const He=r.find(X=>X.id===Oe);if(He){const X=parseFloat(He.base_price||0),be=He.base_currency_id,Ve=A.productQuantities?.[Oe]||1;let Ye=X;be&&be!==_&&(Ye=Y(X,be,_)),he+=Ye*Ve}});const Z=parseFloat(A.profitMargin||o.comboProfit)/100,Re=he*(1+Z);return{base:he.toFixed(2),final:Re.toFixed(2)}},Le=async(A,he)=>{try{const{error:Z}=await $T(A,!he);if(Z)throw Z;ue({title:e==="es"?"Actualizado":"Updated",description:e==="es"?`Testimonio ${he?"oculto":"visible"}`:`Testimonial ${he?"hidden":"visible"}`}),await p(!0)}catch(Z){console.error("Error toggling testimonial visibility:",Z),ue({title:"Error",description:Z.message||(e==="es"?"Error al actualizar testimonio":"Error updating testimonial"),variant:"destructive"})}},je=async(A,he)=>{try{const{error:Z}=await FT(A,!he);if(Z)throw Z;ue({title:e==="es"?"Actualizado":"Updated",description:e==="es"?`Testimonio ${he?"normal":"destacado"}`:`Testimonial ${he?"unfeatured":"featured"}`}),await p(!0)}catch(Z){console.error("Error toggling testimonial featured status:",Z),ue({title:"Error",description:Z.message||(e==="es"?"Error al destacar testimonio":"Error featuring testimonial"),variant:"destructive"})}};return a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(y),children:t("vendor.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t("vendor.subtitle")})]}),a.jsxs("div",{className:"flex justify-center mb-8 border-b",children:[a.jsxs(ye,{variant:N==="inventory"?"default":"ghost",onClick:()=>I("inventory"),className:"rounded-b-none",style:N==="inventory"?ht(y):{},children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.inventory")]}),a.jsxs(ye,{variant:N==="categories"?"default":"ghost",onClick:()=>I("categories"),className:"rounded-b-none",style:N==="categories"?ht(y):{},children:[a.jsx(W2,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.categories")]}),a.jsxs(ye,{variant:N==="combos"?"default":"ghost",onClick:()=>I("combos"),className:"rounded-b-none",style:N==="combos"?ht(y):{},children:[a.jsx($2,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.combos")]}),a.jsxs(ye,{variant:N==="management"?"default":"ghost",onClick:()=>I("management"),className:"rounded-b-none",style:N==="management"?ht(y):{},children:[a.jsx(Z2,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.management")]})]}),N==="inventory"&&a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs(ye,{onClick:we,style:ht(y),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),t("vendor.actions.addProduct")]})}),M&&a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:M.id?t("vendor.addProduct.editTitle"):t("vendor.addProduct.title")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.name")," *"]}),a.jsx("input",{type:"text",value:M.name,onChange:A=>B("product","name",A.target.value),placeholder:t("vendor.addProduct.namePlaceholder"),className:"w-full input-style",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.category")," *"]}),a.jsxs("select",{value:M.category,onChange:A=>B("product","category",A.target.value),className:"w-full input-style",required:!0,children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar categoría":"Select category"}),l.map(A=>a.jsx("option",{value:A.id,children:e==="es"?A.name_es:A.name_en},A.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripción (Español)":"Description (Spanish)"}),a.jsx("textarea",{value:M.description_es,onChange:A=>B("product","description_es",A.target.value),placeholder:e==="es"?"Descripción del producto en español":"Product description in Spanish",rows:3,className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripción (Inglés)":"Description (English)"}),a.jsx("textarea",{value:M.description_en,onChange:A=>B("product","description_en",A.target.value),placeholder:e==="es"?"Descripción del producto en inglés":"Product description in English",rows:3,className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.basePrice")," *"]}),a.jsx("input",{type:"number",step:"0.01",value:M.basePrice,onChange:A=>B("product","basePrice",A.target.value),placeholder:"0.00",className:"w-full input-style",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.addProduct.currency")}),a.jsx("select",{value:M.base_currency_id,onChange:A=>B("product","base_currency_id",A.target.value),className:"w-full input-style",children:v.map(A=>a.jsxs("option",{value:A.id,children:[A.code," - ",e==="es"?A.name_es:A.name_en]},A.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.inventory.stock")}),a.jsx("input",{type:"number",value:M.stock,onChange:A=>B("product","stock",A.target.value),placeholder:"0",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Alerta de Stock Mínimo":"Minimum Stock Alert"}),a.jsx("input",{type:"number",value:M.min_stock_alert,onChange:A=>B("product","min_stock_alert",A.target.value),placeholder:"10",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.inventory.expiryDate")}),a.jsx("input",{type:"date",value:M.expiryDate,onChange:A=>B("product","expiryDate",A.target.value),className:"w-full input-style"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.addProduct.image")}),se&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"aspect-square max-w-sm mx-auto rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:se,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:fe,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: imagen cuadrada (1:1), máx 5MB":"Recommended: square image (1:1), max 5MB"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx(ye,{variant:"outline",onClick:()=>D(null),children:t("vendor.addProduct.cancel")}),a.jsxs(ye,{onClick:q,style:ht(y),children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),t("vendor.addProduct.save")]})]})]}),a.jsx("div",{className:"glass-effect rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:t("vendor.inventory.product")}),a.jsx("th",{className:"p-4",children:e==="es"?"Categoría":"Category"}),a.jsx("th",{className:"p-4",children:e==="es"?"Moneda":"Currency"}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.stock")}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.price")}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.expiryDate")}),a.jsx("th",{})]})}),a.jsx("tbody",{children:r.map(A=>{const he=v.find(Ve=>Ve.id===A.base_currency_id),Z=A.stock!==void 0?A.stock:0,Re=A.min_stock_alert||10,Oe=Z===0,He=Z>0&&Z<=Re,be=(Ve=>{if(!Ve)return null;const Ye=new Date,Nt=new Date(Ve),ut=Math.ceil((Nt-Ye)/(1e3*60*60*24)),Mt=ut/30;return ut<0?{status:"expired",color:"bg-red-50",icon:yi,iconColor:"text-red-600",days:ut}:Mt<=1?{status:"critical",color:"bg-pink-50",icon:yi,iconColor:"text-red-500",days:ut}:Mt<=3?{status:"warning",color:"bg-yellow-50",icon:vi,iconColor:"text-yellow-600",days:ut}:{status:"ok",color:"",icon:null,iconColor:"",days:ut}})(A.expiry_date||A.expiryDate);return a.jsxs("tr",{className:`border-b last:border-none ${be?.color||""} ${Oe?"opacity-60":""}`,children:[a.jsx("td",{className:`p-4 font-medium ${Oe?"line-through text-gray-400":""}`,children:A.name_es||A.name||"Sin nombre"}),a.jsx("td",{className:"p-4 text-gray-600",children:A.category?e==="es"?A.category.name_es:A.category.name_en:"Sin categoría"}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:he?.code||"USD"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Oe?"line-through text-gray-400":"",children:Z}),Oe&&a.jsx(yi,{className:"h-4 w-4 text-red-600",title:e==="es"?"Sin stock":"Out of stock"}),He&&a.jsx(vi,{className:"h-4 w-4 text-orange-500",title:e==="es"?"Stock bajo":"Low stock"})]})}),a.jsxs("td",{className:"p-4",children:[he?.symbol||"$",A.final_price?Number(A.final_price).toFixed(2):A.base_price?Number(A.base_price).toFixed(2):"0.00"]}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:A.expiry_date||A.expiryDate?new Date(A.expiry_date||A.expiryDate).toLocaleDateString():"N/A"}),be?.icon&&a.jsx(be.icon,{className:`h-4 w-4 ${be.iconColor}`,title:be.status==="expired"?e==="es"?"Expirado":"Expired":e==="es"?`${be.days} días restantes`:`${be.days} days left`})]})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>J(A),children:a.jsx(Fl,{className:"h-4 w-4"})})})]},A.id)})})]})})]}),N==="categories"&&a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"glass-effect p-8 rounded-2xl mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:U.dbId?e==="es"?"Editar Categoría":"Edit Category":e==="es"?"Nueva Categoría":"New Category"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre (Español) *":"Name (Spanish) *"}),a.jsx("input",{type:"text",value:U.es,onChange:A=>me({...U,es:A.target.value}),placeholder:e==="es"?"Ej: Electrónica":"Ex: Electronics",className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre (Inglés) *":"Name (English) *"}),a.jsx("input",{type:"text",value:U.en,onChange:A=>me({...U,en:A.target.value}),placeholder:e==="es"?"Ej: Electronics":"Ex: Electronics",className:"input-style w-full",required:!0})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripción (Español)":"Description (Spanish)"}),a.jsx("textarea",{value:U.description_es,onChange:A=>me({...U,description_es:A.target.value}),placeholder:e==="es"?"Descripción opcional...":"Optional description...",className:"input-style w-full",rows:"3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripción (Inglés)":"Description (English)"}),a.jsx("textarea",{value:U.description_en,onChange:A=>me({...U,description_en:A.target.value}),placeholder:e==="es"?"Descripción opcional...":"Optional description...",className:"input-style w-full",rows:"3"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{onClick:ie,style:ht(y),children:U.dbId?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),e==="es"?"Actualizar Categoría":"Update Category"]}):a.jsxs(a.Fragment,{children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),e==="es"?"Crear Categoría":"Create Category"]})}),U.dbId&&a.jsxs(ye,{variant:"outline",onClick:()=>me({dbId:null,es:"",en:"",description_es:"",description_en:""}),children:[a.jsx(Gn,{className:"mr-2 h-4 w-4"}),e==="es"?"Cancelar":"Cancel"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="es"?"Categorías Existentes":"Existing Categories"}),l.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:e==="es"?"No hay categorías aún":"No categories yet"}):a.jsx("ul",{className:"space-y-2",children:l.map(A=>a.jsxs("li",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("span",{className:"font-semibold",children:e==="es"?A.name_es||A.es:A.name_en||A.en}),a.jsxs("span",{className:"text-gray-500 text-sm",children:["(",A.slug,")"]})]}),(A.description_es||A.description_en)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e==="es"?A.description_es:A.description_en})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>ne(A),children:a.jsx(Fl,{className:"h-4 w-4"})}),a.jsx(ye,{variant:"destructive",size:"icon",onClick:()=>E(A.id),style:{backgroundColor:y.destructiveBgColor||"#dc2626",color:y.destructiveTextColor||"#ffffff"},onMouseEnter:he=>he.currentTarget.style.backgroundColor=y.destructiveHoverBgColor||"#b91c1c",onMouseLeave:he=>he.currentTarget.style.backgroundColor=y.destructiveBgColor||"#dc2626",children:a.jsx(Fo,{className:"h-4 w-4"})})]})]},A.id))})]})]}),N==="combos"&&a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:e==="es"?"Moneda:":"Currency:"}),a.jsx("select",{value:_||"",onChange:A=>O(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map(A=>a.jsxs("option",{value:A.id,children:[A.code," (",A.symbol,")"]},A.id))})]}),a.jsxs(ye,{onClick:oe,style:ht(y),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),t("vendor.combos.new")]})]}),H&&a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:H.id?t("vendor.combos.edit"):t("vendor.combos.new")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("input",{type:"text",value:H.name,onChange:A=>B("combo","name",A.target.value),placeholder:t("vendor.combos.name"),className:"w-full input-style mb-4"}),a.jsx("input",{type:"number",value:H.profitMargin,onChange:A=>B("combo","profitMargin",A.target.value),placeholder:`${t("vendor.combos.profitMargin")} (def: ${o.comboProfit}%)`,className:"w-full input-style mb-4"}),L&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"aspect-square max-w-sm mx-auto rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:L,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.combos.coverImage")}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:Ce,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:t("vendor.combos.products")}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 p-2 border rounded-lg",children:r.map(A=>{const he=A.stock!==void 0?A.stock:0,Z=A.min_stock_alert||10,Re=he===0,Oe=he>0&&he<=Z,He=H.productQuantities[A.id]||1,X=H.products.includes(A.id)&&he<He;return a.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${Re?"bg-red-50 border border-red-200":Oe||X?"bg-yellow-50 border border-yellow-200":"border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",id:`p-${A.id}`,checked:H.products.includes(A.id),onChange:()=>le(A.id),disabled:Re,className:"flex-shrink-0"}),a.jsx("label",{htmlFor:`p-${A.id}`,className:`cursor-pointer flex-1 ${Re?"text-gray-400 line-through":""}`,children:A.name_es||A.name}),Re&&a.jsx(yi,{className:"h-4 w-4 text-red-600 flex-shrink-0",title:e==="es"?"Sin stock":"Out of stock"}),Oe&&!Re&&a.jsx(vi,{className:"h-4 w-4 text-orange-500 flex-shrink-0",title:e==="es"?`Stock: ${he}`:`Stock: ${he}`}),X&&a.jsx(vi,{className:"h-4 w-4 text-orange-600 flex-shrink-0",title:e==="es"?`Insuficiente: ${he} disponible, ${He} requerido`:`Insufficient: ${he} available, ${He} required`}),H.products.includes(A.id)&&a.jsx("input",{type:"number",min:"1",value:H.productQuantities[A.id]||1,onChange:be=>xe(A.id,be.target.value),className:"w-16 px-2 py-1 border rounded text-sm",placeholder:"Cant."})]},A.id)})})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"glass-effect p-3 rounded-lg text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[t("vendor.combos.basePrice"),":"]}),a.jsxs("span",{className:"font-semibold",children:[v.find(A=>A.id===_)?.symbol||"$",K(H).base," ",v.find(A=>A.id===_)?.code||"USD"]})]}),a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsxs("span",{children:[t("vendor.combos.finalPrice"),":"]}),a.jsxs("span",{className:"text-blue-600",children:[v.find(A=>A.id===_)?.symbol||"$",K(H).final," ",v.find(A=>A.id===_)?.code||"USD"]})]})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx(ye,{variant:"outline",onClick:()=>te(null),children:t("vendor.addProduct.cancel")}),a.jsxs(ye,{onClick:Ae,style:ht(y),children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),t("vendor.combos.save")]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(A=>{const he=(A.products||[]).reduce((be,Ve)=>{const Ye=A.productQuantities?.[Ve]||1;return be+Ye},0),Z=[];(A.products||[]).forEach(be=>{const Ve=r.find(ut=>ut.id===be),Ye=A.productQuantities?.[be]||1,Nt=Ve?.stock||0;Nt===0?Z.push({productName:Ve?.name_es||Ve?.name||"Unknown",issue:"out_of_stock",required:Ye,available:0}):Nt<Ye&&Z.push({productName:Ve?.name_es||Ve?.name||"Unknown",issue:"insufficient",required:Ye,available:Nt})});const Re=A.is_active===!1||Z.length>0,Oe=K(A),He=v.find(be=>be.id===_)?.symbol||"$",X=v.find(be=>be.id===_)?.code||"USD";return a.jsxs("div",{className:`glass-effect p-4 rounded-lg relative ${Re?"border-2 border-red-300":""}`,children:[Re&&a.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(yi,{className:"h-3 w-3"}),e==="es"?"DESACTIVADO":"DEACTIVATED"]}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>ve(A),className:"absolute top-2 right-2",children:a.jsx(Fl,{className:"h-4 w-4"})}),a.jsx("h3",{className:`font-bold pr-8 ${Re?"line-through text-gray-500 mt-8":""}`,children:A.name_es||A.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[he," ",e==="es"?"elementos":"items"," (",A.products?.length||0," ",e==="es"?"productos":"products",")"]}),Re&&Z.length>0&&a.jsxs("div",{className:"mt-2 p-2 bg-red-100 border border-red-300 rounded text-xs",children:[a.jsx("p",{className:"font-semibold text-red-800 mb-1",children:e==="es"?"Problemas de stock:":"Stock issues:"}),a.jsx("ul",{className:"space-y-1",children:Z.map((be,Ve)=>a.jsxs("li",{className:"flex items-start gap-1 text-red-700",children:[a.jsx(vi,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsxs("strong",{children:[be.productName,":"]})," ",be.issue==="out_of_stock"?e==="es"?"Sin stock":"Out of stock":`Insuf. (Req: ${be.required}, ${e==="es"?"Disp:":"Avail:"} ${be.available})`]})]},Ve))})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:`text-sm ${Re?"text-gray-400 line-through":"text-gray-500"}`,children:["Base:"," ",He,Oe.base," ",X]}),a.jsxs("p",{className:`text-lg font-bold ${Re?"text-gray-400 line-through":"text-green-600"}`,children:["Final:"," ",He,Oe.final," ",X]})]})]},A.id)})})]}),N==="management"&&a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:t("vendor.management.testimonials")}),a.jsx("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:m.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:e==="es"?"No hay testimonios aún":"No testimonials yet"}):m.map(A=>a.jsxs("div",{className:"flex justify-between items-center p-3 border-b hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("p",{className:"font-semibold",children:[e==="es"?"Usuario":"User"," #",A.user_id?.substring(0,8)]}),A.is_featured&&a.jsx(wf,{className:"w-4 h-4 text-purple-500",title:e==="es"?"Destacado":"Featured"}),a.jsx("span",{className:"text-yellow-500",children:"★".repeat(A.rating)})]}),a.jsxs("p",{className:"text-sm italic text-gray-600",children:['"',A.comment,'"']}),A.user_photo&&a.jsx("img",{src:A.user_photo,alt:"User",className:"w-8 h-8 rounded-full mt-2"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{size:"sm",variant:A.is_featured?"default":"outline",onClick:()=>je(A.id,A.is_featured),title:e==="es"?"Destacar/Quitar destaque":"Feature/Unfeature",children:A.is_featured?a.jsxs(a.Fragment,{children:[a.jsx(wf,{className:"mr-2 h-4 w-4"}),e==="es"?"Destacado":"Featured"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Normal"]})}),a.jsx(ye,{size:"sm",variant:A.is_visible?"default":"outline",onClick:()=>Le(A.id,A.is_visible),children:A.is_visible?a.jsxs(a.Fragment,{children:[a.jsx(Jl,{className:"mr-2 h-4 w-4"}),t("vendor.management.hide")]}):a.jsxs(a.Fragment,{children:[a.jsx(B2,{className:"mr-2 h-4 w-4"}),t("vendor.management.show")]})})]})]},A.id))})]})})]})},P4=({onNavigate:t})=>{const{t:e}=er(),{user:r,isAdmin:s,isSuperAdmin:o,userRole:l}=lr();return console.log("AdminPage Access Check:",{user:r?.email,isAdmin:s,isSuperAdmin:o,userRole:l}),!r||!s&&!o?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:e("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:e("dashboard.adminOnly")})]})}):a.jsx("div",{children:a.jsx(E4,{onNavigate:t})})},_b=async()=>{try{const{data:t,error:e}=await ee.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching currencies:",t),{data:[],error:t}}},T4=async t=>{try{const{data:e,error:r}=await ee.from("currencies").insert([{code:t.code.toUpperCase(),name_es:t.name_es,name_en:t.name_en,symbol:t.symbol,is_base:t.is_base||!1,is_active:!0}]).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error creating currency:",e),{data:null,error:e}}},A4=async(t,e)=>{try{const{data:r,error:s}=await ee.from("currencies").update({name_es:e.name_es,name_en:e.name_en,symbol:e.symbol,is_base:e.is_base!==void 0?e.is_base:!1,is_active:e.is_active!==void 0?e.is_active:!0,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error updating currency:",r),{data:null,error:r}}},R4=async t=>{try{const{error:e}=await ee.from("currencies").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting currency:",e),{data:!1,error:e}}},O4=async(t,e)=>{try{if(t===e)return{data:1,error:null};const{data:r,error:s}=await ee.from("currencies").select("id, code").in("code",[t,e]).eq("is_active",!0);if(s)throw s;if(!r||r.length!==2)throw new Error("One or both currencies not found");const o=r.find(p=>p.code===t),l=r.find(p=>p.code===e),{data:u,error:d}=await ee.from("exchange_rates").select("rate").eq("from_currency_id",o.id).eq("to_currency_id",l.id).eq("is_active",!0).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(d)throw d;if(u)return{data:parseFloat(u.rate),error:null};const{data:h,error:m}=await ee.from("exchange_rates").select("rate").eq("from_currency_id",l.id).eq("to_currency_id",o.id).eq("is_active",!0).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(m)throw m;return h?{data:1/parseFloat(h.rate),error:null}:(console.warn(`No exchange rate found for ${t} to ${e}, using 1:1`),{data:1,error:null})}catch(r){return console.error("Error getting exchange rate:",r),{data:null,error:r}}},Lv=async(t,e,r)=>{try{const{data:s,error:o}=await O4(e,r);if(o)throw o;return{data:t*s,error:null}}catch(s){return console.error("Error converting currency:",s),{data:null,error:s}}},M4=async()=>{try{const t=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!t.ok)throw new Error("Failed to fetch exchange rates");const e=await t.json();return{data:{EUR:1/(e.rates.EUR||1),GBP:1/(e.rates.GBP||1),CAD:1/(e.rates.CAD||1),MXN:1/(e.rates.MXN||1),USD:1},error:null}}catch(t){return console.error("Error fetching official rates:",t),{data:null,error:t}}},I4=async()=>{try{const{data:t,error:e}=await ee.from("exchange_rates").select(`
        id,
        rate,
        effective_date,
        is_active,
        from_currency:from_currency_id(id, code, name_es, name_en, symbol),
        to_currency:to_currency_id(id, code, name_es, name_en, symbol)
      `).eq("is_active",!0).order("effective_date",{ascending:!1});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching exchange rates:",t),{data:[],error:t}}},$v=async t=>{try{const{data:e,error:r}=await ee.from("exchange_rates").upsert({from_currency_id:t.fromCurrencyId,to_currency_id:t.toCurrencyId,rate:parseFloat(t.rate),effective_date:t.effectiveDate||new Date().toISOString().split("T")[0],is_active:!0},{onConflict:"from_currency_id,to_currency_id,effective_date"}).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error saving exchange rate:",e),{data:null,error:e}}},D4=async t=>{try{const{error:e}=await ee.from("exchange_rates").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting exchange rate:",e),{data:!1,error:e}}},L4=async()=>{try{const{data:t,error:e}=await ee.from("shipping_zones").select("*").eq("is_active",!0).order("province_name",{ascending:!0});if(e)throw e;return{success:!0,zones:t||[]}}catch(t){return console.error("Error fetching active shipping zones:",t),{success:!1,error:t.message,zones:[]}}},$4=async()=>{try{const{data:t,error:e}=await ee.from("shipping_zones").select("*").order("province_name",{ascending:!0});if(e)throw e;return{success:!0,zones:t||[]}}catch(t){return console.error("Error fetching all shipping zones:",t),{success:!1,error:t.message,zones:[]}}},F4=async t=>{try{const{data:e,error:r}=await ee.from("shipping_zones").select("*").eq("province_name",t).eq("is_active",!0).single();if(r)throw r;return{success:!0,zone:e}}catch(e){return console.error("Error fetching shipping zone by province:",e),{success:!1,error:e.message}}},U4=async(t,e=0)=>{try{const r=await F4(t);if(!r.success)return{success:!1,error:"Province not found",cost:0,freeShipping:!1};const s=r.zone;return s.free_shipping?{success:!0,cost:0,freeShipping:!0,zone:s}:{success:!0,cost:parseFloat(s.shipping_cost),freeShipping:!1,zone:s}}catch(r){return console.error("Error calculating shipping cost:",r),{success:!1,error:r.message,cost:0,freeShipping:!1}}},B4=async t=>{try{const e={province_name:t.provinceName,shipping_cost:parseFloat(t.shippingCost||0),is_active:t.isActive!==void 0?t.isActive:!0,free_shipping:t.freeShipping||!1},{data:r,error:s}=await ee.from("shipping_zones").insert(e).select().single();if(s)throw s;return{success:!0,zone:r}}catch(e){return console.error("Error creating shipping zone:",e),{success:!1,error:e.message}}},V4=async(t,e)=>{try{const r={};e.provinceName!==void 0&&(r.province_name=e.provinceName),e.shippingCost!==void 0&&(r.shipping_cost=parseFloat(e.shippingCost)),e.isActive!==void 0&&(r.is_active=e.isActive),e.freeShipping!==void 0&&(r.free_shipping=e.freeShipping),e.deliveryDays!==void 0&&(r.delivery_days=parseInt(e.deliveryDays)),e.transportCost!==void 0&&(r.transport_cost=parseFloat(e.transportCost)),e.deliveryNote!==void 0&&(r.delivery_note=e.deliveryNote),r.updated_at=new Date().toISOString();const{data:s,error:o}=await ee.from("shipping_zones").update(r).eq("id",t).select().single();if(o)throw o;return{success:!0,zone:s}}catch(r){return console.error("Error updating shipping zone:",r),{success:!1,error:r.message}}},Cb=[{id:"pinar_del_rio",name:"Pinar del Río",municipalities:["Consolación del Sur","Guane","La Palma","Los Palacios","Mantua","Minas de Matahambre","Pinar del Río","San Juan y Martínez","San Luis","Sandino","Viñales"]},{id:"artemisa",name:"Artemisa",municipalities:["Alquízar","Artemisa","Bahía Honda","Bauta","Caimito","Candelaria","Guanajay","Güira de Melena","Mariel","San Antonio de los Baños","San Cristóbal"]},{id:"la_habana",name:"La Habana",municipalities:["Arroyo Naranjo","Boyeros","Centro Habana","Cerro","Cotorro","Diez de Octubre","Guanabacoa","Habana del Este","Habana Vieja","La Lisa","Marianao","Playa","Plaza de la Revolución","Regla","San Miguel del Padrón"]},{id:"mayabeque",name:"Mayabeque",municipalities:["Batabanó","Bejucal","Güines","Jaruco","Madruga","Melena del Sur","Nueva Paz","Quivicán","San José de las Lajas","San Nicolás","Santa Cruz del Norte"]},{id:"matanzas",name:"Matanzas",municipalities:["Calimete","Cárdenas","Ciénaga de Zapata","Colón","Jagüey Grande","Jovellanos","Limonar","Los Arabos","Martí","Matanzas","Pedro Betancourt","Perico","Unión de Reyes"]},{id:"cienfuegos",name:"Cienfuegos",municipalities:["Abreus","Aguada de Pasajeros","Cienfuegos","Cruces","Cumanayagua","Palmira","Rodas","Santa Isabel de las Lajas"]},{id:"villa_clara",name:"Villa Clara",municipalities:["Caibarién","Camajuaní","Cifuentes","Corralillo","Encrucijada","Manicaragua","Placetas","Quemado de Güines","Ranchuelo","Remedios","Sagua la Grande","Santa Clara","Santo Domingo"]},{id:"sancti_spiritus",name:"Sancti Spíritus",municipalities:["Cabaiguán","Fomento","Jatibonico","La Sierpe","Sancti Spíritus","Taguasco","Trinidad","Yaguajay"]},{id:"ciego_de_avila",name:"Ciego de Ávila",municipalities:["Baraguá","Bolivia","Chambas","Ciego de Ávila","Ciro Redondo","Florencia","Majagua","Morón","Primero de Enero","Venezuela"]},{id:"camaguey",name:"Camagüey",municipalities:["Camagüey","Carlos Manuel de Céspedes","Esmeralda","Florida","Guáimaro","Jimagüayú","Minas","Najasa","Nuevitas","Santa Cruz del Sur","Sibanicú","Sierra de Cubitas","Vertientes"]},{id:"las_tunas",name:"Las Tunas",municipalities:["Amancio","Colombia","Jesús Menéndez","Jobabo","Las Tunas","Majibacoa","Manatí","Puerto Padre"]},{id:"holguin",name:"Holguín",municipalities:["Antilla","Báguanos","Banes","Cacocum","Calixto García","Cueto","Frank País","Gibara","Holguín","Mayarí","Moa","Rafael Freyre","Sagua de Tánamo","Urbano Noris"]},{id:"granma",name:"Granma",municipalities:["Bartolomé Masó","Bayamo","Buey Arriba","Campechuela","Cauto Cristo","Guisa","Jiguaní","Manzanillo","Media Luna","Niquero","Pilón","Río Cauto","Yara"]},{id:"santiago_de_cuba",name:"Santiago de Cuba",municipalities:["Contramaestre","Guamá","Mella","Palma Soriano","San Luis","Santiago de Cuba","Segundo Frente","Songo-La Maya","Tercer Frente"]},{id:"guantanamo",name:"Guantánamo",municipalities:["Baracoa","Caimanera","El Salvador","Guantánamo","Imías","Maisí","Manuel Tames","Niceto Pérez","San Antonio del Sur","Yateras"]},{id:"isla_de_la_juventud",name:"Isla de la Juventud",municipalities:["Isla de la Juventud"]}],z4=t=>{const e=Cb.find(r=>r.name===t);return e?e.municipalities:[]},q4=()=>Cb.map(t=>t.name),W4=()=>{const{t,language:e}=er(),{financialSettings:r,setFinancialSettings:s,notificationSettings:o,setNotificationSettings:l,visualSettings:u,setVisualSettings:d,zelleAccounts:h,setZelleAccounts:m}=Wt(),{user:p,isAdmin:y}=lr(),[v,w]=b.useState("financiero"),[C,j]=b.useState(r),[_,O]=b.useState(o),[T,P]=b.useState(u),[N,I]=b.useState({companyName:u.companyName||"PapuEnvíos",logo:u.logo||"",primaryColor:u.primaryColor||"#2563eb",secondaryColor:u.secondaryColor||"#9333ea",useGradient:u.useGradient!==void 0?u.useGradient:!0,headerBgColor:u.headerBgColor||"#ffffff",headerTextColor:u.headerTextColor||"#1f2937",headingColor:u.headingColor||"#1f2937",useHeadingGradient:u.useHeadingGradient!==void 0?u.useHeadingGradient:!0,buttonBgColor:u.buttonBgColor||"#2563eb",buttonTextColor:u.buttonTextColor||"#ffffff",buttonHoverBgColor:u.buttonHoverBgColor||"#1d4ed8",destructiveBgColor:u.destructiveBgColor||"#dc2626",destructiveTextColor:u.destructiveTextColor||"#ffffff",destructiveHoverBgColor:u.destructiveHoverBgColor||"#b91c1c",accentColor:u.accentColor||"#9333ea",pageBgColor:u.pageBgColor||"#f9fafb",cardBgColor:u.cardBgColor||"#ffffff"}),[M,D]=b.useState(u.logo||""),[H,te]=b.useState([]),[U,me]=b.useState(null),[se,re]=b.useState(null),[B,we]=b.useState(!1),[J,fe]=b.useState({code:"",name_es:"",name_en:"",symbol:"",is_base:!1}),[q,ie]=b.useState({}),[ne,E]=b.useState([]),[L,Q]=b.useState(!1),[oe,ve]=b.useState(null),[Ce,le]=b.useState(null),[xe,Ae]=b.useState({}),[Y,K]=b.useState([]),[Le,je]=b.useState(!1),[A,he]=b.useState(null),[Z,Re]=b.useState([]),[Oe,He]=b.useState(!1),[X,be]=b.useState(null),[Ve,Ye]=b.useState([]),[Nt,ut]=b.useState(!1),[Mt,tt]=b.useState(!1),[Ge,Ut]=b.useState({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]});b.useEffect(()=>{Kr(),Ir(),Xn(),Os(),Is(),Ds()},[]);const Ir=async()=>{we(!0);try{const{data:k,error:V}=await M4();if(V)throw V;re(k)}catch(k){console.error("Error loading official rates:",k)}finally{we(!1)}};if(!p||!y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",style:et(u),children:t("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:t("dashboard.adminOnly")})]})});const Kr=async()=>{try{const{data:k,error:V}=await _b();if(V)throw V;te(k||[])}catch(k){console.error("Error loading currencies:",k),ue({title:"Error",description:e==="es"?"Error al cargar monedas":"Error loading currencies",variant:"destructive"})}},Sc=()=>{s(C),ue({title:t("settings.saveSuccess")})},la=async()=>{if(!J.code||!J.name_es||!J.name_en||!J.symbol){ue({title:"Error",description:e==="es"?"Por favor complete todos los campos":"Please fill all fields",variant:"destructive"});return}try{const{supabase:k}=await Oi(async()=>{const{supabase:_e}=await Promise.resolve().then(()=>NT);return{supabase:_e}},void 0);J.is_base&&await k.from("currencies").update({is_base:!1}).eq("is_base",!0).neq("id",U?.id||"00000000-0000-0000-0000-000000000000");let V;if(U){const{data:_e,error:Be}=await A4(U.id,J);if(Be)throw Be;V=_e,ue({title:e==="es"?"Moneda actualizada":"Currency Updated",description:e==="es"?"La moneda se actualizó exitosamente":"Currency was updated successfully"})}else{const{data:_e,error:Be}=await T4(J);if(Be)throw Be;V=_e,ue({title:e==="es"?"Moneda creada":"Currency Created",description:e==="es"?"La moneda se creó exitosamente":"Currency was created successfully"})}fe({code:"",name_es:"",name_en:"",symbol:"",is_base:!1}),me(null),await Kr()}catch(k){console.error("Error saving currency:",k),ue({title:"Error",description:k.message,variant:"destructive"})}},ca=async k=>{me(k),fe({code:k.code,name_es:k.name_es,name_en:k.name_en,symbol:k.symbol,is_base:k.is_base||!1})},Nc=async k=>{if(confirm(e==="es"?"¿Está seguro de que desea eliminar esta moneda? Esto también eliminará sus tasas de cambio.":"Are you sure you want to delete this currency? This will also remove its exchange rates."))try{await ee.from("exchange_rates").update({is_active:!1}).or(`from_currency_id.eq.${k},to_currency_id.eq.${k}`);const{error:_e}=await R4(k);if(_e)throw _e;ue({title:e==="es"?"Moneda eliminada":"Currency Deleted",description:e==="es"?"La moneda y sus tasas de cambio se eliminaron exitosamente":"Currency and its exchange rates were deleted successfully"}),await Kr()}catch(_e){console.error("Error deleting currency:",_e),ue({title:"Error",description:_e.message,variant:"destructive"})}},Li=()=>{me(null),fe({code:"",name_es:"",name_en:"",symbol:"",is_base:!1})},$i=()=>{l(_),ue({title:t("settings.saveSuccess")})},Os=async()=>{je(!0);try{const k=await $4();if(k.success){const V=q4(),_e=k.zones.map(Ze=>Ze.province_name),Be=V.filter(Ze=>!_e.includes(Ze)),Ke=[...k.zones,...Be.map(Ze=>({id:`temp-${Ze}`,province_name:Ze,shipping_cost:0,is_active:!1,free_shipping:!1,is_new:!0}))];K(Ke.sort((Ze,pa)=>Ze.province_name.localeCompare(pa.province_name)))}}catch(k){console.error("Error loading shipping zones:",k),ue({title:e==="es"?"Error al cargar zonas":"Error loading zones",description:k.message,variant:"destructive"})}finally{je(!1)}},Ms=async(k,V)=>{he(k);try{const _e=Y.find(Be=>Be.id===k);_e.is_new?(await B4({provinceName:_e.province_name,shippingCost:V.shipping_cost??_e.shipping_cost,isActive:V.is_active??_e.is_active??!0,freeShipping:V.free_shipping??_e.free_shipping??!1})).success&&(await Os(),ue({title:e==="es"?"✅ Zona creada":"✅ Zone created"})):(await V4(k,{shippingCost:V.shipping_cost,isActive:V.is_active,freeShipping:V.free_shipping})).success&&(K(Ke=>Ke.map(Ze=>Ze.id===k?{...Ze,...V}:Ze)),ue({title:e==="es"?"✅ Zona actualizada":"✅ Zone updated"}))}catch(_e){console.error("Error updating shipping zone:",_e),ue({title:e==="es"?"Error al guardar":"Save error",description:_e.message,variant:"destructive"})}finally{he(null)}},Is=async()=>{He(!0);try{const k=await Lh();k.success&&Re(k.configs)}catch(k){console.error("Error loading remittance configs:",k),ue({title:e==="es"?"Error al cargar configuración":"Error loading config",description:k.message,variant:"destructive"})}finally{He(!1)}},Qr=async(k,V)=>{be(k);try{const Be={...Z.find(Ze=>Ze.id===k),...V};(await C4(Be)).success&&(await Is(),ue({title:e==="es"?"✅ Configuración guardada":"✅ Configuration saved"}))}catch(_e){console.error("Error updating remittance config:",_e),ue({title:e==="es"?"Error al guardar":"Save error",description:_e.message,variant:"destructive"})}finally{be(null)}},hn=async(k,V)=>{const Be=Z.find(Ke=>Ke.id===k).paymentMethods.map(Ke=>Ke.id===V?{...Ke,enabled:!Ke.enabled}:Ke);await Qr(k,{paymentMethods:Be})},Ds=async()=>{ut(!0);try{const{data:k,error:V}=await I4();!V&&k&&Ye(k)}catch(k){console.error("Error loading exchange rates:",k)}finally{ut(!1)}},ua=async()=>{if(!Ge.fromCurrencyId||!Ge.toCurrencyId||!Ge.rate){ue({title:e==="es"?"Datos incompletos":"Incomplete data",description:e==="es"?"Por favor complete todos los campos":"Please fill all fields",variant:"destructive"});return}if(Ge.fromCurrencyId===Ge.toCurrencyId){ue({title:"Error",description:e==="es"?"Las monedas deben ser diferentes":"Currencies must be different",variant:"destructive"});return}try{const k=await $v(Ge);if(k.error)throw k.error;const V={fromCurrencyId:Ge.toCurrencyId,toCurrencyId:Ge.fromCurrencyId,rate:(1/parseFloat(Ge.rate)).toString(),effectiveDate:Ge.effectiveDate},_e=await $v(V);if(_e.error)throw _e.error;await Ds(),tt(!1),Ut({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]}),ue({title:e==="es"?"✅ Tasas guardadas":"✅ Rates saved",description:e==="es"?"La tasa de cambio y su inversa se guardaron correctamente":"Exchange rate and its inverse saved successfully"})}catch(k){console.error("Error saving rate:",k),ue({title:e==="es"?"Error al guardar":"Save error",description:k.message,variant:"destructive"})}},da=async k=>{if(confirm(e==="es"?"¿Eliminar esta tasa?":"Delete this rate?"))try{const V=await D4(k);if(V.error)throw V.error;await Ds(),ue({title:e==="es"?"✅ Tasa eliminada":"✅ Rate deleted"})}catch(V){console.error("Error deleting rate:",V),ue({title:"Error",description:V.message,variant:"destructive"})}},fa=async k=>{const V=k.target.files?.[0];if(V)try{const _e=await Jo(V,"logo");if(!_e.success){ue({title:e==="es"?"Error de validación":"Validation error",description:_e.errors.join(`
`),variant:"destructive"});return}D(_e.base64),I(Be=>({...Be,logo:_e.base64})),ue({title:e==="es"?"Logo cargado":"Logo uploaded",description:e==="es"?`${_e.metadata.originalDimensions} → ${_e.metadata.finalDimensions}`:`${_e.metadata.originalDimensions} → ${_e.metadata.finalDimensions}`})}catch(_e){console.error("Error processing logo:",_e),ue({title:e==="es"?"Error al procesar imagen":"Error processing image",description:_e.message,variant:"destructive"})}},ha=()=>{d({...u,...N}),document.title=N.companyName,ue({title:t("settings.saveSuccess"),description:e==="es"?"Personalización guardada. Recarga la página para ver todos los cambios.":"Customization saved. Reload the page to see all changes."})},Xn=async()=>{Q(!0);try{const{data:k,error:V}=await Tw();if(V)throw V;E(k||[])}catch(k){console.error("Error loading carousel slides:",k),ue({title:"Error al cargar diapositivas",description:k.message,variant:"destructive"})}finally{Q(!1)}},ma=async()=>{try{const{data:k,error:V}=await BT({title_es:"",title_en:"",subtitle_es:"",subtitle_en:"",image_url:"",link_url:"",is_active:!1});if(V)throw V;await Xn(),ue({title:e==="es"?"Diapositiva creada":"Slide created",description:e==="es"?"Nueva diapositiva agregada exitosamente":"New slide added successfully"})}catch(k){console.error("Error creating slide:",k),ue({title:"Error",description:k.message,variant:"destructive"})}},wr=async(k,V)=>{try{ve(k),le(null);const{error:_e}=await xv(k,V);if(_e)throw _e;E(Be=>Be.map(Ke=>Ke.id===k?{...Ke,...V}:Ke)),ve(null),le(k),setTimeout(()=>le(null),1500)}catch(_e){console.error("Error updating slide:",_e),ve(null),ue({title:"Error al actualizar",description:_e.message,variant:"destructive"})}},mn=(k,V,_e)=>{E(Ke=>Ke.map(Ze=>Ze.id===k?{...Ze,[V]:_e}:Ze)),xe[k]&&clearTimeout(xe[k]);const Be=setTimeout(()=>{wr(k,{[V]:_e})},800);Ae(Ke=>({...Ke,[k]:Be}))},Zn=async k=>{if(confirm(e==="es"?"¿Eliminar esta diapositiva?":"Delete this slide?"))try{const{error:V}=await VT(k);if(V)throw V;await Xn(),ie(_e=>{const Be={..._e};return delete Be[k],Be}),ue({title:e==="es"?"Diapositiva eliminada":"Slide deleted",description:e==="es"?"La diapositiva fue eliminada exitosamente":"Slide was deleted successfully"})}catch(V){console.error("Error deleting slide:",V),ue({title:"Error",description:V.message,variant:"destructive"})}},kc=async(k,V)=>{try{ve(k),le(null);const{error:_e}=await xv(k,{display_order:parseInt(V)});if(_e)throw _e;E(Be=>Be.map(Ke=>Ke.id===k?{...Ke,display_order:parseInt(V)}:Ke).sort((Ke,Ze)=>(Ke.display_order??0)-(Ze.display_order??0))),ve(null),le(k),setTimeout(()=>le(null),1500)}catch(_e){console.error("Error updating slide order:",_e),ve(null),ue({title:"Error",description:_e.message,variant:"destructive"})}},es=async(k,V)=>{const _e=V.target.files?.[0];if(_e)try{const Be=await Jo(_e,"carousel");if(!Be.success){ue({title:"Error de validación",description:Be.errors.join(`
`),variant:"destructive"});return}await wr(k,{image_url:Be.base64}),ie(Ke=>({...Ke,[k]:Be.base64})),ue({title:"Imagen optimizada",description:`${Be.metadata.originalDimensions} → ${Be.metadata.finalDimensions} (${Be.metadata.compression} compresión)`})}catch(Be){console.error("Error processing slide image:",Be),ue({title:"Error al procesar imagen",description:Be.message,variant:"destructive"})}},Ls=[{id:"financiero",label:e==="es"?"Financiero":"Financial",icon:qn,color:"#2563eb"},{id:"envios",label:e==="es"?"Envíos":"Shipping",icon:Hy,color:"#f59e0b"},{id:"remesas",label:e==="es"?"Remesas":"Remittances",icon:zy,color:"#06b6d4"},{id:"visual",label:"Visual",icon:Od,color:"#9333ea"},{id:"contenido",label:e==="es"?"Contenido":"Content",icon:qy,color:"#10b981"}];return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(u),children:t("settings.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t("settings.subtitle")})]}),a.jsx("div",{className:"flex gap-2 mb-8 border-b pb-2",children:Ls.map(k=>a.jsxs("button",{onClick:()=>w(k.id),className:`flex items-center gap-2 px-6 py-3 rounded-t-lg font-medium transition-all ${v===k.id?"bg-white shadow-md border-b-2":"bg-gray-50 hover:bg-gray-100 text-gray-600"}`,style:v===k.id?{borderBottomColor:k.color,color:k.color}:{},children:[a.jsx(k.icon,{className:"h-5 w-5"}),k.label]},k.id))}),a.jsxs("div",{className:"space-y-12",children:[v==="financiero"&&a.jsxs(a.Fragment,{children:[a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(qn,{className:"mr-3 text-blue-600"}),t("settings.financial.title")]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("input",{type:"number",value:C.usdToLocal,onChange:k=>j({...C,usdToLocal:parseFloat(k.target.value)}),placeholder:t("settings.financial.usdToLocal"),className:"input-style"}),a.jsx("input",{type:"number",value:C.productProfit,onChange:k=>j({...C,productProfit:parseFloat(k.target.value)}),placeholder:t("settings.financial.productProfit"),className:"input-style"}),a.jsx("input",{type:"number",value:C.comboProfit,onChange:k=>j({...C,comboProfit:parseFloat(k.target.value)}),placeholder:t("settings.financial.comboProfit"),className:"input-style"}),a.jsx("input",{type:"number",value:C.remittanceProfit,onChange:k=>j({...C,remittanceProfit:parseFloat(k.target.value)}),placeholder:t("settings.financial.remittanceProfit"),className:"input-style"})]}),a.jsxs("div",{className:"border-t pt-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:e==="es"?"Configuración de Envío":"Shipping Configuration"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Tipo de Envío":"Shipping Type"}),a.jsxs("select",{value:C.shippingType||"undetermined",onChange:k=>j({...C,shippingType:k.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"free",children:e==="es"?"Gratis":"Free"}),a.jsx("option",{value:"fixed",children:e==="es"?"Tarifa Fija":"Fixed Rate"}),a.jsx("option",{value:"undetermined",children:e==="es"?"Por Determinar (según ubicación)":"To Be Determined (based on location)"}),a.jsx("option",{value:"calculated",children:e==="es"?"Calculado (con umbral gratis)":"Calculated (with free threshold)"})]})]}),C.shippingType==="fixed"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Costo Fijo de Envío ($)":"Fixed Shipping Cost ($)"}),a.jsx("input",{type:"number",step:"0.01",value:C.shippingFixedAmount||0,onChange:k=>j({...C,shippingFixedAmount:parseFloat(k.target.value)}),placeholder:"0.00",className:"input-style w-full"})]}),(C.shippingType==="calculated"||C.shippingType==="undetermined")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Umbral para Envío Gratis ($)":"Free Shipping Threshold ($)"}),a.jsx("input",{type:"number",step:"0.01",value:C.shippingFreeThreshold||100,onChange:k=>j({...C,shippingFreeThreshold:parseFloat(k.target.value)}),placeholder:"100.00",className:"input-style w-full"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Pedidos superiores a este monto tendrán envío gratis":"Orders above this amount will have free shipping"})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gray-700",children:[C.shippingType==="free"&&(e==="es"?"✓ Envío gratis: No se cobrará envío en ningún pedido":"✓ Free shipping: No shipping charge on any order"),C.shippingType==="fixed"&&(e==="es"?"✓ Tarifa fija: Se cobrará el mismo monto de envío en todos los pedidos":"✓ Fixed rate: Same shipping amount will be charged on all orders"),C.shippingType==="undetermined"&&(e==="es"?'⚠ Por determinar: El costo de envío se mostrará como "Por determinar" y se calculará según la ubicación del destinatario':'⚠ To be determined: Shipping cost will show as "To be determined" and will be calculated based on recipient location'),C.shippingType==="calculated"&&(e==="es"?"⚠ Calculado: Envío gratis si el pedido supera el umbral, de lo contrario se determinará según ubicación":"⚠ Calculated: Free shipping if order exceeds threshold, otherwise determined by location")]})})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:t("settings.financial.currencies")}),a.jsxs(ye,{onClick:Ir,disabled:B,variant:"outline",size:"sm",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),B?e==="es"?"Cargando...":"Loading...":e==="es"?"Cargar Tasas Oficiales":"Load Official Rates"]})]}),se&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:[a.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:e==="es"?"Tasas Oficiales (Referencia)":"Official Rates (Reference)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-sm",children:Object.entries(se).map(([k,V])=>a.jsxs("div",{className:"bg-white p-2 rounded flex justify-between",children:[a.jsxs("span",{className:"font-bold",children:[k,":"]}),a.jsx("span",{className:"font-mono",children:Number(V).toFixed(4)})]},k))}),a.jsx("p",{className:"text-xs text-gray-600 mt-2",children:e==="es"?"Tasas de referencia. Configure las tasas de cambio en la sección de Exchange Rates.":"Reference rates. Configure exchange rates in the Exchange Rates section."})]}),a.jsx("div",{className:"space-y-2 mb-6",children:H.map(k=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"font-bold w-16",children:k.code}),a.jsx("span",{className:"flex-1",children:e==="es"?k.name_es:k.name_en}),a.jsx("span",{className:"w-12 text-center",children:k.symbol}),k.is_base&&a.jsx("span",{className:"text-xs text-white px-2 py-1 rounded font-semibold",style:{background:u.useGradient?`linear-gradient(to right, ${u.primaryColor}, ${u.secondaryColor})`:u.primaryColor},children:"Base"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ye,{variant:"outline",size:"icon",onClick:()=>ca(k),children:a.jsx(Fl,{className:"h-4 w-4"})}),a.jsx(ye,{variant:"destructive",size:"icon",onClick:()=>Nc(k.id),children:a.jsx(Fo,{className:"h-4 w-4"})})]})]},k.id))}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:U?e==="es"?"Editar Moneda":"Edit Currency":e==="es"?"Nueva Moneda":"New Currency"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.code")}),a.jsx("input",{value:J.code,onChange:k=>fe({...J,code:k.target.value.toUpperCase()}),placeholder:"USD",className:"input-style w-full",maxLength:3,disabled:U!==null})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.nameES")}),a.jsx("input",{value:J.name_es,onChange:k=>fe({...J,name_es:k.target.value}),placeholder:"Dólar",className:"input-style w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.nameEN")}),a.jsx("input",{value:J.name_en,onChange:k=>fe({...J,name_en:k.target.value}),placeholder:"Dollar",className:"input-style w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.symbol")}),a.jsx("input",{value:J.symbol,onChange:k=>fe({...J,symbol:k.target.value}),placeholder:"$",className:"input-style w-full",maxLength:3})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:J.is_base,onChange:k=>fe({...J,is_base:k.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Moneda Base":"Base Currency"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e==="es"?'La moneda base se usa como referencia. Configure las tasas de cambio en la sección "Tasas de Cambio".':'The base currency is used as reference. Configure exchange rates in the "Exchange Rates" section.'})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{onClick:la,className:"flex-1",style:ht(u),children:U?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"h-4 w-4 mr-2"}),t("settings.financial.updateCurrency")]}):a.jsxs(a.Fragment,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),t("settings.financial.addCurrency")]})}),U&&a.jsx(ye,{variant:"outline",onClick:Li,children:e==="es"?"Cancelar":"Cancel"})]})]})]}),a.jsx("div",{className:"mt-6 text-right",children:a.jsxs(ye,{onClick:Sc,style:ht(u),children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),t("settings.financial.save")]})})]}),a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-effect p-6 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold",style:et(u),children:e==="es"?"Tasas de Cambio":"Exchange Rates"}),a.jsxs(ye,{onClick:()=>tt(!Mt),style:ht(u),children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),e==="es"?"Nueva Tasa":"New Rate"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:e==="es"?"Configure las tasas de cambio entre diferentes monedas. Las tasas se usan para convertir precios y totales.":"Configure exchange rates between different currencies. Rates are used to convert prices and totals."}),Mt&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:e==="es"?"Nueva Tasa de Cambio":"New Exchange Rate"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Desde Moneda":"From Currency"}),a.jsxs("select",{value:Ge.fromCurrencyId,onChange:k=>Ut({...Ge,fromCurrencyId:k.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar...":"Select..."}),H.map(k=>a.jsxs("option",{value:k.id,children:[k.code," - ",e==="es"?k.name_es:k.name_en]},k.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Hacia Moneda":"To Currency"}),a.jsxs("select",{value:Ge.toCurrencyId,onChange:k=>Ut({...Ge,toCurrencyId:k.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar...":"Select..."}),H.map(k=>a.jsxs("option",{value:k.id,children:[k.code," - ",e==="es"?k.name_es:k.name_en]},k.id))]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium",children:e==="es"?"Tasa":"Rate"}),se&&Ge.toCurrencyId&&(()=>{const k=H.find(_e=>_e.id===Ge.toCurrencyId),V=H.find(_e=>_e.id===Ge.fromCurrencyId);return k&&V&&se[k.code]?a.jsxs("span",{className:"text-xs text-blue-600",children:["Ref: ",se[k.code].toFixed(6)]}):null})()]}),a.jsx("input",{type:"number",step:"0.000001",value:Ge.rate,onChange:k=>Ut({...Ge,rate:k.target.value}),placeholder:"1.0",className:"input-style w-full"}),se&&Ge.toCurrencyId&&(()=>{const k=H.find(V=>V.id===Ge.toCurrencyId);return k&&se[k.code]?a.jsx("button",{type:"button",onClick:()=>Ut({...Ge,rate:se[k.code].toString()}),className:"text-xs text-blue-600 hover:text-blue-800 underline mt-1",children:e==="es"?"Usar tasa oficial":"Use official rate"}):null})()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Fecha Efectiva":"Effective Date"}),a.jsx("input",{type:"date",value:Ge.effectiveDate,onChange:k=>Ut({...Ge,effectiveDate:k.target.value}),className:"input-style w-full"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ye,{onClick:ua,className:"flex-1",style:ht(u),children:[a.jsx(Un,{className:"h-4 w-4 mr-2"}),e==="es"?"Guardar Tasa":"Save Rate"]}),a.jsx(ye,{variant:"outline",onClick:()=>{tt(!1),Ut({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]})},children:e==="es"?"Cancelar":"Cancel"})]})]}),Nt?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):Ve.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:e==="es"?"No hay tasas de cambio configuradas. Cree una nueva tasa usando el botón de arriba.":"No exchange rates configured. Create a new rate using the button above."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Desde":"From"}),a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Hacia":"To"}),a.jsx("th",{className:"text-right py-2 px-3",children:e==="es"?"Tasa":"Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Fecha":"Date"}),a.jsx("th",{className:"text-center py-2 px-3",children:e==="es"?"Acciones":"Actions"})]})}),a.jsx("tbody",{children:Ve.map(k=>a.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"py-2 px-3",children:[a.jsx("span",{className:"font-bold",children:k.from_currency.code}),a.jsx("span",{className:"text-xs text-gray-600 ml-1",children:e==="es"?k.from_currency.name_es:k.from_currency.name_en})]}),a.jsxs("td",{className:"py-2 px-3",children:[a.jsx("span",{className:"font-bold",children:k.to_currency.code}),a.jsx("span",{className:"text-xs text-gray-600 ml-1",children:e==="es"?k.to_currency.name_es:k.to_currency.name_en})]}),a.jsx("td",{className:"text-right py-2 px-3 font-mono",children:Number(k.rate).toFixed(6)}),a.jsx("td",{className:"py-2 px-3 text-sm text-gray-600",children:new Date(k.effective_date).toLocaleDateString(e==="es"?"es-ES":"en-US")}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(ye,{variant:"destructive",size:"icon",onClick:()=>da(k.id),children:a.jsx(Fo,{className:"h-4 w-4"})})})})]},k.id))})]})})]})]}),v==="visual"&&a.jsx(a.Fragment,{children:a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(Od,{className:"mr-3 text-purple-600"}),t("settings.visual.title")]}),a.jsxs("div",{className:"mb-8 pb-8 border-b",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(Od,{className:"mr-3 text-indigo-600"}),e==="es"?"Personalización de Apariencia":"Appearance Customization"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e==="es"?"Logo de la Empresa":"Company Logo"}),M&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("div",{className:"relative w-40 h-40 rounded-lg overflow-hidden border-2 border-gray-300 bg-white p-2 flex items-center justify-center",children:a.jsx("img",{src:M,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})})}),a.jsx("input",{type:"file",accept:"image/png,image/svg+xml,image/webp",onChange:fa,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: PNG o SVG con fondo transparente, 200x200px, máx 2MB":"Recommended: PNG or SVG with transparent background, 200x200px, max 2MB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre de la Empresa":"Company Name"}),a.jsx("input",{type:"text",value:N.companyName,onChange:k=>I(V=>({...V,companyName:k.target.value})),placeholder:"PapuEnvíos",className:"w-full input-style"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Se mostrará en el encabezado y en el título de la página":"Will be displayed in the header and page title"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color Primario":"Primary Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.primaryColor,onChange:k=>I(V=>({...V,primaryColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.primaryColor,onChange:k=>I(V=>({...V,primaryColor:k.target.value})),placeholder:"#2563eb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color Secundario":"Secondary Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.secondaryColor,onChange:k=>I(V=>({...V,secondaryColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.secondaryColor,onChange:k=>I(V=>({...V,secondaryColor:k.target.value})),placeholder:"#9333ea",className:"flex-1 input-style font-mono text-sm"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N.useGradient,onChange:k=>I(V=>({...V,useGradient:k.target.checked})),className:"rounded w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Usar gradiente en elementos de marca":"Use gradient in brand elements"})]})}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores del Encabezado":"Header Colors"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Fondo":"Background Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.headerBgColor,onChange:k=>I(V=>({...V,headerBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.headerBgColor,onChange:k=>I(V=>({...V,headerBgColor:k.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Texto":"Text Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.headerTextColor,onChange:k=>I(V=>({...V,headerTextColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.headerTextColor,onChange:k=>I(V=>({...V,headerTextColor:k.target.value})),placeholder:"#1f2937",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e==="es"?"Títulos y Encabezados":"Headings and Titles"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e==="es"?"Colores para títulos principales de páginas y secciones":"Colors for main page and section titles"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Títulos":"Heading Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.headingColor,onChange:k=>I(V=>({...V,headingColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.headingColor,onChange:k=>I(V=>({...V,headingColor:k.target.value})),placeholder:"#1f2937",className:"flex-1 input-style font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Color sólido cuando el gradiente está desactivado":"Solid color when gradient is disabled"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N.useHeadingGradient,onChange:k=>I(V=>({...V,useHeadingGradient:k.target.checked})),className:"rounded w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Usar gradiente de marca en títulos":"Use brand gradient in headings"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Aplica el gradiente de colores primario y secundario a los títulos principales":"Applies the primary and secondary color gradient to main headings"})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores de Botones":"Button Colors"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo del Botón":"Button Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.buttonBgColor,onChange:k=>I(V=>({...V,buttonBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.buttonBgColor,onChange:k=>I(V=>({...V,buttonBgColor:k.target.value})),placeholder:"#2563eb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Texto del Botón":"Button Text"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.buttonTextColor,onChange:k=>I(V=>({...V,buttonTextColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.buttonTextColor,onChange:k=>I(V=>({...V,buttonTextColor:k.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Hover del Botón":"Button Hover"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.buttonHoverBgColor,onChange:k=>I(V=>({...V,buttonHoverBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.buttonHoverBgColor,onChange:k=>I(V=>({...V,buttonHoverBgColor:k.target.value})),placeholder:"#1d4ed8",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e==="es"?"Botones Destructivos (Eliminar)":"Destructive Buttons (Delete)"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e==="es"?"Colores para acciones peligrosas como eliminar elementos":"Colors for dangerous actions like deleting items"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo":"Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.destructiveBgColor,onChange:k=>I(V=>({...V,destructiveBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.destructiveBgColor,onChange:k=>I(V=>({...V,destructiveBgColor:k.target.value})),placeholder:"#dc2626",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Texto":"Text"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.destructiveTextColor,onChange:k=>I(V=>({...V,destructiveTextColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.destructiveTextColor,onChange:k=>I(V=>({...V,destructiveTextColor:k.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hover"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.destructiveHoverBgColor,onChange:k=>I(V=>({...V,destructiveHoverBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.destructiveHoverBgColor,onChange:k=>I(V=>({...V,destructiveHoverBgColor:k.target.value})),placeholder:"#b91c1c",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores Adicionales":"Additional Colors"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Acento":"Accent Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.accentColor,onChange:k=>I(V=>({...V,accentColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.accentColor,onChange:k=>I(V=>({...V,accentColor:k.target.value})),placeholder:"#9333ea",className:"flex-1 input-style font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Para badges, enlaces y elementos destacados":"For badges, links and highlighted elements"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo de Página":"Page Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.pageBgColor,onChange:k=>I(V=>({...V,pageBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.pageBgColor,onChange:k=>I(V=>({...V,pageBgColor:k.target.value})),placeholder:"#f9fafb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo de Tarjetas":"Card Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:N.cardBgColor,onChange:k=>I(V=>({...V,cardBgColor:k.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:N.cardBgColor,onChange:k=>I(V=>({...V,cardBgColor:k.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"mb-4 p-4 rounded-lg shadow-md",style:{backgroundColor:N.headerBgColor},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[M?a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx("img",{src:M,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}):a.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center",style:{background:N.useGradient?`linear-gradient(to right, ${N.primaryColor}, ${N.secondaryColor})`:N.primaryColor},children:a.jsx(Ar,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"text-lg font-bold",style:{backgroundImage:N.useGradient?`linear-gradient(to right, ${N.primaryColor}, ${N.secondaryColor})`:`linear-gradient(to right, ${N.primaryColor}, ${N.primaryColor})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:N.companyName||"PapuEnvíos"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm",style:{color:N.headerTextColor},children:e==="es"?"Menú":"Menu"})})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:N.buttonBgColor,color:N.buttonTextColor},onMouseEnter:k=>k.currentTarget.style.backgroundColor=N.buttonHoverBgColor,onMouseLeave:k=>k.currentTarget.style.backgroundColor=N.buttonBgColor,children:e==="es"?"Botón Estándar":"Standard Button"}),a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold text-white",style:{background:N.useGradient?`linear-gradient(to right, ${N.primaryColor}, ${N.secondaryColor})`:N.primaryColor},children:e==="es"?"Botón con Gradiente":"Gradient Button"}),a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:N.destructiveBgColor,color:N.destructiveTextColor},onMouseEnter:k=>k.currentTarget.style.backgroundColor=N.destructiveHoverBgColor,onMouseLeave:k=>k.currentTarget.style.backgroundColor=N.destructiveBgColor,children:e==="es"?"Botón Eliminar":"Delete Button"})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap items-center",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:`${N.accentColor}20`,color:N.accentColor},children:e==="es"?"Badge de Acento":"Accent Badge"}),a.jsx("span",{className:"font-semibold bg-clip-text text-transparent",style:{backgroundImage:N.useGradient?`linear-gradient(to right, ${N.primaryColor}, ${N.secondaryColor})`:`linear-gradient(to right, ${N.primaryColor}, ${N.primaryColor})`},children:e==="es"?"Texto con Gradiente":"Gradient Text"})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs(ye,{onClick:ha,style:ht(u),children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),e==="es"?"Guardar Personalización":"Save Customization"]})})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:t("settings.visual.slides")}),a.jsxs(ye,{onClick:ma,style:ht(u),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),t("settings.visual.addSlide")]})]}),a.jsx("div",{className:"space-y-4",children:L?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:e==="es"?"Cargando diapositivas...":"Loading slides..."})}):ne.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:e==="es"?"No hay diapositivas. Agrega una para comenzar.":"No slides. Add one to get started."})}):ne.map(k=>a.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[oe===k.id&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600 mb-2 bg-blue-50 p-2 rounded",children:[a.jsx(Fn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"font-medium",children:e==="es"?"Guardando...":"Saving..."})]}),Ce===k.id&&oe!==k.id&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-2 bg-green-50 p-2 rounded",children:[a.jsx(wf,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:e==="es"?"Guardado ✓":"Saved ✓"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.order")}),a.jsx("input",{type:"number",value:k.display_order??0,onChange:V=>kc(k.id,V.target.value),className:"w-full input-style",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.linkUrl")}),a.jsx("input",{type:"url",value:k.link_url||"",onChange:V=>wr(k.id,{link_url:V.target.value}),placeholder:"https://...",className:"w-full input-style"})]})]}),(k.image_url||q[k.id])&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"relative w-full aspect-[16/9] max-w-2xl rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:q[k.id]||k.image_url,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.image")}),a.jsx("input",{type:"url",value:k.image_url||"",onChange:V=>wr(k.id,{image_url:V.target.value}),placeholder:"https://... or upload below",className:"w-full input-style mb-2"}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:V=>es(k.id,V),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: 1920x1080px (16:9), máx 5MB":"Recommended: 1920x1080px (16:9), max 5MB"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.mainText")," (ES)"]}),a.jsx("input",{type:"text",value:k.title_es||"",onChange:V=>mn(k.id,"title_es",V.target.value),placeholder:"Título principal en español",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.mainText")," (EN)"]}),a.jsx("input",{type:"text",value:k.title_en||"",onChange:V=>mn(k.id,"title_en",V.target.value),placeholder:"Main title in English",className:"w-full input-style"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.secondaryText")," (ES)"]}),a.jsx("input",{type:"text",value:k.subtitle_es||"",onChange:V=>mn(k.id,"subtitle_es",V.target.value),placeholder:"Subtítulo en español",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.secondaryText")," (EN)"]}),a.jsx("input",{type:"text",value:k.subtitle_en||"",onChange:V=>mn(k.id,"subtitle_en",V.target.value),placeholder:"Subtitle in English",className:"w-full input-style"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`slide-active-${k.id}`,checked:k.is_active??!0,onChange:V=>wr(k.id,{is_active:V.target.checked})}),a.jsx("label",{htmlFor:`slide-active-${k.id}`,className:"text-sm font-medium",children:t("settings.visual.active")})]}),a.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>Zn(k.id),children:[a.jsx(Fo,{className:"h-4 w-4 mr-2"}),e==="es"?"Eliminar":"Delete"]})]})]},k.id))})]})]})}),v==="envios"&&a.jsx(a.Fragment,{children:a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(Hy,{className:"mr-3",style:{color:u.primaryColor||"#2563eb"}}),e==="es"?"Zonas de Envío":"Shipping Zones"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e==="es"?"Configura el costo de envío por provincia. Las provincias con costo $0 no aparecerán en el selector de envío.":"Configure shipping cost by province. Provinces with $0 cost will not appear in the shipping selector."}),Le?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Fn,{className:"h-6 w-6 animate-spin",style:{color:u.primaryColor}})}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Y.map(k=>a.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:k.is_active?u.primaryColor||"#2563eb":"#e5e7eb",backgroundColor:k.is_active?`${u.primaryColor||"#2563eb"}08`:"transparent"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q2,{className:"h-4 w-4",style:{color:u.primaryColor}}),a.jsx("span",{className:"font-medium",children:k.province_name})]}),A===k.id&&a.jsx(Fn,{className:"h-4 w-4 animate-spin",style:{color:u.primaryColor}})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:k.free_shipping||!1,onChange:V=>Ms(k.id,{...k,free_shipping:V.target.checked,shipping_cost:V.target.checked?0:k.shipping_cost,is_active:!0}),className:"rounded"}),a.jsx("span",{className:"text-sm",children:e==="es"?"Envío Gratis":"Free Shipping"})]}),!k.free_shipping&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:e==="es"?"Costo de envío ($)":"Shipping cost ($)"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:k.shipping_cost||0,onChange:V=>{const _e=parseFloat(V.target.value)||0;K(Be=>Be.map(Ke=>Ke.id===k.id?{...Ke,shipping_cost:_e}:Ke))},onBlur:V=>{const _e=parseFloat(V.target.value)||0;_e!==k.shipping_cost&&Ms(k.id,{...k,shipping_cost:_e,is_active:_e>0})},className:"input-style w-full text-sm",placeholder:"0.00"})]}),a.jsx("div",{className:"flex items-center gap-2 text-xs",children:k.free_shipping?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${u.successColor||"#10b981"}20`,color:u.successColor||"#10b981"},children:e==="es"?"✓ Gratis":"✓ Free"}):k.shipping_cost>0?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${u.primaryColor||"#2563eb"}20`,color:u.primaryColor||"#2563eb"},children:e==="es"?"✓ Activo":"✓ Active"}):a.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-500",children:e==="es"?"No disponible":"Not available"})})]})]},k.id))})]})}),v==="remesas"&&a.jsx(a.Fragment,{children:a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(zy,{className:"mr-3",style:{color:u.primaryColor||"#2563eb"}}),e==="es"?"Configuración de Remesas":"Remittance Configuration"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e==="es"?"Configure las monedas y métodos de pago disponibles para las remesas.":"Configure available currencies and payment methods for remittances."}),Oe?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Fn,{className:"animate-spin h-6 w-6 text-gray-400"})}):a.jsx("div",{className:"space-y-6",children:Z.map(k=>a.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:u.borderColor||"#e5e7eb"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:u.useGradient?`linear-gradient(to right, ${u.primaryColor||"#2563eb"}, ${u.secondaryColor||"#9333ea"})`:u.primaryColor||"#2563eb"},children:a.jsx("span",{className:"text-white font-bold text-sm",children:k.currency})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:k.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[k.currency==="MN"&&(e==="es"?"Moneda Nacional":"National Currency"),k.currency==="USD"&&(e==="es"?"Dólar Estadounidense":"US Dollar"),k.currency==="MLC"&&(e==="es"?"Moneda Libremente Convertible":"Freely Convertible Currency")]})]})]}),X===k.id&&a.jsx(Fn,{className:"animate-spin h-5 w-5 text-gray-400"})]}),a.jsxs("label",{className:"flex items-center gap-2 mb-4 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:k.enabled!==!1,onChange:V=>Qr(k.id,{enabled:V.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Habilitar esta moneda":"Enable this currency"})]}),k.enabled!==!1&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-3",children:e==="es"?"Métodos de Pago Disponibles:":"Available Payment Methods:"}),a.jsx("div",{className:"space-y-2",children:k.paymentMethods?.map(V=>a.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:u.borderColor||"#e5e7eb"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:V.enabled!==!1,onChange:()=>hn(k.id,V.id),className:"rounded"}),a.jsx(U2,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium",children:V.name})]}),V.enabled!==!1?a.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:`${u.successColor||"#10b981"}20`,color:u.successColor||"#10b981"},children:e==="es"?"✓ Activo":"✓ Active"}):a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-500",children:e==="es"?"Desactivado":"Disabled"})]},V.id))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",style:{borderColor:u.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:e==="es"?"Métodos activos:":"Active methods:"}),a.jsxs("span",{className:"font-semibold",children:[k.paymentMethods?.filter(V=>V.enabled!==!1).length||0," / ",k.paymentMethods?.length||0]})]})})]},k.id))})]})}),v==="contenido"&&a.jsx(a.Fragment,{children:a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(qy,{className:"mr-3 text-green-600"}),t("settings.notifications.title")]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("settings.notifications.whatsapp")}),a.jsx("input",{type:"tel",value:_.whatsapp,onChange:k=>O({..._,whatsapp:k.target.value}),placeholder:"+1234567890",className:"w-full input-style"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Número de WhatsApp para soporte individual":"WhatsApp number for individual support"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Grupo de WhatsApp":"WhatsApp Group"}),a.jsx("input",{type:"text",value:_.whatsappGroup,onChange:k=>O({..._,whatsappGroup:k.target.value}),placeholder:"https://chat.whatsapp.com/xxxxx",className:"w-full input-style"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"URL del grupo de WhatsApp para notificaciones de pedidos":"WhatsApp group URL for order notifications"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("settings.notifications.adminEmail")}),a.jsx("input",{type:"email",value:_.adminEmail,onChange:k=>O({..._,adminEmail:k.target.value}),placeholder:"admin@example.com",className:"w-full input-style"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Email para recibir notificaciones de nuevos pedidos":"Email to receive new order notifications"})]})]}),a.jsx("div",{className:"mt-6 text-right",children:a.jsxs(ye,{onClick:$i,style:ht(u),children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),t("settings.notifications.save")]})})]})})]})]})})},H4=t=>{if(!t)return"";let e=t.replace(/\D/g,"");return e.startsWith("1")?e=e.substring(1):e.startsWith("53")||e.startsWith("0")&&(e=e.substring(1)),e},Vf=(t,e="")=>{const r=H4(t),s=encodeURIComponent(e);return`https://wa.me/${r}?text=${s}`},G4=({onNavigate:t})=>{const{t:e,language:r}=er(),{cart:s,updateCartQuantity:o,removeFromCart:l,clearCart:u,financialSettings:d,zelleAccounts:h,visualSettings:m,businessInfo:p,notificationSettings:y}=Wt(),{isAuthenticated:v,user:w}=lr(),[C,j]=b.useState("cart"),[_,O]=b.useState({fullName:"",phone:"",province:"",municipality:"",address:""}),[T,P]=b.useState(null),[N,I]=b.useState(null),[M,D]=b.useState(!1),[H,te]=b.useState(!1),[U,me]=b.useState([]),[se,re]=b.useState([]),[B,we]=b.useState(0),[J,fe]=b.useState("USD"),[q,ie]=b.useState([]),[ne,E]=b.useState(null),[L,Q]=b.useState(null),[oe,ve]=b.useState(null),Ce=X=>{if(X.calculated_price_usd)return parseFloat(X.calculated_price_usd);if(X.products){const be=parseFloat(X.baseTotalPrice||0),Ve=parseFloat(X.profitMargin||d.comboProfit||35)/100;return be*(1+Ve)}else{const be=parseFloat(X.base_price||X.basePrice||0),Ve=parseFloat(d.productProfit||40)/100;return be*(1+Ve)}},le=s.reduce((X,be)=>X+Ce(be)*be.quantity,0);b.useEffect(()=>{xe(),Ae()},[]),b.useEffect(()=>{if(_.province){const X=z4(_.province);re(X),O(be=>({...be,municipality:""}))}else re([])},[_.province]),b.useEffect(()=>{_.province&&K(_.province)},[_.province,le]),b.useEffect(()=>{Y()},[J,le,B]);const xe=async()=>{try{const X=await L4();console.log("Shipping zones loaded:",X),X.success&&(me(X.zones||[]),console.log("Zones set:",X.zones?.length||0))}catch(X){console.error("Error loading shipping zones:",X)}},Ae=async()=>{try{const{data:X,error:be}=await _b();!be&&X&&ie(X)}catch(X){console.error("Error loading currencies:",X)}},Y=async()=>{if(J==="USD"){E(le),Q(B),ve(le+B);return}try{const{data:X,error:be}=await Lv(le,"USD",J),{data:Ve,error:Ye}=await Lv(B,"USD",J);!be&&!Ye?(E(X),Q(Ve),ve(X+Ve)):(E(le),Q(B),ve(le+B))}catch(X){console.error("Error converting currency:",X),E(le),Q(B),ve(le+B)}},K=async X=>{try{const be=await U4(X,le);be.success&&we(be.cost)}catch(be){console.error("Error calculating shipping:",be),we(0)}},Le=(le+B).toFixed(2),je=`PO-${Date.now()}`,A=h.find(X=>X.forProducts&&X.active),he=()=>{if(!v){ue({title:e("auth.loginRequired"),description:e("auth.loginToCheckout"),variant:"destructive"});return}j("recipient")},Z=()=>{j("payment")},Re=X=>{navigator.clipboard.writeText(X),ue({title:`${X} ${e("cart.payment.copy")}!`})},Oe=async X=>{const be=X.target.files?.[0];if(!be)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(be.type)){ue({title:r==="es"?"Tipo de archivo inválido":"Invalid file type",description:r==="es"?"Solo se permiten imágenes JPG, PNG o WebP":"Only JPG, PNG or WebP images are allowed",variant:"destructive"});return}if(be.size>5*1024*1024){ue({title:r==="es"?"Archivo muy grande":"File too large",description:r==="es"?"El tamaño máximo es 5MB":"Maximum size is 5MB",variant:"destructive"});return}D(!0);try{const Ye=await bb(be,"payment_proof");if(!Ye.success)throw new Error(Ye.error||"Error processing image");I(Ye.base64),P(Ye.blob),ue({title:r==="es"?"✅ Comprobante cargado":"✅ Proof uploaded",description:r==="es"?"La imagen se ha cargado correctamente":"Image uploaded successfully"})}catch(Ye){console.error("Error uploading payment proof:",Ye),ue({title:r==="es"?"Error al cargar":"Upload error",description:Ye.message,variant:"destructive"})}finally{D(!1)}},He=async()=>{if(!T){ue({title:r==="es"?"Comprobante requerido":"Proof required",description:r==="es"?"Por favor sube el comprobante de pago":"Please upload payment proof",variant:"destructive"});return}if(!w){ue({title:r==="es"?"Error de autenticación":"Authentication error",description:r==="es"?"Por favor inicia sesión para continuar":"Please log in to continue",variant:"destructive"});return}te(!0);try{const X=q.find(tt=>tt.code===J);if(!X)throw new Error("Currency not found");const be=U.find(tt=>tt.province_name===_.province);console.log("Creating order with:",{userId:w.id,currencyId:X.id,shippingZoneId:be?.id,zelleAccountId:h?.[0]?.id});const Ve=s.map(tt=>({itemType:tt.type||"product",itemId:tt.id,nameEs:tt.name_es||tt.name,nameEn:tt.name_en||tt.name,quantity:tt.quantity,unitPrice:Ce(tt),totalPrice:Ce(tt)*tt.quantity,inventoryId:tt.inventory_id||null})),Ye={userId:w.id,orderType:"product",subtotal:le,shippingCost:B,totalAmount:le+B,currencyId:X.id,recipientInfo:JSON.stringify(_),paymentMethod:"zelle",shippingZoneId:be?.id||null,zelleAccountId:null},Nt=await i4(Ye,Ve);if(!Nt.success)throw new Error(Nt.error||"Error creating order");const ut=Nt.order,Mt=await m4(T,ut.id);if(Mt.success||console.error("Error uploading payment proof:",Mt.error),p?.whatsapp||y?.whatsappGroup){const tt=le+B,Ge=`🔔 *${r==="es"?"Nuevo Pedido":"New Order"}*

${r==="es"?"Pedido":"Order"}: ${ut.order_number}
${r==="es"?"Cliente":"Customer"}: ${_.fullName}
Total: $${tt.toFixed(2)} ${J}
${r==="es"?"Provincia":"Province"}: ${_.province}

${r==="es"?"Comprobante de pago subido":"Payment proof uploaded"}`;if(p?.whatsapp){const Ut=Vf(p.whatsapp,Ge);window.open(Ut,"_blank","noopener,noreferrer")}y?.whatsappGroup&&setTimeout(()=>{window.open(y.whatsappGroup,"_blank","noopener,noreferrer")},1e3)}ue({title:r==="es"?"✅ Pedido confirmado":"✅ Order confirmed",description:r==="es"?`Tu pedido ${ut.order_number} ha sido creado. Recibirás una notificación cuando sea validado.`:`Your order ${ut.order_number} has been created. You'll receive a notification when it's validated.`}),u(),t("user-panel")}catch(X){console.error("Error confirming payment:",X),ue({title:r==="es"?"Error al procesar":"Processing error",description:X.message||(r==="es"?"No se pudo procesar tu pedido. Por favor intenta de nuevo.":"Could not process your order. Please try again."),variant:"destructive"})}finally{te(!1)}};return C==="recipient"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:et(m),children:r==="es"?"Datos de Entrega":"Delivery Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Nombre completo":"Full name"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",placeholder:r==="es"?"Ingrese el nombre completo del destinatario":"Enter recipient full name",value:_.fullName,onChange:X=>O({..._,fullName:X.target.value}),className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Teléfono":"Phone"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",placeholder:r==="es"?"Ej: +53 5 234 5678":"Ex: +53 5 234 5678",value:_.phone,onChange:X=>O({..._,phone:X.target.value}),className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Provincia":"Province"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:_.province,onChange:X=>O({..._,province:X.target.value}),className:"input-style w-full",required:!0,children:[a.jsx("option",{value:"",children:r==="es"?"Seleccione una provincia":"Select a province"}),U.map(X=>a.jsxs("option",{value:X.province_name,children:[X.province_name,X.free_shipping||parseFloat(X.shipping_cost)===0?` - ${r==="es"?"Envío Gratis":"Free Shipping"}`:` - $${parseFloat(X.shipping_cost).toFixed(2)}`]},X.id))]})]}),_.province&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Municipio":"Municipality"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:_.municipality,onChange:X=>O({..._,municipality:X.target.value}),className:"input-style w-full",required:!0,children:[a.jsx("option",{value:"",children:r==="es"?"Seleccione un municipio":"Select a municipality"}),se.map(X=>a.jsx("option",{value:X,children:X},X))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Dirección completa":"Full address"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{placeholder:r==="es"?"Calle, número, entre calles, edificio, apartamento, etc.":"Street, number, between streets, building, apartment, etc.",value:_.address,onChange:X=>O({..._,address:X.target.value}),className:"input-style w-full min-h-[100px]",required:!0})]}),_.province&&a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:r==="es"?"Costo de envío":"Shipping cost"}),a.jsx("p",{className:"text-lg font-bold",style:{color:m.primaryColor},children:B===0?r==="es"?"¡Envío Gratis!":"Free Shipping!":`$${B.toFixed(2)}`})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(ye,{variant:"outline",onClick:()=>j("cart"),className:"flex-1",children:r==="es"?"Atrás":"Back"}),a.jsx(ye,{onClick:Z,style:ht(m),className:"flex-1",disabled:!_.fullName||!_.phone||!_.province||!_.municipality||!_.address,children:r==="es"?"Continuar al Pago":"Continue to Payment"})]})]})}):C==="payment"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:et(m),children:e("cart.payment.title")}),a.jsxs("div",{className:"p-4 rounded-lg mb-6",style:g4(m,"info"),children:[a.jsx("h2",{className:"font-semibold text-lg mb-2",children:e("cart.payment.instructionsTitle")}),a.jsx("p",{className:"text-sm",children:e("cart.payment.instructions")})]}),A?a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsx("h3",{className:"font-semibold",children:e("cart.payment.accountInfo")}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",A.email]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("settings.zelle.name"),":"]})," ",A.name]})]}):a.jsx("p",{className:"text-red-500",children:"No Zelle account available."}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{children:[e("cart.payment.purchaseId"),": ",a.jsx("strong",{className:"font-mono",children:je})]}),a.jsxs(ye,{onClick:()=>Re(je),variant:"outline",children:[a.jsx(Wy,{className:"mr-2 h-4 w-4"}),e("cart.payment.copy")]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{children:[e("cart.payment.amount"),": ",a.jsxs("strong",{className:"text-2xl",style:{color:m.successColor||"#10b981"},children:["$",Le]})]}),a.jsxs(ye,{onClick:()=>Re(Le),variant:"outline",children:[a.jsx(Wy,{className:"mr-2 h-4 w-4"}),e("cart.payment.copy")]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e("cart.payment.uploadProof")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),N?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2",style:{borderColor:m.successColor||"#10b981"},children:[a.jsx("img",{src:N,alt:"Payment proof",className:"w-full h-64 object-contain bg-gray-50"}),a.jsx("div",{className:"absolute top-2 right-2 p-2 rounded-full",style:{backgroundColor:m.successColor||"#10b981"},children:a.jsx(Ro,{className:"h-5 w-5 text-white"})})]}),a.jsxs(ye,{variant:"outline",onClick:()=>{P(null),I(null)},className:"w-full",children:[a.jsx(Gn,{className:"mr-2 h-4 w-4"}),r==="es"?"Cambiar imagen":"Change image"]})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:Oe,className:"hidden",disabled:M}),a.jsx("div",{className:"flex justify-center px-6 py-8 border-2 border-dashed rounded-lg hover:border-gray-400 transition-colors",style:{borderColor:m.borderColor||"#d1d5db"},children:a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx(tw,{className:"mx-auto h-12 w-12",style:{color:M?m.primaryColor:"#9ca3af"}}),a.jsx("div",{className:"text-sm",children:M?a.jsx("p",{className:"font-medium",style:{color:m.primaryColor},children:r==="es"?"Procesando imagen...":"Processing image..."}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-medium",style:{color:m.primaryColor},children:r==="es"?"Haz clic para subir":"Click to upload"}),a.jsx("p",{className:"text-gray-500",children:r==="es"?"JPG, PNG o WebP (máx. 5MB)":"JPG, PNG or WebP (max 5MB)"})]})})]})})]})]}),p?.whatsapp&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:r==="es"?"¿Tienes dudas sobre el pago? Contáctanos por WhatsApp":"Questions about payment? Contact us via WhatsApp"}),a.jsxs(ye,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-50",onClick:()=>{const X=r==="es"?`Hola! Tengo una consulta sobre mi pago. Total: ${q.find(be=>be.code===J)?.symbol||"$"}${oe!==null?oe.toFixed(2):(le+B).toFixed(2)} ${J}`:`Hello! I have a question about my payment. Total: ${q.find(be=>be.code===J)?.symbol||"$"}${oe!==null?oe.toFixed(2):(le+B).toFixed(2)} ${J}`;window.open(Vf(p.whatsapp,X),"_blank")},children:[a.jsx(_f,{className:"mr-2 h-5 w-5"}),r==="es"?"Contactar por WhatsApp":"Contact via WhatsApp"]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{variant:"outline",onClick:()=>j("recipient"),className:"flex-1",disabled:H,children:r==="es"?"Atrás":"Back"}),a.jsx(ye,{onClick:He,className:"flex-1",size:"lg",style:ht(m),disabled:!T||M||H,children:H?r==="es"?"Procesando...":"Processing...":e("cart.payment.confirm")})]})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsx(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(m),children:e("cart.title")})}),s.length===0?a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[a.jsx(Ho,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:e("cart.empty")}),a.jsx(ye,{onClick:()=>t("products"),style:ht(m),children:e("cart.browse")})]}):a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map(X=>{const be=Ce(X),Ve=be*X.quantity,Ye=r==="es"?X.name_es||X.name||"Producto":X.name_en||X.name||"Product",Nt=X.image_url||X.image||"https://images.unsplash.com/photo-1635865165118-917ed9e20936",ut=!!X.products,Mt=J==="USD"?1:ne!==null?ne/le:1,tt=be*Mt,Ge=Ve*Mt,Ut=q.find(Ir=>Ir.code===J)?.symbol||"$";return a.jsx(pe.div,{layout:!0,className:"glass-effect p-4 rounded-2xl",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{className:"w-24 h-24 rounded-lg object-cover flex-shrink-0",alt:Ye,src:Nt}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 mb-1",children:[Ye,ut&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"COMBO"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[r==="es"?"Precio unitario: ":"Unit price: ",a.jsxs("span",{className:"font-semibold",style:{color:m.accentColor||"#9333ea"},children:[Ut,tt.toFixed(2)," ",J]})]}),a.jsxs("p",{className:"text-base font-bold text-gray-900",children:["Subtotal: ",Ut,Ge.toFixed(2)," ",J]})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsx(ye,{size:"icon",variant:"outline",onClick:()=>o(X.id,X.quantity-1),className:"h-8 w-8",children:a.jsx(J2,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-8 text-center font-semibold",children:X.quantity}),a.jsx(ye,{size:"icon",variant:"outline",onClick:()=>o(X.id,X.quantity+1),className:"h-8 w-8",children:a.jsx(js,{className:"h-4 w-4"})})]}),a.jsx(ye,{size:"icon",variant:"ghost",onClick:()=>l(X.id),className:"flex-shrink-0",children:a.jsx(Gn,{className:"h-5 w-5 text-red-500"})})]})},X.id)})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-6 rounded-2xl space-y-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:e("cart.summary")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Moneda":"Currency"}),a.jsx("select",{value:J,onChange:X=>fe(X.target.value),className:"input-style w-full",children:q.length>0?q.map(X=>a.jsxs("option",{value:X.code,children:[X.code," - ",r==="es"?X.name_es:X.name_en]},X.code)):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"USD",children:"USD - Dólar Estadounidense"}),a.jsx("option",{value:"EUR",children:"EUR - Euro"}),a.jsx("option",{value:"CUP",children:"CUP - Peso Cubano"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:e("cart.subtotal")}),a.jsxs("span",{className:"font-semibold",children:[q.find(X=>X.code===J)?.symbol||"$",ne!==null?ne.toFixed(2):le.toFixed(2)," ",J]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:e("cart.shipping")}),a.jsx("span",{className:"text-sm font-semibold",children:(L!==null?L:B)===0?r==="es"?"Gratis":"Free":`${q.find(X=>X.code===J)?.symbol||"$"}${(L!==null?L:B).toFixed(2)} ${J}`})]}),a.jsx("div",{className:"border-t my-2"}),a.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[a.jsx("span",{children:e("cart.total")}),a.jsxs("span",{style:{color:m.primaryColor||"#2563eb"},children:[q.find(X=>X.code===J)?.symbol||"$",oe!==null?oe.toFixed(2):(le+B).toFixed(2)," ",J]})]})]}),a.jsx(ye,{onClick:he,className:"w-full",size:"lg",style:ht(m),children:e("cart.checkout")})]})})]})]})})},K4=({onNavigate:t})=>{const{t:e}=er(),{login:r,signInWithGoogle:s,userRole:o}=lr(),{visualSettings:l}=Wt(),[u,d]=b.useState(""),[h,m]=b.useState(""),p=async()=>{try{console.log("Attempting login with:",{email:u});const v=await r(u,h);console.log("Login attempt result:",v),v&&(console.log("Login successful"),ue({title:"Login Successful",description:"Welcome back!",variant:"default"}),setTimeout(()=>{t(o==="admin"||o==="super_admin"?"dashboard":"products")},100))}catch(v){console.error("Login error:",v),ue({title:"Login Error",description:v.message||"An unexpected error occurred",variant:"destructive"})}},y=async()=>{try{ue({title:"Connecting to Google...",description:"Please wait while we redirect you.",variant:"default"}),await s();const v=ue({title:"Redirecting...",description:"Please complete the sign in process with Google.",variant:"default"});setTimeout(()=>{v.dismiss()},2e3)}catch(v){console.error("Google login error:",v),ue({title:"Login Error",description:v.message||"Failed to sign in with Google",variant:"destructive"})}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 glass-effect p-10 rounded-2xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold",style:et(l),children:e("auth.loginTitle")}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("auth.loginSubtitle")})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(K2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",autoComplete:"email",required:!0,value:u,onChange:v=>d(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e("auth.email")})]}),a.jsxs("div",{className:"relative",children:[a.jsx(H2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:h,onChange:v=>m(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e("auth.password")})]}),a.jsx("div",{children:a.jsxs(ye,{onClick:p,className:"w-full group relative flex justify-center py-3 px-4",style:{background:l.useGradient?`linear-gradient(to right, ${l.primaryColor||"#2563eb"}, ${l.secondaryColor||"#9333ea"})`:l.buttonBgColor||"#2563eb",color:l.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(Z0,{className:"w-5 h-5 mr-2"}),e("auth.login")]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("auth.or")})})]}),a.jsx("div",{children:a.jsxs(ye,{onClick:y,variant:"outline",className:"w-full group relative flex justify-center py-3 px-4",style:{borderColor:l.primaryColor||"#2563eb",color:l.primaryColor||"#2563eb"},children:[a.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:a.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 21.2 172.9 56.9L368.7 128C338.8 102.3 298.2 88 248 88c-86.5 0-157.2 70.2-157.2 156.8s70.7 156.8 157.2 156.8c99.9 0 133-67.8 138.3-103.3H248v-67.3h239.1c1.3 12.2 2.2 24.2 2.2 36.8z"})}),e("auth.loginWithGoogle")]})}),a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Admin: admin@test.com / test123 ",a.jsx("br",{}),"User: user@test.com / test123"]})]})]})})},Q4=({onNavigate:t})=>{const{user:e,userRole:r}=lr(),{t:s,language:o}=er(),{visualSettings:l,businessInfo:u}=Wt(),[d,h]=b.useState([]),[m,p]=b.useState(!0),[y,v]=b.useState(null),[w,C]=b.useState(!1),[j,_]=b.useState(!1),[O,T]=b.useState(null),[P,N]=b.useState(0),[I,M]=b.useState(""),[D,H]=b.useState(!1),[te,U]=b.useState(!1),[me,se]=b.useState(!1),[re,B]=b.useState(""),[we,J]=b.useState(null);b.useEffect(()=>{if(!e){t("login");return}q(),r!=="admin"&&r!=="super_admin"&&fe()},[e,r]);const fe=async()=>{if(e?.id)try{const Y=await UT(e.id);Y.data&&(T(Y.data),N(Y.data.rating),M(Y.data.comment||""))}catch(Y){console.error("Error loading testimonial:",Y)}},q=async()=>{if(e?.id){console.log("[UserPanel] Loading orders for role:",r),p(!0);try{if(r==="admin"||r==="super_admin"){console.log("[UserPanel] Loading pending orders for admin");const Y=await u4({payment_status:"pending"});console.log("[UserPanel] Admin orders result:",Y),Y.success&&h(Y.orders)}else{console.log("[UserPanel] Loading user orders for regular user");const Y=await l4(e.id);console.log("[UserPanel] User orders result:",Y),Y.success&&h(Y.orders)}}catch(Y){console.error("Error loading orders:",Y)}finally{p(!1)}}},ie=async Y=>{_(!0),C(!0);try{const K=await c4(Y);console.log("[UserPanel] Order details loaded:",K),K.success&&(v(K.order),console.log("[UserPanel] Selected order payment_status:",K.order?.payment_status),console.log("[UserPanel] Payment proof URL:",K.order?.payment_proof_url),console.log("[UserPanel] Current userRole:",r))}catch(K){console.error("Error loading order details:",K)}finally{_(!1)}},ne=async Y=>{J(Y),U(!0)},E=async()=>{_(!0),U(!1);try{(await f4(we,e.id)).success&&(await q(),C(!1),v(null))}catch(Y){console.error("Error validating payment:",Y)}finally{_(!1),J(null)}},L=async Y=>{J(Y),B(""),se(!0)},Q=async()=>{if(re.trim()){_(!0),se(!1);try{(await h4(we,e.id,re)).success&&(await q(),C(!1),v(null))}catch(Y){console.error("Error rejecting payment:",Y)}finally{_(!1),J(null),B("")}}},oe=async()=>{if(P===0){alert(o==="es"?"Por favor selecciona una calificación":"Please select a rating");return}H(!0);try{const Y={user_id:e.id,rating:P,comment:I.trim()};let K;O?K=await LT(O.id,{rating:P,comment:I.trim()}):K=await DT(Y),K.data&&(T(K.data),alert(o==="es"?"¡Gracias por tu testimonio! Será revisado por nuestro equipo.":"Thank you for your testimonial! It will be reviewed by our team."))}catch(Y){console.error("Error saving testimonial:",Y),alert(o==="es"?"Error al guardar el testimonio":"Error saving testimonial")}finally{H(!1)}},ve=(Y,K)=>K==="validated"||Y==="completed"?a.jsx(Ro,{className:"h-5 w-5",style:{color:l.successColor||"#10b981"}}):K==="rejected"||Y==="cancelled"?a.jsx(Tl,{className:"h-5 w-5",style:{color:l.errorColor||"#ef4444"}}):K==="pending"||Y==="pending"?a.jsx(bf,{className:"h-5 w-5",style:{color:l.warningColor||"#f59e0b"}}):a.jsx(bf,{className:"h-5 w-5",style:{color:l.textSecondaryColor||"#6b7280"}}),Ce=(Y,K)=>K==="validated"?o==="es"?"Validado":"Validated":K==="rejected"?o==="es"?"Rechazado":"Rejected":K==="pending"?o==="es"?"Pendiente":"Pending":Y==="processing"?o==="es"?"En proceso":"Processing":Y==="completed"?o==="es"?"Completado":"Completed":o==="es"?"Pendiente":"Pending",le=Y=>{switch(Y){case"product":return a.jsx(Ss,{className:"h-4 w-4"});case"combo":return a.jsx(Ar,{className:"h-4 w-4"});case"remittance":return a.jsx(qn,{className:"h-4 w-4"});default:return a.jsx(Ss,{className:"h-4 w-4"})}},xe=Y=>{switch(Y){case"product":return o==="es"?"Producto":"Product";case"combo":return"Combo";case"remittance":return o==="es"?"Remesa":"Remittance";default:return Y}};if(!e)return null;const Ae=e?.profile?.full_name||e?.user_metadata?.full_name||e?.user_metadata?.name||"Usuario";return a.jsxs("div",{className:"min-h-screen py-8 px-4",children:[a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:et(l),children:s("userPanel.title")}),a.jsx("p",{className:"text-xl",style:Fe(l,"secondary"),children:o==="es"?`Bienvenido, ${Ae}`:`Welcome, ${Ae}`})]}),u?.whatsapp&&a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:a.jsxs("div",{className:"p-4 rounded-xl border flex items-center justify-between bg-white",style:{borderColor:"#10b981"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:a.jsx(_f,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",style:Fe(l,"primary"),children:o==="es"?"¿Necesitas ayuda?":"Need help?"}),a.jsx("p",{className:"text-sm",style:Fe(l,"muted"),children:o==="es"?"Ante dudas contactar a soporte vía WhatsApp":"Contact support via WhatsApp for any questions"})]})]}),a.jsxs(ye,{onClick:()=>{const Y=o==="es"?`Hola! Soy ${Ae}. Necesito ayuda con mi cuenta.`:`Hello! I'm ${Ae}. I need help with my account.`;window.open(Vf(u.whatsapp,Y),"_blank")},className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(_f,{className:"h-4 w-4 mr-2"}),o==="es"?"Contactar":"Contact"]})]})}),a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-8 rounded-2xl bg-white shadow-lg border border-gray-200",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",style:Fe(l,"primary"),children:[a.jsx("div",{className:"p-2 rounded-lg mr-3",style:{background:l.useGradient?`linear-gradient(to right, ${l.primaryColor||"#2563eb"}, ${l.secondaryColor||"#9333ea"})`:l.primaryColor||"#2563eb"},children:a.jsx(Ar,{className:"h-5 w-5 text-white"})}),r==="admin"||r==="super_admin"?o==="es"?"Pedidos Pendientes":"Pending Orders":s("userPanel.myOrders")]}),m?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(No,{className:"h-8 w-8 animate-spin",style:{color:l.primaryColor}})}):d.length>0?a.jsx("div",{className:"space-y-4",children:d.map(Y=>a.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer",style:{borderColor:l.borderColor||"#e5e7eb"},onClick:()=>ie(Y.id),children:a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px]",children:[a.jsx("p",{className:"font-semibold mb-1",style:Fe(l,"primary"),children:Y.order_number}),(r==="admin"||r==="super_admin")&&Y.user_profiles&&a.jsxs("p",{className:"text-sm font-medium mb-1",style:Fe(l,"secondary"),children:["👤 ",Y.user_profiles.full_name||Y.user_profiles.email]}),a.jsx("p",{className:"text-sm",style:Fe(l,"muted"),children:new Date(Y.created_at).toLocaleDateString(o==="es"?"es-ES":"en-US",{year:"numeric",month:"long",day:"numeric"})}),Y.shipping_zones&&a.jsxs("p",{className:"text-xs mt-1",style:Fe(l,"muted"),children:["📍 ",Y.shipping_zones.province_name]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold mb-1",style:{color:l.primaryColor},children:["$",parseFloat(Y.total_amount).toFixed(2)," ",Y.currencies?.code||"USD"]}),a.jsxs("p",{className:"text-xs",style:Fe(l,"muted"),children:[Y.order_items?.length||0," ",o==="es"?"artículos":"items"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-3 py-1.5 rounded-full flex items-center gap-2 text-sm font-medium",style:Kd(Y.payment_status||Y.status,l),children:[ve(Y.status,Y.payment_status),a.jsx("span",{children:Ce(Y.status,Y.payment_status)})]}),a.jsx(ye,{size:"sm",variant:"ghost",children:a.jsx(Jl,{className:"h-4 w-4"})})]})]})},Y.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ar,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"text-lg mb-2",style:Fe(l,"secondary"),children:s("userPanel.noOrders")}),a.jsx("p",{className:"text-sm",style:Fe(l,"muted"),children:o==="es"?"Comienza a comprar para ver tus pedidos aquí":"Start shopping to see your orders here"})]})]}),r!=="admin"&&r!=="super_admin"&&a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-8 rounded-2xl mt-6 bg-white shadow-lg border border-gray-200",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",style:Fe(l,"primary"),children:[a.jsx("div",{className:"p-2 rounded-lg mr-3",style:{background:l.useGradient?`linear-gradient(to right, ${l.primaryColor||"#2563eb"}, ${l.secondaryColor||"#9333ea"})`:l.primaryColor||"#2563eb"},children:a.jsx($o,{className:"h-5 w-5 text-white"})}),o==="es"?"Califica tu Experiencia":"Rate Your Experience"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:Fe(l,"primary"),children:o==="es"?"Calificación":"Rating"}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(Y=>a.jsx("button",{type:"button",onClick:()=>N(Y),className:"transition-transform hover:scale-110",children:a.jsx($o,{className:"h-8 w-8",fill:Y<=P?l.primaryColor||"#2563eb":"none",stroke:Y<=P?l.primaryColor||"#2563eb":"#d1d5db"})},Y))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:Fe(l,"primary"),children:o==="es"?"Comentario (opcional)":"Comment (optional)"}),a.jsx("textarea",{value:I,onChange:Y=>M(Y.target.value),placeholder:o==="es"?"Comparte tu experiencia con nosotros...":"Share your experience with us...",rows:4,className:"w-full px-4 py-2 rounded-lg border resize-none",style:{borderColor:l.borderColor||"#e5e7eb",backgroundColor:l.inputBgColor||"#ffffff",color:l.textPrimaryColor||"#1f2937"}})]}),O&&a.jsx("div",{className:"p-3 rounded-lg text-sm",style:{backgroundColor:O.is_visible?`${l.successColor||"#10b981"}20`:`${l.warningColor||"#f59e0b"}20`,color:O.is_visible?l.successColor||"#10b981":l.warningColor||"#f59e0b"},children:O.is_visible?o==="es"?"✓ Tu testimonio ha sido publicado":"✓ Your testimonial has been published":o==="es"?"⏳ Tu testimonio está pendiente de aprobación":"⏳ Your testimonial is pending approval"}),a.jsx(ye,{onClick:oe,disabled:D||P===0,className:"w-full",style:{background:l.useGradient?`linear-gradient(to right, ${l.primaryColor||"#2563eb"}, ${l.secondaryColor||"#9333ea"})`:l.primaryColor||"#2563eb",color:"#ffffff"},children:D?a.jsxs(a.Fragment,{children:[a.jsx(No,{className:"h-4 w-4 mr-2 animate-spin"}),o==="es"?"Guardando...":"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),O?o==="es"?"Actualizar Testimonio":"Update Testimonial":o==="es"?"Enviar Testimonio":"Submit Testimonial"]})})]})]})]}),a.jsx(zn,{children:w&&a.jsxs(a.Fragment,{children:[a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>{C(!1),v(null)}}),a.jsx(pe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:Y=>Y.stopPropagation(),children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto p-6 rounded-2xl shadow-2xl bg-white border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold mb-2",style:et(l),children:o==="es"?"Detalles del Pedido":"Order Details"}),y&&a.jsx("p",{className:"text-sm",style:Fe(l,"muted"),children:y.order_number})]}),a.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>{C(!1),v(null)},children:a.jsx(Gn,{className:"h-5 w-5"})})]}),j?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(No,{className:"h-8 w-8 animate-spin",style:{color:l.primaryColor}})}):y?a.jsxs("div",{className:"space-y-6",children:[(r==="admin"||r==="super_admin")&&y.user_profiles&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:l.borderColor||"#e5e7eb",backgroundColor:`${l.primaryColor}10`},children:[a.jsx("h4",{className:"text-sm font-semibold mb-2",style:Fe(l,"primary"),children:o==="es"?"Datos del Cliente":"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",style:Fe(l,"muted"),children:o==="es"?"Nombre:":"Name:"})," ",a.jsx("span",{style:Fe(l,"primary"),children:y.user_profiles.full_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",style:Fe(l,"muted"),children:"Email:"})," ",a.jsx("span",{style:Fe(l,"primary"),children:y.user_profiles.email||"N/A"})]}),y.shipping_phone&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",style:Fe(l,"muted"),children:o==="es"?"Teléfono:":"Phone:"})," ",a.jsx("span",{style:Fe(l,"primary"),children:y.shipping_phone})]}),y.shipping_address&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"font-medium",style:Fe(l,"muted"),children:o==="es"?"Dirección:":"Address:"})," ",a.jsx("span",{style:Fe(l,"primary"),children:y.shipping_address})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:Fe(l,"muted"),children:o==="es"?"Fecha":"Date"}),a.jsx("p",{className:"text-sm",style:Fe(l,"primary"),children:new Date(y.created_at).toLocaleDateString(o==="es"?"es-ES":"en-US")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:Fe(l,"muted"),children:o==="es"?"Estado":"Status"}),a.jsx("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium",style:Kd(y.payment_status||y.status,l),children:Ce(y.status,y.payment_status)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:Fe(l,"muted"),children:o==="es"?"Provincia":"Province"}),a.jsx("p",{className:"text-sm",style:Fe(l,"primary"),children:y.shipping_zones?.province_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:Fe(l,"muted"),children:"Total"}),a.jsxs("p",{className:"text-lg font-bold",style:{color:l.primaryColor},children:["$",parseFloat(y.total_amount).toFixed(2)," ",y.currencies?.code||"USD"]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",style:Fe(l,"primary"),children:o==="es"?"Artículos":"Items"}),a.jsx("div",{className:"space-y-3",children:y.order_items?.map((Y,K)=>a.jsx("div",{className:"p-3 rounded-lg border",style:{borderColor:l.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",children:a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:le(Y.item_type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium mb-1",style:Fe(l,"primary"),children:o==="es"?Y.item_name_es:Y.item_name_en}),a.jsxs("div",{className:"flex items-center gap-2 text-xs mb-1",style:Fe(l,"muted"),children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:vb(l,"info"),children:xe(Y.item_type)}),a.jsxs("span",{children:[o==="es"?"Cantidad":"Qty",": ",Y.quantity]})]}),a.jsxs("p",{className:"text-xs",style:Fe(l,"muted"),children:["$",parseFloat(Y.unit_price).toFixed(2)," × ",Y.quantity]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsxs("p",{className:"text-base font-bold",style:Fe(l,"primary"),children:["$",parseFloat(Y.total_price).toFixed(2)]})})]})},K))})]}),a.jsx("div",{className:"border-t pt-4",style:{borderColor:l.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{style:Fe(l,"secondary"),children:"Subtotal"}),a.jsxs("span",{className:"font-semibold",style:Fe(l,"primary"),children:["$",parseFloat(y.subtotal).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{style:Fe(l,"secondary"),children:o==="es"?"Envío":"Shipping"}),a.jsx("span",{className:"font-semibold",style:Fe(l,"primary"),children:parseFloat(y.shipping_cost)===0?o==="es"?"Gratis":"Free":`$${parseFloat(y.shipping_cost).toFixed(2)}`})]}),a.jsx("div",{className:"border-t pt-2 mt-2",style:{borderColor:l.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold",style:Fe(l,"primary"),children:"Total"}),a.jsxs("span",{className:"text-xl font-bold",style:{color:l.primaryColor},children:["$",parseFloat(y.total_amount).toFixed(2)," ",y.currencies?.code||"USD"]})]})})]})})]}),a.jsx("div",{children:y.payment_proof_url?a.jsxs("div",{className:"sticky top-4",children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",style:Fe(l,"primary"),children:o==="es"?"Comprobante de Pago":"Payment Proof"}),a.jsx("div",{className:"rounded-lg border overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",style:{borderColor:l.borderColor||"#e5e7eb"},onClick:()=>window.open(y.payment_proof_url,"_blank"),children:a.jsx("img",{src:y.payment_proof_url,alt:"Payment proof",className:"w-full h-auto object-contain max-h-[600px] bg-gray-50",onError:Y=>{console.error("[UserPanel] Error loading payment proof image:",y.payment_proof_url),Y.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect fill="%23f3f4f6" width="400" height="300"/><text x="50%" y="50%" font-family="Arial" font-size="16" fill="%236b7280" text-anchor="middle">Error al cargar imagen</text></svg>'}})}),a.jsx("p",{className:"text-xs text-center mt-2",style:Fe(l,"muted"),children:o==="es"?"Click para ver en tamaño completo":"Click to view full size"})]}):a.jsxs("div",{className:"sticky top-4 p-6 rounded-lg border-2 border-dashed text-center",style:{borderColor:l.borderColor||"#e5e7eb"},children:[a.jsx(V2,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",style:Fe(l,"muted"),children:o==="es"?"Sin comprobante de pago":"No payment proof"})]})})]}),y.rejection_reason&&a.jsxs("div",{className:"p-4 rounded-lg",style:Kd("rejected",l),children:[a.jsx("p",{className:"font-medium mb-1",children:o==="es"?"Motivo de Rechazo":"Rejection Reason"}),a.jsx("p",{className:"text-sm",children:y.rejection_reason})]}),(r==="admin"||r==="super_admin")&&y.payment_status==="pending"&&a.jsxs("div",{className:"flex gap-3 pt-4 border-t",style:{borderColor:l.borderColor||"#e5e7eb"},children:[a.jsxs(ye,{onClick:()=>ne(y.id),disabled:j,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),o==="es"?"Validar Pago":"Validate Payment"]}),a.jsxs(ye,{onClick:()=>L(y.id),disabled:j,variant:"destructive",className:"flex-1",children:[a.jsx(Tl,{className:"h-4 w-4 mr-2"}),o==="es"?"Rechazar":"Reject"]})]})]}):null]})})]})}),a.jsx(zn,{children:te&&a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>U(!1),children:a.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Y=>Y.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ro,{className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-2xl font-bold mb-2",style:Fe(l,"primary"),children:o==="es"?"¿Validar Pago?":"Validate Payment?"}),a.jsx("p",{className:"text-gray-600",children:o==="es"?"Esto aprobará el pedido y actualizará el inventario":"This will approve the order and update inventory"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{onClick:()=>U(!1),variant:"outline",className:"flex-1",disabled:j,children:o==="es"?"Cancelar":"Cancel"}),a.jsxs(ye,{onClick:E,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:j,children:[j?a.jsx(No,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Ro,{className:"h-4 w-4 mr-2"}),o==="es"?"Confirmar":"Confirm"]})]})]})})}),a.jsx(zn,{children:me&&a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>se(!1),children:a.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Y=>Y.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Tl,{className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-2xl font-bold mb-2",style:Fe(l,"primary"),children:o==="es"?"Rechazar Pago":"Reject Payment"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o==="es"?"Por favor indica el motivo del rechazo":"Please indicate the reason for rejection"})]}),a.jsx("textarea",{value:re,onChange:Y=>B(Y.target.value),placeholder:o==="es"?"Motivo del rechazo...":"Rejection reason...",className:"w-full p-3 border rounded-lg mb-4 min-h-[100px] focus:ring-2 focus:ring-red-500 focus:border-transparent",style:{borderColor:l.borderColor||"#e5e7eb"}}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ye,{onClick:()=>se(!1),variant:"outline",className:"flex-1",disabled:j,children:o==="es"?"Cancelar":"Cancel"}),a.jsxs(ye,{onClick:Q,variant:"destructive",className:"flex-1",disabled:j||!re.trim(),children:[j?a.jsx(No,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Tl,{className:"h-4 w-4 mr-2"}),o==="es"?"Rechazar":"Reject"]})]})]})})})]})},To=["jtheoden@gmail.com","jtheoden@googlemail.com"],Y4=()=>{const{t}=er(),{user:e}=lr(),{visualSettings:r}=Wt(),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(""),m=async()=>{u(!0);try{const{data:_,error:O}=await ee.from("user_profiles").select("id, email, role, is_enabled, full_name, avatar_url, created_at").order("created_at",{ascending:!1});if(O)throw O;o(_||[])}catch(_){console.error("Error fetching users:",_),ue({title:t("users.fetchError"),description:_.message,variant:"destructive"})}finally{u(!1)}};b.useEffect(()=>{m()},[]);const p=async(_,O)=>{try{const T=s.find(N=>N.id===_);if(To.includes(T?.email))throw new Error(t("users.cannotModifySuperAdmin"));const{error:P}=await ee.from("user_profiles").update({role:O}).eq("id",_);if(P)throw P;await m(),ue({title:t("users.roleUpdated"),description:t("users.roleUpdatedSuccess")})}catch(T){console.error("Error updating user role:",T),ue({title:t("users.roleUpdateError"),description:T.message,variant:"destructive"})}},y=async(_,O)=>{try{const T=s.find(N=>N.id===_);if(To.includes(T?.email))throw new Error(t("users.cannotModifySuperAdmin"));const{error:P}=await ee.from("user_profiles").update({is_enabled:O}).eq("id",_);if(P)throw P;await m(),ue({title:t(O?"users.userEnabled":"users.userDisabled"),description:t("users.statusUpdateSuccess")})}catch(T){console.error("Error updating user status:",T),ue({title:t("users.statusUpdateError"),description:T.message,variant:"destructive"})}},v=async _=>{const O=s.find(P=>P.id===_);if(To.includes(O?.email)){ue({title:t("users.deleteError"),description:t("users.cannotModifySuperAdmin"),variant:"destructive"});return}const T=t("users.confirmDelete",{email:O?.email});if(window.confirm(T))try{const{error:P}=await ee.from("user_profiles").delete().eq("id",_);if(P)throw P;const{error:N}=await ee.auth.admin.deleteUser(_);N&&console.warn("Could not delete from auth.users:",N),await m(),ue({title:t("users.userDeleted"),description:t("users.userDeletedSuccess")})}catch(P){console.error("Error deleting user:",P),ue({title:t("users.deleteError"),description:P.message,variant:"destructive"})}},w=To.includes(e?.email),C=s.filter(_=>_.email?.toLowerCase().includes(d.toLowerCase())||_.full_name?.toLowerCase().includes(d.toLowerCase())),j=_=>{switch(_){case"super_admin":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:et(r),children:t("users.management")}),a.jsx("p",{className:"text-gray-600",children:t("users.managementDescription")})]}),a.jsxs(ye,{onClick:m,disabled:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(Fn,{className:`w-4 h-4 ${l?"animate-spin":""}`}),t("users.refresh")]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-96",children:[a.jsx(ew,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:`${t("users.table.email")}, ${t("users.table.name")}...`,value:d,onChange:_=>h(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"px-4 py-2 glass-effect rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[t("users.total"),":"]}),a.jsx("span",{className:"ml-2 font-bold",children:s.length})]}),a.jsxs("div",{className:"px-4 py-2 glass-effect rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[t("users.table.active"),":"]}),a.jsx("span",{className:"ml-2 font-bold text-green-600",children:s.filter(_=>_.is_enabled).length})]})]})]})]}),a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect rounded-2xl overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.email")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.name")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.role")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.status")}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.actions")})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l?a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[a.jsx(Fn,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500",children:t("users.loadingUsers")})]})}):C.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[a.jsx(yc,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a.jsx("p",{className:"text-gray-500",children:t(d?"users.noUsersFound":"users.noUsers")})]})}):C.map((_,O)=>{const T=To.includes(_.email);return a.jsxs(pe.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.05},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-semibold",children:_.email?.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.email})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:_.full_name||"-"})}),a.jsx("td",{className:"px-6 py-4",children:T?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[a.jsx(Md,{className:"w-3 h-3 mr-1"}),t("users.superAdmin")]}):w?a.jsxs("select",{value:_.role||"user",onChange:P=>p(_.id,P.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 focus:ring-2 focus:ring-blue-500 ${j(_.role)}`,children:[a.jsx("option",{value:"user",children:t("users.roles.user")}),a.jsx("option",{value:"admin",children:t("users.roles.admin")})]}):a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${j(_.role)}`,children:t(`users.roles.${_.role||"user"}`)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${_.is_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.is_enabled?t("users.table.active"):t("users.table.inactive")})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!T&&w&&a.jsxs(a.Fragment,{children:[a.jsx(ye,{variant:_.is_enabled?"outline":"default",size:"sm",onClick:()=>y(_.id,!_.is_enabled),className:"flex items-center gap-2",title:_.is_enabled?t("users.disableUser"):t("users.enableUser"),children:_.is_enabled?a.jsxs(a.Fragment,{children:[a.jsx(sE,{className:"w-4 h-4"}),t("users.disable")]}):a.jsxs(a.Fragment,{children:[a.jsx(nE,{className:"w-4 h-4"}),t("users.enable")]})}),a.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>v(_.id),className:"flex items-center gap-2",style:{backgroundColor:r.destructiveBgColor||"#dc2626",color:r.destructiveTextColor||"#ffffff",borderColor:r.destructiveBgColor||"#dc2626"},onMouseEnter:P=>P.currentTarget.style.backgroundColor=r.destructiveHoverBgColor||"#b91c1c",onMouseLeave:P=>P.currentTarget.style.backgroundColor=r.destructiveBgColor||"#dc2626",title:t("users.deleteUser"),children:[a.jsx(Fo,{className:"w-4 h-4"}),t("users.delete")]})]}),T&&a.jsxs("span",{className:"text-xs text-gray-400 italic flex items-center gap-1",children:[a.jsx(Md,{className:"w-3 h-3"}),t("users.protected")]})]})})]},_.id)})})]})})}),a.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Md,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsxs("p",{className:"font-semibold mb-1",children:[t("users.rolesPermissions.title"),":"]}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.user"),":"]})," ",t("users.rolesPermissions.userDesc")]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.admin"),":"]})," ",t("users.rolesPermissions.adminDesc")]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.super_admin"),":"]})," ",t("users.rolesPermissions.superAdminDesc")]})]})]})]})}),a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(yi,{className:"w-5 h-5 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsxs("p",{className:"font-semibold mb-1",children:[t("users.securityNote.title"),":"]}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:t("users.securityNote.superAdminProtected")}),a.jsx("li",{children:t("users.securityNote.onlySuperAdminManage")}),a.jsx("li",{children:t("users.securityNote.deletionPermanent")})]})]})]})})]})]})})},Fv="papuenvios_supabase_auth_handled",J4=({onNavigate:t})=>{const[e,r]=b.useState(!0),[s,o]=b.useState(null);return b.useEffect(()=>{let l=!0;return(async()=>{try{if(console.log("[AuthCallback] start handling callback",{href:window.location.href,hash:window.location.hash,search:window.location.search}),sessionStorage.getItem(Fv)==="1"){console.warn("[AuthCallback] already handled in this session"),l&&r(!1);const{data:{session:h}}=await ee.auth.getSession();if(h?.user&&t){const m=await If(h.user.id);t(m==="admin"||m==="super_admin"?"dashboard":"products")}return}sessionStorage.setItem(Fv,"1");let d=null;if(typeof ee.auth.getSessionFromUrl=="function"){const{data:h,error:m}=await ee.auth.getSessionFromUrl({storeSession:!0});m?console.warn("[AuthCallback] getSessionFromUrl returned error",m):d=h?.session}if(!d){const{data:{session:h},error:m}=await ee.auth.getSession();m&&console.warn("[AuthCallback] getSession returned error",m),d=h}if(!d){await new Promise(m=>setTimeout(m,800));const{data:{session:h}}=await ee.auth.getSession();d=h}if(!d?.user)throw new Error("No se pudo establecer la sesión de usuario");console.log("[AuthCallback] Auth success for:",d.user.email);try{window.history.replaceState({},document.title,window.location.pathname)}catch{}if(ue({title:"¡Bienvenido!",description:`Has iniciado sesión como ${d.user.email}`}),t){const h=await If(d.user.id);setTimeout(()=>{t(h==="admin"||h==="super_admin"?"dashboard":"products")},150)}}catch(d){console.error("[AuthCallback] error:",d);const h=d?.message||String(d);o(h),ue({title:"Error de Autenticación",description:h,variant:"destructive"}),setTimeout(()=>{t&&t("login")},1800)}finally{l&&r(!1)}})(),()=>{l=!1}},[t]),e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6 bg-white rounded shadow",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"mt-4",children:"Completando autenticación..."})]})}):s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6 bg-white rounded shadow",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Error de Autenticación"}),a.jsx("p",{className:"mt-2 text-red-600",children:s})]})}):null},aa=(t,e)=>s=>{const{user:o,loading:l,checkRole:u,userRole:d}=lr();return l?a.jsx(gb,{}):o?u(e)?a.jsx(t,{...s}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Acceso restringido"}),a.jsxs("p",{className:"text-gray-600",children:["No tienes permisos para ver esta página. Rol requerido: ",e,". Tu rol: ",d||"ninguno","."]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Autenticación requerida"}),a.jsx("p",{className:"text-gray-600",children:"Debes iniciar sesión para acceder a esta página."})]})})};function X4(){const{visualSettings:t}=Wt();return b.useEffect(()=>{document.title=t.companyName||"PapuEnvíos"},[t.companyName]),a.jsxs(JC,{children:[a.jsxs("title",{children:[t.companyName||"PapuEnvíos"," - Plataforma de Comercio Digital"]}),a.jsx("meta",{name:"description",content:"Plataforma completa de comercio digital con vendedores independientes, remesas y gestión de ganancias"})]})}const Z4=aa(Y4,"admin"),eO=aa(k4,"admin"),tO=aa(P4,"admin"),rO=aa(W4,"admin"),nO=aa(Q4,"user");function sO(){const[t,e]=b.useState(!0),[r,s]=b.useState("home"),[o,l]=b.useState({itemId:null,itemType:null});b.useEffect(()=>{const h=window.location.pathname,m=new URLSearchParams(window.location.search),p=new URLSearchParams(window.location.hash.substring(1));(h==="/auth/callback"||m.has("access_token")||p.has("access_token")||m.has("code"))&&s("auth/callback");const y=h.match(/^\/product\/([^/]+)$/),v=h.match(/^\/combo\/([^/]+)$/);y?(s("product-detail"),l({itemId:y[1],itemType:"product"})):v&&(s("product-detail"),l({itemId:v[1],itemType:"combo"}));const w=setTimeout(()=>{e(!1)},2500);return()=>clearTimeout(w)},[]);const u=(h,m={})=>{if(s(h),h==="product-detail"&&m.itemId&&m.itemType){l({itemId:m.itemId,itemType:m.itemType});const p=`/${m.itemType}/${m.itemId}`;window.history.pushState({},"",p)}else h==="home"&&window.location.pathname!=="/"?window.history.pushState({},"","/"):h!=="home"&&window.location.pathname==="/"&&window.history.pushState({},"",`/${h}`)},d=()=>{switch(r){case"home":return a.jsx(Iv,{onNavigate:u});case"products":return a.jsx(w4,{onNavigate:u});case"product-detail":return a.jsx(_4,{onNavigate:u,itemId:o.itemId,itemType:o.itemType});case"remittances":return a.jsx(N4,{onNavigate:u});case"dashboard":return a.jsx(eO,{onNavigate:u});case"admin":return a.jsx(tO,{onNavigate:u});case"settings":return a.jsx(rO,{onNavigate:u});case"cart":return a.jsx(G4,{onNavigate:u});case"login":return a.jsx(K4,{onNavigate:u});case"user-panel":return a.jsx(nO,{onNavigate:u});case"user-management":return a.jsx(Z4,{onNavigate:u});case"auth/callback":return a.jsx(J4,{onNavigate:u});default:return a.jsx(Iv,{onNavigate:u})}};return a.jsx(HT,{children:a.jsx(Kv,{children:a.jsx(e4,{children:a.jsx(n4,{children:a.jsx(qT,{children:a.jsxs("div",{className:"min-h-screen",children:[a.jsx(X4,{}),a.jsx(zn,{mode:"wait",children:t?a.jsx(WT,{},"loading"):a.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen",children:[r!=="auth/callback"&&a.jsx(p4,{currentPage:r,onNavigate:u}),a.jsx("main",{className:r!=="auth/callback"?"pt-20":"",children:a.jsx(zn,{mode:"wait",children:a.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d()},r)})})]},"main")}),a.jsx(fE,{})]})})})})})})}jC.createRoot(document.getElementById("root")).render(a.jsx(rt.StrictMode,{children:a.jsx(sO,{})}));

function t1(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Ss(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var rd={exports:{}},xo={},nd={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function n1(){if(sg)return ze;sg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function N(E,D,K){this.props=E,this.context=D,this.refs=C,this.updater=K||w}N.prototype.isReactComponent={},N.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function O(){}O.prototype=N.prototype;function k(E,D,K){this.props=E,this.context=D,this.refs=C,this.updater=K||w}var _=k.prototype=new O;_.constructor=k,j(_,N.prototype),_.isPureReactComponent=!0;var A=Array.isArray,F=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function W(E,D,K){var ce,xe={},pe=null,be=null;if(D!=null)for(ce in D.ref!==void 0&&(be=D.ref),D.key!==void 0&&(pe=""+D.key),D)F.call(D,ce)&&!I.hasOwnProperty(ce)&&(xe[ce]=D[ce]);var ye=arguments.length-2;if(ye===1)xe.children=K;else if(1<ye){for(var Oe=Array(ye),qe=0;qe<ye;qe++)Oe[qe]=arguments[qe+2];xe.children=Oe}if(E&&E.defaultProps)for(ce in ye=E.defaultProps,ye)xe[ce]===void 0&&(xe[ce]=ye[ce]);return{$$typeof:t,type:E,key:pe,ref:be,props:xe,_owner:M.current}}function Z(E,D){return{$$typeof:t,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function B(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ge(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return D[K]})}var ie=/\/+/g;function X(E,D){return typeof E=="object"&&E!==null&&E.key!=null?ge(""+E.key):D.toString(36)}function z(E,D,K,ce,xe){var pe=typeof E;(pe==="undefined"||pe==="boolean")&&(E=null);var be=!1;if(E===null)be=!0;else switch(pe){case"string":case"number":be=!0;break;case"object":switch(E.$$typeof){case t:case e:be=!0}}if(be)return be=E,xe=xe(be),E=ce===""?"."+X(be,0):ce,A(xe)?(K="",E!=null&&(K=E.replace(ie,"$&/")+"/"),z(xe,D,K,"",function(qe){return qe})):xe!=null&&(B(xe)&&(xe=Z(xe,K+(!xe.key||be&&be.key===xe.key?"":(""+xe.key).replace(ie,"$&/")+"/")+E)),D.push(xe)),1;if(be=0,ce=ce===""?".":ce+":",A(E))for(var ye=0;ye<E.length;ye++){pe=E[ye];var Oe=ce+X(pe,ye);be+=z(pe,D,K,Oe,xe)}else if(Oe=x(E),typeof Oe=="function")for(E=Oe.call(E),ye=0;!(pe=E.next()).done;)pe=pe.value,Oe=ce+X(pe,ye++),be+=z(pe,D,K,Oe,xe);else if(pe==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return be}function ue(E,D,K){if(E==null)return E;var ce=[],xe=0;return z(E,ce,"","",function(pe){return D.call(K,pe,xe++)}),ce}function he(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var le={current:null},H={transition:null},ee={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:H,ReactCurrentOwner:M};function te(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:ue,forEach:function(E,D,K){ue(E,function(){D.apply(this,arguments)},K)},count:function(E){var D=0;return ue(E,function(){D++}),D},toArray:function(E){return ue(E,function(D){return D})||[]},only:function(E){if(!B(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ze.Component=N,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=k,ze.StrictMode=s,ze.Suspense=h,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ze.act=te,ze.cloneElement=function(E,D,K){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ce=j({},E.props),xe=E.key,pe=E.ref,be=E._owner;if(D!=null){if(D.ref!==void 0&&(pe=D.ref,be=M.current),D.key!==void 0&&(xe=""+D.key),E.type&&E.type.defaultProps)var ye=E.type.defaultProps;for(Oe in D)F.call(D,Oe)&&!I.hasOwnProperty(Oe)&&(ce[Oe]=D[Oe]===void 0&&ye!==void 0?ye[Oe]:D[Oe])}var Oe=arguments.length-2;if(Oe===1)ce.children=K;else if(1<Oe){ye=Array(Oe);for(var qe=0;qe<Oe;qe++)ye[qe]=arguments[qe+2];ce.children=ye}return{$$typeof:t,type:E.type,key:xe,ref:pe,props:ce,_owner:be}},ze.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},ze.createElement=W,ze.createFactory=function(E){var D=W.bind(null,E);return D.type=E,D},ze.createRef=function(){return{current:null}},ze.forwardRef=function(E){return{$$typeof:d,render:E}},ze.isValidElement=B,ze.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:he}},ze.memo=function(E,D){return{$$typeof:m,type:E,compare:D===void 0?null:D}},ze.startTransition=function(E){var D=H.transition;H.transition={};try{E()}finally{H.transition=D}},ze.unstable_act=te,ze.useCallback=function(E,D){return le.current.useCallback(E,D)},ze.useContext=function(E){return le.current.useContext(E)},ze.useDebugValue=function(){},ze.useDeferredValue=function(E){return le.current.useDeferredValue(E)},ze.useEffect=function(E,D){return le.current.useEffect(E,D)},ze.useId=function(){return le.current.useId()},ze.useImperativeHandle=function(E,D,K){return le.current.useImperativeHandle(E,D,K)},ze.useInsertionEffect=function(E,D){return le.current.useInsertionEffect(E,D)},ze.useLayoutEffect=function(E,D){return le.current.useLayoutEffect(E,D)},ze.useMemo=function(E,D){return le.current.useMemo(E,D)},ze.useReducer=function(E,D,K){return le.current.useReducer(E,D,K)},ze.useRef=function(E){return le.current.useRef(E)},ze.useState=function(E){return le.current.useState(E)},ze.useSyncExternalStore=function(E,D,K){return le.current.useSyncExternalStore(E,D,K)},ze.useTransition=function(){return le.current.useTransition()},ze.version="18.3.1",ze}var ig;function Jl(){return ig||(ig=1,nd.exports=n1()),nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function s1(){if(og)return xo;og=1;var t=Jl(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var p,y={},x=null,w=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)s.call(h,p)&&!l.hasOwnProperty(p)&&(y[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:e,type:d,key:x,ref:w,props:y,_owner:o.current}}return xo.Fragment=r,xo.jsx=u,xo.jsxs=u,xo}var ag;function i1(){return ag||(ag=1,rd.exports=s1()),rd.exports}var a=i1(),b=Jl();const Je=Ss(b),Pv=t1({__proto__:null,default:Je},[b]);var gl={},sd={exports:{}},Kt={},id={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function o1(){return lg||(lg=1,(function(t){function e(H,ee){var te=H.length;H.push(ee);e:for(;0<te;){var E=te-1>>>1,D=H[E];if(0<o(D,ee))H[E]=ee,H[te]=D,te=E;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ee=H[0],te=H.pop();if(te!==ee){H[0]=te;e:for(var E=0,D=H.length,K=D>>>1;E<K;){var ce=2*(E+1)-1,xe=H[ce],pe=ce+1,be=H[pe];if(0>o(xe,te))pe<D&&0>o(be,xe)?(H[E]=be,H[pe]=te,E=pe):(H[E]=xe,H[ce]=te,E=ce);else if(pe<D&&0>o(be,te))H[E]=be,H[pe]=te,E=pe;else break e}}return ee}function o(H,ee){var te=H.sortIndex-ee.sortIndex;return te!==0?te:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],p=1,y=null,x=3,w=!1,j=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var ee=r(m);ee!==null;){if(ee.callback===null)s(m);else if(ee.startTime<=H)s(m),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=r(m)}}function A(H){if(C=!1,_(H),!j)if(r(h)!==null)j=!0,he(F);else{var ee=r(m);ee!==null&&le(A,ee.startTime-H)}}function F(H,ee){j=!1,C&&(C=!1,O(W),W=-1),w=!0;var te=x;try{for(_(ee),y=r(h);y!==null&&(!(y.expirationTime>ee)||H&&!ge());){var E=y.callback;if(typeof E=="function"){y.callback=null,x=y.priorityLevel;var D=E(y.expirationTime<=ee);ee=t.unstable_now(),typeof D=="function"?y.callback=D:y===r(h)&&s(h),_(ee)}else s(h);y=r(h)}if(y!==null)var K=!0;else{var ce=r(m);ce!==null&&le(A,ce.startTime-ee),K=!1}return K}finally{y=null,x=te,w=!1}}var M=!1,I=null,W=-1,Z=5,B=-1;function ge(){return!(t.unstable_now()-B<Z)}function ie(){if(I!==null){var H=t.unstable_now();B=H;var ee=!0;try{ee=I(!0,H)}finally{ee?X():(M=!1,I=null)}}else M=!1}var X;if(typeof k=="function")X=function(){k(ie)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ue=z.port2;z.port1.onmessage=ie,X=function(){ue.postMessage(null)}}else X=function(){N(ie,0)};function he(H){I=H,M||(M=!0,X())}function le(H,ee){W=N(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){j||w||(j=!0,he(F))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var te=x;x=ee;try{return H()}finally{x=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=x;x=H;try{return ee()}finally{x=te}},t.unstable_scheduleCallback=function(H,ee,te){var E=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?E+te:E):te=E,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,H={id:p++,callback:ee,priorityLevel:H,startTime:te,expirationTime:D,sortIndex:-1},te>E?(H.sortIndex=te,e(m,H),r(h)===null&&H===r(m)&&(C?(O(W),W=-1):C=!0,le(A,te-E))):(H.sortIndex=D,e(h,H),j||w||(j=!0,he(F))),H},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(H){var ee=x;return function(){var te=x;x=ee;try{return H.apply(this,arguments)}finally{x=te}}}})(od)),od}var cg;function a1(){return cg||(cg=1,id.exports=o1()),id.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function l1(){if(ug)return Kt;ug=1;var t=Jl(),e=a1();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function x(n){return h.call(y,n)?!0:h.call(p,n)?!1:m.test(n)?y[n]=!0:(p[n]=!0,!1)}function w(n,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,c,f){if(i===null||typeof i>"u"||w(n,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(n,i,c,f,g,v,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=S}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){N[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];N[i]=new C(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){N[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){N[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){N[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){N[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){N[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){N[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){N[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function k(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(O,k);N[i]=new C(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(O,k);N[i]=new C(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(O,k);N[i]=new C(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){N[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),N.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){N[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function _(n,i,c,f){var g=N.hasOwnProperty(i)?N[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,c,g,f)&&(c=null),f||g===null?x(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):g.mustUseProperty?n[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?n.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?n.setAttributeNS(f,i,c):n.setAttribute(i,c))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),M=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ge=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),H=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,E;function D(n){if(E===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+n}var K=!1;function ce(n,i){if(!n||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var f=G}Reflect.construct(n,[],i)}else{try{i.call()}catch(G){f=G}n.call(i.prototype)}else{try{throw Error()}catch(G){f=G}n()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),v=f.stack.split(`
`),S=g.length-1,R=v.length-1;1<=S&&0<=R&&g[S]!==v[R];)R--;for(;1<=S&&0<=R;S--,R--)if(g[S]!==v[R]){if(S!==1||R!==1)do if(S--,R--,0>R||g[S]!==v[R]){var L=`
`+g[S].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=S&&0<=R);break}}}finally{K=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?D(n):""}function xe(n){switch(n.tag){case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return n=ce(n.type,!1),n;case 11:return n=ce(n.type.render,!1),n;case 1:return n=ce(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case M:return"Portal";case Z:return"Profiler";case W:return"StrictMode";case X:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ge:return(n.displayName||"Context")+".Consumer";case B:return(n._context.displayName||"Context")+".Provider";case ie:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ue:return i=n.displayName||null,i!==null?i:pe(n.type)||"Memo";case he:i=n._payload,n=n._init;try{return pe(n(i))}catch{}}return null}function be(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ye(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qe(n){var i=Oe(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,v.call(this,S)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Y(n){n._valueTracker||(n._valueTracker=qe(n))}function $e(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return n&&(f=Oe(n)?n.checked?"true":"false":n.value),n=f,n!==c?(i.setValue(n),!0):!1}function Ce(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function T(n,i){var c=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function de(n,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=ye(i.value!=null?i.value:c),n._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function J(n,i){i=i.checked,i!=null&&_(n,"checked",i,!1)}function Te(n,i){J(n,i);var c=ye(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Q(n,i.type,c):i.hasOwnProperty("defaultValue")&&Q(n,i.type,ye(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ae(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Q(n,i,c){(i!=="number"||Ce(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var ke=Array.isArray;function Re(n,i,c,f){if(n=n.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<n.length;c++)g=i.hasOwnProperty("$"+n[c].value),n[c].selected!==g&&(n[c].selected=g),g&&f&&(n[c].defaultSelected=!0)}else{for(c=""+ye(c),i=null,g=0;g<n.length;g++){if(n[g].value===c){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Ve(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function it(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(ke(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ye(c)}}function vt(n,i){var c=ye(i.value),f=ye(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),f!=null&&(n.defaultValue=""+f)}function ht(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function De(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?De(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qn,As=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return n(i,c,f,g)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Hn(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xc=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(n){xc.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Gn[i]=Gn[n]})});function ia(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Gn.hasOwnProperty(n)&&Gn[n]?(""+i).trim():i+"px"}function oa(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=ia(c,i[c],f);c==="float"&&(c="cssFloat"),f?n.setProperty(c,g):n[c]=g}}var wc=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rs(n,i){if(i){if(wc[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Os(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Li=null,Rr=null,cn=null;function aa(n){if(n=no(n)){if(typeof Li!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Aa(i),Li(n.stateNode,n.type,i))}}function la(n){Rr?cn?cn.push(n):cn=[n]:Rr=n}function ca(){if(Rr){var n=Rr,i=cn;if(cn=Rr=null,aa(n),i)for(n=0;n<i.length;n++)aa(i[n])}}function Ds(n,i){return n(i)}function ua(){}var qr=!1;function Kn(n,i,c){if(qr)return n(i,c);qr=!0;try{return Ds(n,i,c)}finally{qr=!1,(Rr!==null||cn!==null)&&(ua(),ca())}}function Qn(n,i){var c=n.stateNode;if(c===null)return null;var f=Aa(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var $i=!1;if(d)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{$i=!1}function P(n,i,c,f,g,v,S,R,L){var G=Array.prototype.slice.call(arguments,3);try{i.apply(c,G)}catch(ne){this.onError(ne)}}var U=!1,we=null,Ue=!1,Ge=null,dt={onError:function(n){U=!0,we=n}};function bc(n,i,c,f,g,v,S,R,L){U=!1,we=null,P.apply(dt,arguments)}function ub(n,i,c,f,g,v,S,R,L){if(bc.apply(this,arguments),U){if(U){var G=we;U=!1,we=null}else throw Error(r(198));Ue||(Ue=!0,Ge=G)}}function Yn(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function kh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Eh(n){if(Yn(n)!==n)throw Error(r(188))}function db(n){var i=n.alternate;if(!i){if(i=Yn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,f=i;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return Eh(g),n;if(v===f)return Eh(g),i;v=v.sibling}throw Error(r(188))}if(c.return!==f.return)c=g,f=v;else{for(var S=!1,R=g.child;R;){if(R===c){S=!0,c=g,f=v;break}if(R===f){S=!0,f=g,c=v;break}R=R.sibling}if(!S){for(R=v.child;R;){if(R===c){S=!0,c=v,f=g;break}if(R===f){S=!0,f=v,c=g;break}R=R.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function Ph(n){return n=db(n),n!==null?Th(n):null}function Th(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Th(n);if(i!==null)return i;n=n.sibling}return null}var Ah=e.unstable_scheduleCallback,Rh=e.unstable_cancelCallback,fb=e.unstable_shouldYield,hb=e.unstable_requestPaint,mt=e.unstable_now,mb=e.unstable_getCurrentPriorityLevel,Cc=e.unstable_ImmediatePriority,Oh=e.unstable_UserBlockingPriority,da=e.unstable_NormalPriority,pb=e.unstable_LowPriority,Mh=e.unstable_IdlePriority,fa=null,Or=null;function gb(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(fa,n,void 0,(n.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:xb,yb=Math.log,vb=Math.LN2;function xb(n){return n>>>=0,n===0?32:31-(yb(n)/vb|0)|0}var ha=64,ma=4194304;function Fi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pa(n,i){var c=n.pendingLanes;if(c===0)return 0;var f=0,g=n.suspendedLanes,v=n.pingedLanes,S=c&268435455;if(S!==0){var R=S&~g;R!==0?f=Fi(R):(v&=S,v!==0&&(f=Fi(v)))}else S=c&~g,S!==0?f=Fi(S):v!==0&&(f=Fi(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=f;0<i;)c=31-vr(i),g=1<<c,f|=n[c],i&=~g;return f}function wb(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bb(n,i){for(var c=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,v=n.pendingLanes;0<v;){var S=31-vr(v),R=1<<S,L=g[S];L===-1?((R&c)===0||(R&f)!==0)&&(g[S]=wb(R,i)):L<=i&&(n.expiredLanes|=R),v&=~R}}function _c(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ih(){var n=ha;return ha<<=1,(ha&4194240)===0&&(ha=64),n}function jc(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Ui(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-vr(i),n[i]=c}function Cb(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<c;){var g=31-vr(c),v=1<<g;i[g]=0,f[g]=-1,n[g]=-1,c&=~v}}function Sc(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var f=31-vr(c),g=1<<f;g&i|n[f]&i&&(n[f]|=i),c&=~g}}var Xe=0;function Dh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Lh,Nc,$h,Fh,Uh,kc=!1,ga=[],un=null,dn=null,fn=null,Bi=new Map,Vi=new Map,hn=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bh(n,i){switch(n){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(i.pointerId)}}function zi(n,i,c,f,g,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},i!==null&&(i=no(i),i!==null&&Nc(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function jb(n,i,c,f,g){switch(i){case"focusin":return un=zi(un,n,i,c,f,g),!0;case"dragenter":return dn=zi(dn,n,i,c,f,g),!0;case"mouseover":return fn=zi(fn,n,i,c,f,g),!0;case"pointerover":var v=g.pointerId;return Bi.set(v,zi(Bi.get(v)||null,n,i,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Vi.set(v,zi(Vi.get(v)||null,n,i,c,f,g)),!0}return!1}function Vh(n){var i=Jn(n.target);if(i!==null){var c=Yn(i);if(c!==null){if(i=c.tag,i===13){if(i=kh(c),i!==null){n.blockedOn=i,Uh(n.priority,function(){$h(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ya(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Pc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var f=new c.constructor(c.type,c);Ms=f,c.target.dispatchEvent(f),Ms=null}else return i=no(c),i!==null&&Nc(i),n.blockedOn=c,!1;i.shift()}return!0}function zh(n,i,c){ya(n)&&c.delete(i)}function Sb(){kc=!1,un!==null&&ya(un)&&(un=null),dn!==null&&ya(dn)&&(dn=null),fn!==null&&ya(fn)&&(fn=null),Bi.forEach(zh),Vi.forEach(zh)}function Wi(n,i){n.blockedOn===i&&(n.blockedOn=null,kc||(kc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sb)))}function qi(n){function i(g){return Wi(g,n)}if(0<ga.length){Wi(ga[0],n);for(var c=1;c<ga.length;c++){var f=ga[c];f.blockedOn===n&&(f.blockedOn=null)}}for(un!==null&&Wi(un,n),dn!==null&&Wi(dn,n),fn!==null&&Wi(fn,n),Bi.forEach(i),Vi.forEach(i),c=0;c<hn.length;c++)f=hn[c],f.blockedOn===n&&(f.blockedOn=null);for(;0<hn.length&&(c=hn[0],c.blockedOn===null);)Vh(c),c.blockedOn===null&&hn.shift()}var Ls=A.ReactCurrentBatchConfig,va=!0;function Nb(n,i,c,f){var g=Xe,v=Ls.transition;Ls.transition=null;try{Xe=1,Ec(n,i,c,f)}finally{Xe=g,Ls.transition=v}}function kb(n,i,c,f){var g=Xe,v=Ls.transition;Ls.transition=null;try{Xe=4,Ec(n,i,c,f)}finally{Xe=g,Ls.transition=v}}function Ec(n,i,c,f){if(va){var g=Pc(n,i,c,f);if(g===null)Hc(n,i,f,xa,c),Bh(n,f);else if(jb(g,n,i,c,f))f.stopPropagation();else if(Bh(n,f),i&4&&-1<_b.indexOf(n)){for(;g!==null;){var v=no(g);if(v!==null&&Lh(v),v=Pc(n,i,c,f),v===null&&Hc(n,i,f,xa,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else Hc(n,i,f,null,c)}}var xa=null;function Pc(n,i,c,f){if(xa=null,n=Is(f),n=Jn(n),n!==null)if(i=Yn(n),i===null)n=null;else if(c=i.tag,c===13){if(n=kh(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return xa=n,null}function Wh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mb()){case Cc:return 1;case Oh:return 4;case da:case pb:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var mn=null,Tc=null,wa=null;function qh(){if(wa)return wa;var n,i=Tc,c=i.length,f,g="value"in mn?mn.value:mn.textContent,v=g.length;for(n=0;n<c&&i[n]===g[n];n++);var S=c-n;for(f=1;f<=S&&i[c-f]===g[v-f];f++);return wa=g.slice(n,1<f?1-f:void 0)}function ba(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ca(){return!0}function Hh(){return!1}function Jt(n){function i(c,f,g,v,S){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(c=n[R],this[R]=c?c(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ca:Hh,this.isPropagationStopped=Hh,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),i}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Jt($s),Hi=te({},$s,{view:0,detail:0}),Eb=Jt(Hi),Rc,Oc,Gi,_a=te({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gi&&(Gi&&n.type==="mousemove"?(Rc=n.screenX-Gi.screenX,Oc=n.screenY-Gi.screenY):Oc=Rc=0,Gi=n),Rc)},movementY:function(n){return"movementY"in n?n.movementY:Oc}}),Gh=Jt(_a),Pb=te({},_a,{dataTransfer:0}),Tb=Jt(Pb),Ab=te({},Hi,{relatedTarget:0}),Mc=Jt(Ab),Rb=te({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),Ob=Jt(Rb),Mb=te({},$s,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ib=Jt(Mb),Db=te({},$s,{data:0}),Kh=Jt(Db),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ub(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Fb[n])?!!i[n]:!1}function Ic(){return Ub}var Bb=te({},Hi,{key:function(n){if(n.key){var i=Lb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ba(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$b[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(n){return n.type==="keypress"?ba(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ba(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Vb=Jt(Bb),zb=te({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=Jt(zb),Wb=te({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),qb=Jt(Wb),Hb=te({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=Jt(Hb),Kb=te({},_a,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Jt(Kb),Xb=[9,13,27,32],Dc=d&&"CompositionEvent"in window,Ki=null;d&&"documentMode"in document&&(Ki=document.documentMode);var Yb=d&&"TextEvent"in window&&!Ki,Xh=d&&(!Dc||Ki&&8<Ki&&11>=Ki),Yh=" ",Jh=!1;function Zh(n,i){switch(n){case"keyup":return Xb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fs=!1;function Jb(n,i){switch(n){case"compositionend":return em(i);case"keypress":return i.which!==32?null:(Jh=!0,Yh);case"textInput":return n=i.data,n===Yh&&Jh?null:n;default:return null}}function Zb(n,i){if(Fs)return n==="compositionend"||!Dc&&Zh(n,i)?(n=qh(),wa=Tc=mn=null,Fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xh&&i.locale!=="ko"?null:i.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!eC[n.type]:i==="textarea"}function rm(n,i,c,f){la(f),i=Ea(i,"onChange"),0<i.length&&(c=new Ac("onChange","change",null,c,f),n.push({event:c,listeners:i}))}var Qi=null,Xi=null;function tC(n){wm(n,0)}function ja(n){var i=Ws(n);if($e(i))return n}function rC(n,i){if(n==="change")return i}var nm=!1;if(d){var Lc;if(d){var $c="oninput"in document;if(!$c){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),$c=typeof sm.oninput=="function"}Lc=$c}else Lc=!1;nm=Lc&&(!document.documentMode||9<document.documentMode)}function im(){Qi&&(Qi.detachEvent("onpropertychange",om),Xi=Qi=null)}function om(n){if(n.propertyName==="value"&&ja(Xi)){var i=[];rm(i,Xi,n,Is(n)),Kn(tC,i)}}function nC(n,i,c){n==="focusin"?(im(),Qi=i,Xi=c,Qi.attachEvent("onpropertychange",om)):n==="focusout"&&im()}function sC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ja(Xi)}function iC(n,i){if(n==="click")return ja(i)}function oC(n,i){if(n==="input"||n==="change")return ja(i)}function aC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xr=typeof Object.is=="function"?Object.is:aC;function Yi(n,i){if(xr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(i,g)||!xr(n[g],i[g]))return!1}return!0}function am(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lm(n,i){var c=am(n);n=0;for(var f;c;){if(c.nodeType===3){if(f=n+c.textContent.length,n<=i&&f>=i)return{node:c,offset:i-n};n=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=am(c)}}function cm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?cm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function um(){for(var n=window,i=Ce();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Ce(n.document)}return i}function Fc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function lC(n){var i=um(),c=n.focusedElem,f=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&cm(c.ownerDocument.documentElement,c)){if(f!==null&&Fc(c)){if(i=f.start,n=f.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!n.extend&&v>f&&(g=f,f=v,v=g),g=lm(c,v);var S=lm(c,f);g&&S&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),n.removeAllRanges(),v>f?(n.addRange(i),n.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cC=d&&"documentMode"in document&&11>=document.documentMode,Us=null,Uc=null,Ji=null,Bc=!1;function dm(n,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Bc||Us==null||Us!==Ce(f)||(f=Us,"selectionStart"in f&&Fc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ji&&Yi(Ji,f)||(Ji=f,f=Ea(Uc,"onSelect"),0<f.length&&(i=new Ac("onSelect","select",null,i,c),n.push({event:i,listeners:f}),i.target=Us)))}function Sa(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Bs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Vc={},fm={};d&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Na(n){if(Vc[n])return Vc[n];if(!Bs[n])return n;var i=Bs[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in fm)return Vc[n]=i[c];return n}var hm=Na("animationend"),mm=Na("animationiteration"),pm=Na("animationstart"),gm=Na("transitionend"),ym=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(n,i){ym.set(n,i),l(i,[n])}for(var zc=0;zc<vm.length;zc++){var Wc=vm[zc],uC=Wc.toLowerCase(),dC=Wc[0].toUpperCase()+Wc.slice(1);pn(uC,"on"+dC)}pn(hm,"onAnimationEnd"),pn(mm,"onAnimationIteration"),pn(pm,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(gm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function xm(n,i,c){var f=n.type||"unknown-event";n.currentTarget=c,ub(f,i,void 0,n),n.currentTarget=null}function wm(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var f=n[c],g=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var S=f.length-1;0<=S;S--){var R=f[S],L=R.instance,G=R.currentTarget;if(R=R.listener,L!==v&&g.isPropagationStopped())break e;xm(g,R,G),v=L}else for(S=0;S<f.length;S++){if(R=f[S],L=R.instance,G=R.currentTarget,R=R.listener,L!==v&&g.isPropagationStopped())break e;xm(g,R,G),v=L}}}if(Ue)throw n=Ge,Ue=!1,Ge=null,n}function rt(n,i){var c=i[Jc];c===void 0&&(c=i[Jc]=new Set);var f=n+"__bubble";c.has(f)||(bm(i,n,2,!1),c.add(f))}function qc(n,i,c){var f=0;i&&(f|=4),bm(c,n,f,i)}var ka="_reactListening"+Math.random().toString(36).slice(2);function eo(n){if(!n[ka]){n[ka]=!0,s.forEach(function(c){c!=="selectionchange"&&(fC.has(c)||qc(c,!1,n),qc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ka]||(i[ka]=!0,qc("selectionchange",!1,i))}}function bm(n,i,c,f){switch(Wh(i)){case 1:var g=Nb;break;case 4:g=kb;break;default:g=Ec}c=g.bind(null,i,c,n),g=void 0,!$i||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,c,{capture:!0,passive:g}):n.addEventListener(i,c,!0):g!==void 0?n.addEventListener(i,c,{passive:g}):n.addEventListener(i,c,!1)}function Hc(n,i,c,f,g){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;S=S.return}for(;R!==null;){if(S=Jn(R),S===null)return;if(L=S.tag,L===5||L===6){f=v=S;continue e}R=R.parentNode}}f=f.return}Kn(function(){var G=v,ne=Is(c),oe=[];e:{var re=ym.get(n);if(re!==void 0){var _e=Ac,Se=n;switch(n){case"keypress":if(ba(c)===0)break e;case"keydown":case"keyup":_e=Vb;break;case"focusin":Se="focus",_e=Mc;break;case"focusout":Se="blur",_e=Mc;break;case"beforeblur":case"afterblur":_e=Mc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=qb;break;case hm:case mm:case pm:_e=Ob;break;case gm:_e=Gb;break;case"scroll":_e=Eb;break;case"wheel":_e=Qb;break;case"copy":case"cut":case"paste":_e=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Qh}var Ne=(i&4)!==0,pt=!Ne&&n==="scroll",V=Ne?re!==null?re+"Capture":null:re;Ne=[];for(var $=G,q;$!==null;){q=$;var fe=q.stateNode;if(q.tag===5&&fe!==null&&(q=fe,V!==null&&(fe=Qn($,V),fe!=null&&Ne.push(to($,fe,q)))),pt)break;$=$.return}0<Ne.length&&(re=new _e(re,Se,null,c,ne),oe.push({event:re,listeners:Ne}))}}if((i&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",_e=n==="mouseout"||n==="pointerout",re&&c!==Ms&&(Se=c.relatedTarget||c.fromElement)&&(Jn(Se)||Se[Hr]))break e;if((_e||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,_e?(Se=c.relatedTarget||c.toElement,_e=G,Se=Se?Jn(Se):null,Se!==null&&(pt=Yn(Se),Se!==pt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(_e=null,Se=G),_e!==Se)){if(Ne=Gh,fe="onMouseLeave",V="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=Qh,fe="onPointerLeave",V="onPointerEnter",$="pointer"),pt=_e==null?re:Ws(_e),q=Se==null?re:Ws(Se),re=new Ne(fe,$+"leave",_e,c,ne),re.target=pt,re.relatedTarget=q,fe=null,Jn(ne)===G&&(Ne=new Ne(V,$+"enter",Se,c,ne),Ne.target=q,Ne.relatedTarget=pt,fe=Ne),pt=fe,_e&&Se)t:{for(Ne=_e,V=Se,$=0,q=Ne;q;q=Vs(q))$++;for(q=0,fe=V;fe;fe=Vs(fe))q++;for(;0<$-q;)Ne=Vs(Ne),$--;for(;0<q-$;)V=Vs(V),q--;for(;$--;){if(Ne===V||V!==null&&Ne===V.alternate)break t;Ne=Vs(Ne),V=Vs(V)}Ne=null}else Ne=null;_e!==null&&Cm(oe,re,_e,Ne,!1),Se!==null&&pt!==null&&Cm(oe,pt,Se,Ne,!0)}}e:{if(re=G?Ws(G):window,_e=re.nodeName&&re.nodeName.toLowerCase(),_e==="select"||_e==="input"&&re.type==="file")var Ee=rC;else if(tm(re))if(nm)Ee=oC;else{Ee=sC;var Me=nC}else(_e=re.nodeName)&&_e.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=iC);if(Ee&&(Ee=Ee(n,G))){rm(oe,Ee,c,ne);break e}Me&&Me(n,re,G),n==="focusout"&&(Me=re._wrapperState)&&Me.controlled&&re.type==="number"&&Q(re,"number",re.value)}switch(Me=G?Ws(G):window,n){case"focusin":(tm(Me)||Me.contentEditable==="true")&&(Us=Me,Uc=G,Ji=null);break;case"focusout":Ji=Uc=Us=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,dm(oe,c,ne);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":dm(oe,c,ne)}var Ie;if(Dc)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Fs?Zh(n,c)&&(Fe="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(Xh&&c.locale!=="ko"&&(Fs||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Fs&&(Ie=qh()):(mn=ne,Tc="value"in mn?mn.value:mn.textContent,Fs=!0)),Me=Ea(G,Fe),0<Me.length&&(Fe=new Kh(Fe,n,null,c,ne),oe.push({event:Fe,listeners:Me}),Ie?Fe.data=Ie:(Ie=em(c),Ie!==null&&(Fe.data=Ie)))),(Ie=Yb?Jb(n,c):Zb(n,c))&&(G=Ea(G,"onBeforeInput"),0<G.length&&(ne=new Kh("onBeforeInput","beforeinput",null,c,ne),oe.push({event:ne,listeners:G}),ne.data=Ie))}wm(oe,i)})}function to(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ea(n,i){for(var c=i+"Capture",f=[];n!==null;){var g=n,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Qn(n,c),v!=null&&f.unshift(to(n,v,g)),v=Qn(n,i),v!=null&&f.push(to(n,v,g))),n=n.return}return f}function Vs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Cm(n,i,c,f,g){for(var v=i._reactName,S=[];c!==null&&c!==f;){var R=c,L=R.alternate,G=R.stateNode;if(L!==null&&L===f)break;R.tag===5&&G!==null&&(R=G,g?(L=Qn(c,v),L!=null&&S.unshift(to(c,L,R))):g||(L=Qn(c,v),L!=null&&S.push(to(c,L,R)))),c=c.return}S.length!==0&&n.push({event:i,listeners:S})}var hC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function _m(n){return(typeof n=="string"?n:""+n).replace(hC,`
`).replace(mC,"")}function Pa(n,i,c){if(i=_m(i),_m(n)!==i&&c)throw Error(r(425))}function Ta(){}var Gc=null,Kc=null;function Qc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,pC=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(n){return jm.resolve(null).then(n).catch(yC)}:Xc;function yC(n){setTimeout(function(){throw n})}function Yc(n,i){var c=i,f=0;do{var g=c.nextSibling;if(n.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){n.removeChild(g),qi(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);qi(i)}function gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Sm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Mr="__reactFiber$"+zs,ro="__reactProps$"+zs,Hr="__reactContainer$"+zs,Jc="__reactEvents$"+zs,vC="__reactListeners$"+zs,xC="__reactHandles$"+zs;function Jn(n){var i=n[Mr];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Hr]||c[Mr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Sm(n);n!==null;){if(c=n[Mr])return c;n=Sm(n)}return i}n=c,c=n.parentNode}return null}function no(n){return n=n[Mr]||n[Hr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ws(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Aa(n){return n[ro]||null}var Zc=[],qs=-1;function yn(n){return{current:n}}function nt(n){0>qs||(n.current=Zc[qs],Zc[qs]=null,qs--)}function Ze(n,i){qs++,Zc[qs]=n.current,n.current=i}var vn={},Ot=yn(vn),zt=yn(!1),Zn=vn;function Hs(n,i){var c=n.type.contextTypes;if(!c)return vn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=i[v];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=g),g}function Wt(n){return n=n.childContextTypes,n!=null}function Ra(){nt(zt),nt(Ot)}function Nm(n,i,c){if(Ot.current!==vn)throw Error(r(168));Ze(Ot,i),Ze(zt,c)}function km(n,i,c){var f=n.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(r(108,be(n)||"Unknown",g));return te({},c,f)}function Oa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vn,Zn=Ot.current,Ze(Ot,n),Ze(zt,zt.current),!0}function Em(n,i,c){var f=n.stateNode;if(!f)throw Error(r(169));c?(n=km(n,i,Zn),f.__reactInternalMemoizedMergedChildContext=n,nt(zt),nt(Ot),Ze(Ot,n)):nt(zt),Ze(zt,c)}var Gr=null,Ma=!1,eu=!1;function Pm(n){Gr===null?Gr=[n]:Gr.push(n)}function wC(n){Ma=!0,Pm(n)}function xn(){if(!eu&&Gr!==null){eu=!0;var n=0,i=Xe;try{var c=Gr;for(Xe=1;n<c.length;n++){var f=c[n];do f=f(!0);while(f!==null)}Gr=null,Ma=!1}catch(g){throw Gr!==null&&(Gr=Gr.slice(n+1)),Ah(Cc,xn),g}finally{Xe=i,eu=!1}}return null}var Gs=[],Ks=0,Ia=null,Da=0,ir=[],or=0,es=null,Kr=1,Qr="";function ts(n,i){Gs[Ks++]=Da,Gs[Ks++]=Ia,Ia=n,Da=i}function Tm(n,i,c){ir[or++]=Kr,ir[or++]=Qr,ir[or++]=es,es=n;var f=Kr;n=Qr;var g=32-vr(f)-1;f&=~(1<<g),c+=1;var v=32-vr(i)+g;if(30<v){var S=g-g%5;v=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Kr=1<<32-vr(i)+g|c<<g|f,Qr=v+n}else Kr=1<<v|c<<g|f,Qr=n}function tu(n){n.return!==null&&(ts(n,1),Tm(n,1,0))}function ru(n){for(;n===Ia;)Ia=Gs[--Ks],Gs[Ks]=null,Da=Gs[--Ks],Gs[Ks]=null;for(;n===es;)es=ir[--or],ir[or]=null,Qr=ir[--or],ir[or]=null,Kr=ir[--or],ir[or]=null}var Zt=null,er=null,ot=!1,wr=null;function Am(n,i){var c=ur(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Rm(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Zt=n,er=gn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Zt=n,er=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=es!==null?{id:Kr,overflow:Qr}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=ur(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Zt=n,er=null,!0):!1;default:return!1}}function nu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function su(n){if(ot){var i=er;if(i){var c=i;if(!Rm(n,i)){if(nu(n))throw Error(r(418));i=gn(c.nextSibling);var f=Zt;i&&Rm(n,i)?Am(f,c):(n.flags=n.flags&-4097|2,ot=!1,Zt=n)}}else{if(nu(n))throw Error(r(418));n.flags=n.flags&-4097|2,ot=!1,Zt=n}}}function Om(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zt=n}function La(n){if(n!==Zt)return!1;if(!ot)return Om(n),ot=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Qc(n.type,n.memoizedProps)),i&&(i=er)){if(nu(n))throw Mm(),Error(r(418));for(;i;)Am(n,i),i=gn(i.nextSibling)}if(Om(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){er=gn(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}er=null}}else er=Zt?gn(n.stateNode.nextSibling):null;return!0}function Mm(){for(var n=er;n;)n=gn(n.nextSibling)}function Qs(){er=Zt=null,ot=!1}function iu(n){wr===null?wr=[n]:wr.push(n)}var bC=A.ReactCurrentBatchConfig;function so(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var f=c.stateNode}if(!f)throw Error(r(147,n));var g=f,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(S){var R=g.refs;S===null?delete R[v]:R[v]=S},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function $a(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Im(n){var i=n._init;return i(n._payload)}function Dm(n){function i(V,$){if(n){var q=V.deletions;q===null?(V.deletions=[$],V.flags|=16):q.push($)}}function c(V,$){if(!n)return null;for(;$!==null;)i(V,$),$=$.sibling;return null}function f(V,$){for(V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function g(V,$){return V=kn(V,$),V.index=0,V.sibling=null,V}function v(V,$,q){return V.index=q,n?(q=V.alternate,q!==null?(q=q.index,q<$?(V.flags|=2,$):q):(V.flags|=2,$)):(V.flags|=1048576,$)}function S(V){return n&&V.alternate===null&&(V.flags|=2),V}function R(V,$,q,fe){return $===null||$.tag!==6?($=Xu(q,V.mode,fe),$.return=V,$):($=g($,q),$.return=V,$)}function L(V,$,q,fe){var Ee=q.type;return Ee===I?ne(V,$,q.props.children,fe,q.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===he&&Im(Ee)===$.type)?(fe=g($,q.props),fe.ref=so(V,$,q),fe.return=V,fe):(fe=ll(q.type,q.key,q.props,null,V.mode,fe),fe.ref=so(V,$,q),fe.return=V,fe)}function G(V,$,q,fe){return $===null||$.tag!==4||$.stateNode.containerInfo!==q.containerInfo||$.stateNode.implementation!==q.implementation?($=Yu(q,V.mode,fe),$.return=V,$):($=g($,q.children||[]),$.return=V,$)}function ne(V,$,q,fe,Ee){return $===null||$.tag!==7?($=cs(q,V.mode,fe,Ee),$.return=V,$):($=g($,q),$.return=V,$)}function oe(V,$,q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Xu(""+$,V.mode,q),$.return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case F:return q=ll($.type,$.key,$.props,null,V.mode,q),q.ref=so(V,null,$),q.return=V,q;case M:return $=Yu($,V.mode,q),$.return=V,$;case he:var fe=$._init;return oe(V,fe($._payload),q)}if(ke($)||ee($))return $=cs($,V.mode,q,null),$.return=V,$;$a(V,$)}return null}function re(V,$,q,fe){var Ee=$!==null?$.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:R(V,$,""+q,fe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===Ee?L(V,$,q,fe):null;case M:return q.key===Ee?G(V,$,q,fe):null;case he:return Ee=q._init,re(V,$,Ee(q._payload),fe)}if(ke(q)||ee(q))return Ee!==null?null:ne(V,$,q,fe,null);$a(V,q)}return null}function _e(V,$,q,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return V=V.get(q)||null,R($,V,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case F:return V=V.get(fe.key===null?q:fe.key)||null,L($,V,fe,Ee);case M:return V=V.get(fe.key===null?q:fe.key)||null,G($,V,fe,Ee);case he:var Me=fe._init;return _e(V,$,q,Me(fe._payload),Ee)}if(ke(fe)||ee(fe))return V=V.get(q)||null,ne($,V,fe,Ee,null);$a($,fe)}return null}function Se(V,$,q,fe){for(var Ee=null,Me=null,Ie=$,Fe=$=0,Et=null;Ie!==null&&Fe<q.length;Fe++){Ie.index>Fe?(Et=Ie,Ie=null):Et=Ie.sibling;var Qe=re(V,Ie,q[Fe],fe);if(Qe===null){Ie===null&&(Ie=Et);break}n&&Ie&&Qe.alternate===null&&i(V,Ie),$=v(Qe,$,Fe),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe,Ie=Et}if(Fe===q.length)return c(V,Ie),ot&&ts(V,Fe),Ee;if(Ie===null){for(;Fe<q.length;Fe++)Ie=oe(V,q[Fe],fe),Ie!==null&&($=v(Ie,$,Fe),Me===null?Ee=Ie:Me.sibling=Ie,Me=Ie);return ot&&ts(V,Fe),Ee}for(Ie=f(V,Ie);Fe<q.length;Fe++)Et=_e(Ie,V,Fe,q[Fe],fe),Et!==null&&(n&&Et.alternate!==null&&Ie.delete(Et.key===null?Fe:Et.key),$=v(Et,$,Fe),Me===null?Ee=Et:Me.sibling=Et,Me=Et);return n&&Ie.forEach(function(En){return i(V,En)}),ot&&ts(V,Fe),Ee}function Ne(V,$,q,fe){var Ee=ee(q);if(typeof Ee!="function")throw Error(r(150));if(q=Ee.call(q),q==null)throw Error(r(151));for(var Me=Ee=null,Ie=$,Fe=$=0,Et=null,Qe=q.next();Ie!==null&&!Qe.done;Fe++,Qe=q.next()){Ie.index>Fe?(Et=Ie,Ie=null):Et=Ie.sibling;var En=re(V,Ie,Qe.value,fe);if(En===null){Ie===null&&(Ie=Et);break}n&&Ie&&En.alternate===null&&i(V,Ie),$=v(En,$,Fe),Me===null?Ee=En:Me.sibling=En,Me=En,Ie=Et}if(Qe.done)return c(V,Ie),ot&&ts(V,Fe),Ee;if(Ie===null){for(;!Qe.done;Fe++,Qe=q.next())Qe=oe(V,Qe.value,fe),Qe!==null&&($=v(Qe,$,Fe),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe);return ot&&ts(V,Fe),Ee}for(Ie=f(V,Ie);!Qe.done;Fe++,Qe=q.next())Qe=_e(Ie,V,Fe,Qe.value,fe),Qe!==null&&(n&&Qe.alternate!==null&&Ie.delete(Qe.key===null?Fe:Qe.key),$=v(Qe,$,Fe),Me===null?Ee=Qe:Me.sibling=Qe,Me=Qe);return n&&Ie.forEach(function(e1){return i(V,e1)}),ot&&ts(V,Fe),Ee}function pt(V,$,q,fe){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var Ee=q.key,Me=$;Me!==null;){if(Me.key===Ee){if(Ee=q.type,Ee===I){if(Me.tag===7){c(V,Me.sibling),$=g(Me,q.props.children),$.return=V,V=$;break e}}else if(Me.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===he&&Im(Ee)===Me.type){c(V,Me.sibling),$=g(Me,q.props),$.ref=so(V,Me,q),$.return=V,V=$;break e}c(V,Me);break}else i(V,Me);Me=Me.sibling}q.type===I?($=cs(q.props.children,V.mode,fe,q.key),$.return=V,V=$):(fe=ll(q.type,q.key,q.props,null,V.mode,fe),fe.ref=so(V,$,q),fe.return=V,V=fe)}return S(V);case M:e:{for(Me=q.key;$!==null;){if($.key===Me)if($.tag===4&&$.stateNode.containerInfo===q.containerInfo&&$.stateNode.implementation===q.implementation){c(V,$.sibling),$=g($,q.children||[]),$.return=V,V=$;break e}else{c(V,$);break}else i(V,$);$=$.sibling}$=Yu(q,V.mode,fe),$.return=V,V=$}return S(V);case he:return Me=q._init,pt(V,$,Me(q._payload),fe)}if(ke(q))return Se(V,$,q,fe);if(ee(q))return Ne(V,$,q,fe);$a(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,$!==null&&$.tag===6?(c(V,$.sibling),$=g($,q),$.return=V,V=$):(c(V,$),$=Xu(q,V.mode,fe),$.return=V,V=$),S(V)):c(V,$)}return pt}var Xs=Dm(!0),Lm=Dm(!1),Fa=yn(null),Ua=null,Ys=null,ou=null;function au(){ou=Ys=Ua=null}function lu(n){var i=Fa.current;nt(Fa),n._currentValue=i}function cu(n,i,c){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===c)break;n=n.return}}function Js(n,i){Ua=n,ou=Ys=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(qt=!0),n.firstContext=null)}function ar(n){var i=n._currentValue;if(ou!==n)if(n={context:n,memoizedValue:i,next:null},Ys===null){if(Ua===null)throw Error(r(308));Ys=n,Ua.dependencies={lanes:0,firstContext:n}}else Ys=Ys.next=n;return i}var rs=null;function uu(n){rs===null?rs=[n]:rs.push(n)}function $m(n,i,c,f){var g=i.interleaved;return g===null?(c.next=c,uu(i)):(c.next=g.next,g.next=c),i.interleaved=c,Xr(n,f)}function Xr(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var wn=!1;function du(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function bn(n,i,c){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,Xr(n,c)}return g=f.interleaved,g===null?(i.next=i,uu(f)):(i.next=g.next,g.next=i),f.interleaved=i,Xr(n,c)}function Ba(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=n.pendingLanes,c|=f,i.lanes=c,Sc(n,c)}}function Um(n,i){var c=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=i:v=v.next=i}else g=v=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Va(n,i,c,f){var g=n.updateQueue;wn=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var L=R,G=L.next;L.next=null,S===null?v=G:S.next=G,S=L;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==S&&(R===null?ne.firstBaseUpdate=G:R.next=G,ne.lastBaseUpdate=L))}if(v!==null){var oe=g.baseState;S=0,ne=G=L=null,R=v;do{var re=R.lane,_e=R.eventTime;if((f&re)===re){ne!==null&&(ne=ne.next={eventTime:_e,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Se=n,Ne=R;switch(re=i,_e=c,Ne.tag){case 1:if(Se=Ne.payload,typeof Se=="function"){oe=Se.call(_e,oe,re);break e}oe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ne.payload,re=typeof Se=="function"?Se.call(_e,oe,re):Se,re==null)break e;oe=te({},oe,re);break e;case 2:wn=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,re=g.effects,re===null?g.effects=[R]:re.push(R))}else _e={eventTime:_e,lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(G=ne=_e,L=oe):ne=ne.next=_e,S|=re;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;re=R,R=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ne===null&&(L=oe),g.baseState=L,g.firstBaseUpdate=G,g.lastBaseUpdate=ne,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);is|=S,n.lanes=S,n.memoizedState=oe}}function Bm(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var f=n[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var io={},Ir=yn(io),oo=yn(io),ao=yn(io);function ns(n){if(n===io)throw Error(r(174));return n}function fu(n,i){switch(Ze(ao,i),Ze(oo,n),Ze(Ir,io),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:yr(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=yr(i,n)}nt(Ir),Ze(Ir,i)}function Zs(){nt(Ir),nt(oo),nt(ao)}function Vm(n){ns(ao.current);var i=ns(Ir.current),c=yr(i,n.type);i!==c&&(Ze(oo,n),Ze(Ir,c))}function hu(n){oo.current===n&&(nt(Ir),nt(oo))}var at=yn(0);function za(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mu=[];function pu(){for(var n=0;n<mu.length;n++)mu[n]._workInProgressVersionPrimary=null;mu.length=0}var Wa=A.ReactCurrentDispatcher,gu=A.ReactCurrentBatchConfig,ss=0,lt=null,Ct=null,Nt=null,qa=!1,lo=!1,co=0,CC=0;function Mt(){throw Error(r(321))}function yu(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!xr(n[c],i[c]))return!1;return!0}function vu(n,i,c,f,g,v){if(ss=v,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Wa.current=n===null||n.memoizedState===null?NC:kC,n=c(f,g),lo){v=0;do{if(lo=!1,co=0,25<=v)throw Error(r(301));v+=1,Nt=Ct=null,i.updateQueue=null,Wa.current=EC,n=c(f,g)}while(lo)}if(Wa.current=Ka,i=Ct!==null&&Ct.next!==null,ss=0,Nt=Ct=lt=null,qa=!1,i)throw Error(r(300));return n}function xu(){var n=co!==0;return co=0,n}function Dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?lt.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function lr(){if(Ct===null){var n=lt.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var i=Nt===null?lt.memoizedState:Nt.next;if(i!==null)Nt=i,Ct=n;else{if(n===null)throw Error(r(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nt===null?lt.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function uo(n,i){return typeof i=="function"?i(n):i}function wu(n){var i=lr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var f=Ct,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var R=S=null,L=null,G=v;do{var ne=G.lane;if((ss&ne)===ne)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:n(f,G.action);else{var oe={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(R=L=oe,S=f):L=L.next=oe,lt.lanes|=ne,is|=ne}G=G.next}while(G!==null&&G!==v);L===null?S=f:L.next=R,xr(f,i.memoizedState)||(qt=!0),i.memoizedState=f,i.baseState=S,i.baseQueue=L,c.lastRenderedState=f}if(n=c.interleaved,n!==null){g=n;do v=g.lane,lt.lanes|=v,is|=v,g=g.next;while(g!==n)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function bu(n){var i=lr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var f=c.dispatch,g=c.pending,v=i.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=n(v,S.action),S=S.next;while(S!==g);xr(v,i.memoizedState)||(qt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,f]}function zm(){}function Wm(n,i){var c=lt,f=lr(),g=i(),v=!xr(f.memoizedState,g);if(v&&(f.memoizedState=g,qt=!0),f=f.queue,Cu(Gm.bind(null,c,f,n),[n]),f.getSnapshot!==i||v||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,fo(9,Hm.bind(null,c,f,g,i),void 0,null),kt===null)throw Error(r(349));(ss&30)!==0||qm(c,i,g)}return g}function qm(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Hm(n,i,c,f){i.value=c,i.getSnapshot=f,Km(i)&&Qm(n)}function Gm(n,i,c){return c(function(){Km(i)&&Qm(n)})}function Km(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!xr(n,c)}catch{return!0}}function Qm(n){var i=Xr(n,1);i!==null&&jr(i,n,1,-1)}function Xm(n){var i=Dr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:n},i.queue=n,n=n.dispatch=SC.bind(null,lt,n),[i.memoizedState,n]}function fo(n,i,c,f){return n={tag:n,create:i,destroy:c,deps:f,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(f=c.next,c.next=n,n.next=f,i.lastEffect=n)),n}function Ym(){return lr().memoizedState}function Ha(n,i,c,f){var g=Dr();lt.flags|=n,g.memoizedState=fo(1|i,c,void 0,f===void 0?null:f)}function Ga(n,i,c,f){var g=lr();f=f===void 0?null:f;var v=void 0;if(Ct!==null){var S=Ct.memoizedState;if(v=S.destroy,f!==null&&yu(f,S.deps)){g.memoizedState=fo(i,c,v,f);return}}lt.flags|=n,g.memoizedState=fo(1|i,c,v,f)}function Jm(n,i){return Ha(8390656,8,n,i)}function Cu(n,i){return Ga(2048,8,n,i)}function Zm(n,i){return Ga(4,2,n,i)}function ep(n,i){return Ga(4,4,n,i)}function tp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function rp(n,i,c){return c=c!=null?c.concat([n]):null,Ga(4,4,tp.bind(null,i,n),c)}function _u(){}function np(n,i){var c=lr();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&yu(i,f[1])?f[0]:(c.memoizedState=[n,i],n)}function sp(n,i){var c=lr();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&yu(i,f[1])?f[0]:(n=n(),c.memoizedState=[n,i],n)}function ip(n,i,c){return(ss&21)===0?(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=c):(xr(c,i)||(c=Ih(),lt.lanes|=c,is|=c,n.baseState=!0),i)}function _C(n,i){var c=Xe;Xe=c!==0&&4>c?c:4,n(!0);var f=gu.transition;gu.transition={};try{n(!1),i()}finally{Xe=c,gu.transition=f}}function op(){return lr().memoizedState}function jC(n,i,c){var f=Sn(n);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},ap(n))lp(i,c);else if(c=$m(n,i,c,f),c!==null){var g=Ft();jr(c,n,f,g),cp(c,i,f)}}function SC(n,i,c){var f=Sn(n),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(ap(n))lp(i,g);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,R=v(S,c);if(g.hasEagerState=!0,g.eagerState=R,xr(R,S)){var L=i.interleaved;L===null?(g.next=g,uu(i)):(g.next=L.next,L.next=g),i.interleaved=g;return}}catch{}finally{}c=$m(n,i,g,f),c!==null&&(g=Ft(),jr(c,n,f,g),cp(c,i,f))}}function ap(n){var i=n.alternate;return n===lt||i!==null&&i===lt}function lp(n,i){lo=qa=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function cp(n,i,c){if((c&4194240)!==0){var f=i.lanes;f&=n.pendingLanes,c|=f,i.lanes=c,Sc(n,c)}}var Ka={readContext:ar,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},NC={readContext:ar,useCallback:function(n,i){return Dr().memoizedState=[n,i===void 0?null:i],n},useContext:ar,useEffect:Jm,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Ha(4194308,4,tp.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Ha(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ha(4,2,n,i)},useMemo:function(n,i){var c=Dr();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var f=Dr();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},f.queue=n,n=n.dispatch=jC.bind(null,lt,n),[f.memoizedState,n]},useRef:function(n){var i=Dr();return n={current:n},i.memoizedState=n},useState:Xm,useDebugValue:_u,useDeferredValue:function(n){return Dr().memoizedState=n},useTransition:function(){var n=Xm(!1),i=n[0];return n=_C.bind(null,n[1]),Dr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var f=lt,g=Dr();if(ot){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),kt===null)throw Error(r(349));(ss&30)!==0||qm(f,i,c)}g.memoizedState=c;var v={value:c,getSnapshot:i};return g.queue=v,Jm(Gm.bind(null,f,v,n),[n]),f.flags|=2048,fo(9,Hm.bind(null,f,v,c,i),void 0,null),c},useId:function(){var n=Dr(),i=kt.identifierPrefix;if(ot){var c=Qr,f=Kr;c=(f&~(1<<32-vr(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=co++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=CC++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},kC={readContext:ar,useCallback:np,useContext:ar,useEffect:Cu,useImperativeHandle:rp,useInsertionEffect:Zm,useLayoutEffect:ep,useMemo:sp,useReducer:wu,useRef:Ym,useState:function(){return wu(uo)},useDebugValue:_u,useDeferredValue:function(n){var i=lr();return ip(i,Ct.memoizedState,n)},useTransition:function(){var n=wu(uo)[0],i=lr().memoizedState;return[n,i]},useMutableSource:zm,useSyncExternalStore:Wm,useId:op,unstable_isNewReconciler:!1},EC={readContext:ar,useCallback:np,useContext:ar,useEffect:Cu,useImperativeHandle:rp,useInsertionEffect:Zm,useLayoutEffect:ep,useMemo:sp,useReducer:bu,useRef:Ym,useState:function(){return bu(uo)},useDebugValue:_u,useDeferredValue:function(n){var i=lr();return Ct===null?i.memoizedState=n:ip(i,Ct.memoizedState,n)},useTransition:function(){var n=bu(uo)[0],i=lr().memoizedState;return[n,i]},useMutableSource:zm,useSyncExternalStore:Wm,useId:op,unstable_isNewReconciler:!1};function br(n,i){if(n&&n.defaultProps){i=te({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function ju(n,i,c,f){i=n.memoizedState,c=c(f,i),c=c==null?i:te({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Qa={isMounted:function(n){return(n=n._reactInternals)?Yn(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var f=Ft(),g=Sn(n),v=Yr(f,g);v.payload=i,c!=null&&(v.callback=c),i=bn(n,v,g),i!==null&&(jr(i,n,g,f),Ba(i,n,g))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var f=Ft(),g=Sn(n),v=Yr(f,g);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=bn(n,v,g),i!==null&&(jr(i,n,g,f),Ba(i,n,g))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Ft(),f=Sn(n),g=Yr(c,f);g.tag=2,i!=null&&(g.callback=i),i=bn(n,g,f),i!==null&&(jr(i,n,f,c),Ba(i,n,f))}};function up(n,i,c,f,g,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,v,S):i.prototype&&i.prototype.isPureReactComponent?!Yi(c,f)||!Yi(g,v):!0}function dp(n,i,c){var f=!1,g=vn,v=i.contextType;return typeof v=="object"&&v!==null?v=ar(v):(g=Wt(i)?Zn:Ot.current,f=i.contextTypes,v=(f=f!=null)?Hs(n,g):vn),i=new i(c,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Qa,n.stateNode=i,i._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=v),i}function fp(n,i,c,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==n&&Qa.enqueueReplaceState(i,i.state,null)}function Su(n,i,c,f){var g=n.stateNode;g.props=c,g.state=n.memoizedState,g.refs={},du(n);var v=i.contextType;typeof v=="object"&&v!==null?g.context=ar(v):(v=Wt(i)?Zn:Ot.current,g.context=Hs(n,v)),g.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ju(n,i,v,c),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Qa.enqueueReplaceState(g,g.state,null),Va(n,c,g,f),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function ei(n,i){try{var c="",f=i;do c+=xe(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:g,digest:null}}function Nu(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function ku(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var PC=typeof WeakMap=="function"?WeakMap:Map;function hp(n,i,c){c=Yr(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){rl||(rl=!0,Vu=f),ku(n,i)},c}function mp(n,i,c){c=Yr(-1,c),c.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){ku(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){ku(n,i),typeof f!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),c}function pp(n,i,c){var f=n.pingCache;if(f===null){f=n.pingCache=new PC;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),n=zC.bind(null,n,i,c),i.then(n,n))}function gp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function yp(n,i,c,f,g){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Yr(-1,1),i.tag=2,bn(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var TC=A.ReactCurrentOwner,qt=!1;function $t(n,i,c,f){i.child=n===null?Lm(i,null,c,f):Xs(i,n.child,c,f)}function vp(n,i,c,f,g){c=c.render;var v=i.ref;return Js(i,g),f=vu(n,i,c,f,v,g),c=xu(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,Jr(n,i,g)):(ot&&c&&tu(i),i.flags|=1,$t(n,i,f,g),i.child)}function xp(n,i,c,f,g){if(n===null){var v=c.type;return typeof v=="function"&&!Qu(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=v,wp(n,i,v,f,g)):(n=ll(c.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&g)===0){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:Yi,c(S,f)&&n.ref===i.ref)return Jr(n,i,g)}return i.flags|=1,n=kn(v,f),n.ref=i.ref,n.return=i,i.child=n}function wp(n,i,c,f,g){if(n!==null){var v=n.memoizedProps;if(Yi(v,f)&&n.ref===i.ref)if(qt=!1,i.pendingProps=f=v,(n.lanes&g)!==0)(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,Jr(n,i,g)}return Eu(n,i,c,f,g)}function bp(n,i,c){var f=i.pendingProps,g=f.children,v=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ri,tr),tr|=c;else{if((c&1073741824)===0)return n=v!==null?v.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ze(ri,tr),tr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Ze(ri,tr),tr|=f}else v!==null?(f=v.baseLanes|c,i.memoizedState=null):f=c,Ze(ri,tr),tr|=f;return $t(n,i,g,c),i.child}function Cp(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Eu(n,i,c,f,g){var v=Wt(c)?Zn:Ot.current;return v=Hs(i,v),Js(i,g),c=vu(n,i,c,f,v,g),f=xu(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,Jr(n,i,g)):(ot&&f&&tu(i),i.flags|=1,$t(n,i,c,g),i.child)}function _p(n,i,c,f,g){if(Wt(c)){var v=!0;Oa(i)}else v=!1;if(Js(i,g),i.stateNode===null)Ya(n,i),dp(i,c,f),Su(i,c,f,g),f=!0;else if(n===null){var S=i.stateNode,R=i.memoizedProps;S.props=R;var L=S.context,G=c.contextType;typeof G=="object"&&G!==null?G=ar(G):(G=Wt(c)?Zn:Ot.current,G=Hs(i,G));var ne=c.getDerivedStateFromProps,oe=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==f||L!==G)&&fp(i,S,f,G),wn=!1;var re=i.memoizedState;S.state=re,Va(i,f,S,g),L=i.memoizedState,R!==f||re!==L||zt.current||wn?(typeof ne=="function"&&(ju(i,c,ne,f),L=i.memoizedState),(R=wn||up(i,c,R,f,re,L,G))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=L),S.props=f,S.state=L,S.context=G,f=R):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{S=i.stateNode,Fm(n,i),R=i.memoizedProps,G=i.type===i.elementType?R:br(i.type,R),S.props=G,oe=i.pendingProps,re=S.context,L=c.contextType,typeof L=="object"&&L!==null?L=ar(L):(L=Wt(c)?Zn:Ot.current,L=Hs(i,L));var _e=c.getDerivedStateFromProps;(ne=typeof _e=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==oe||re!==L)&&fp(i,S,f,L),wn=!1,re=i.memoizedState,S.state=re,Va(i,f,S,g);var Se=i.memoizedState;R!==oe||re!==Se||zt.current||wn?(typeof _e=="function"&&(ju(i,c,_e,f),Se=i.memoizedState),(G=wn||up(i,c,G,f,re,Se,L)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Se,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Se,L)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Se),S.props=f,S.state=Se,S.context=L,f=G):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),f=!1)}return Pu(n,i,c,f,v,g)}function Pu(n,i,c,f,g,v){Cp(n,i);var S=(i.flags&128)!==0;if(!f&&!S)return g&&Em(i,c,!1),Jr(n,i,v);f=i.stateNode,TC.current=i;var R=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,n!==null&&S?(i.child=Xs(i,n.child,null,v),i.child=Xs(i,null,R,v)):$t(n,i,R,v),i.memoizedState=f.state,g&&Em(i,c,!0),i.child}function jp(n){var i=n.stateNode;i.pendingContext?Nm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Nm(n,i.context,!1),fu(n,i.containerInfo)}function Sp(n,i,c,f,g){return Qs(),iu(g),i.flags|=256,$t(n,i,c,f),i.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Au(n){return{baseLanes:n,cachePool:null,transitions:null}}function Np(n,i,c){var f=i.pendingProps,g=at.current,v=!1,S=(i.flags&128)!==0,R;if((R=S)||(R=n!==null&&n.memoizedState===null?!1:(g&2)!==0),R?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Ze(at,g&1),n===null)return su(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=f.children,n=f.fallback,v?(f=i.mode,v=i.child,S={mode:"hidden",children:S},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=cl(S,f,0,null),n=cs(n,f,c,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Au(c),i.memoizedState=Tu,n):Ru(i,S));if(g=n.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return AC(n,i,S,f,R,g,c);if(v){v=f.fallback,S=i.mode,g=n.child,R=g.sibling;var L={mode:"hidden",children:f.children};return(S&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=L,i.deletions=null):(f=kn(g,L),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?v=kn(R,v):(v=cs(v,S,c,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,S=n.child.memoizedState,S=S===null?Au(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=n.childLanes&~c,i.memoizedState=Tu,f}return v=n.child,n=v.sibling,f=kn(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=f,i.memoizedState=null,f}function Ru(n,i){return i=cl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Xa(n,i,c,f){return f!==null&&iu(f),Xs(i,n.child,null,c),n=Ru(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function AC(n,i,c,f,g,v,S){if(c)return i.flags&256?(i.flags&=-257,f=Nu(Error(r(422))),Xa(n,i,S,f)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=f.fallback,g=i.mode,f=cl({mode:"visible",children:f.children},g,0,null),v=cs(v,g,S,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&Xs(i,n.child,null,S),i.child.memoizedState=Au(S),i.memoizedState=Tu,v);if((i.mode&1)===0)return Xa(n,i,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,v=Error(r(419)),f=Nu(v,f,void 0),Xa(n,i,S,f)}if(R=(S&n.childLanes)!==0,qt||R){if(f=kt,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Xr(n,g),jr(f,n,g,-1))}return Ku(),f=Nu(Error(r(421))),Xa(n,i,S,f)}return g.data==="$?"?(i.flags|=128,i.child=n.child,i=WC.bind(null,n),g._reactRetry=i,null):(n=v.treeContext,er=gn(g.nextSibling),Zt=i,ot=!0,wr=null,n!==null&&(ir[or++]=Kr,ir[or++]=Qr,ir[or++]=es,Kr=n.id,Qr=n.overflow,es=i),i=Ru(i,f.children),i.flags|=4096,i)}function kp(n,i,c){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),cu(n.return,i,c)}function Ou(n,i,c,f,g){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function Ep(n,i,c){var f=i.pendingProps,g=f.revealOrder,v=f.tail;if($t(n,i,f.children,c),f=at.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kp(n,c,i);else if(n.tag===19)kp(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Ze(at,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)n=c.alternate,n!==null&&za(n)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),Ou(i,!1,g,c,v);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&za(n)===null){i.child=g;break}n=g.sibling,g.sibling=c,c=g,g=n}Ou(i,!0,c,null,v);break;case"together":Ou(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ya(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Jr(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),is|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=kn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=kn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function RC(n,i,c){switch(i.tag){case 3:jp(i),Qs();break;case 5:Vm(i);break;case 1:Wt(i.type)&&Oa(i);break;case 4:fu(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Ze(Fa,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ze(at,at.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Np(n,i,c):(Ze(at,at.current&1),n=Jr(n,i,c),n!==null?n.sibling:null);Ze(at,at.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(n.flags&128)!==0){if(f)return Ep(n,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(at,at.current),f)break;return null;case 22:case 23:return i.lanes=0,bp(n,i,c)}return Jr(n,i,c)}var Pp,Mu,Tp,Ap;Pp=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Mu=function(){},Tp=function(n,i,c,f){var g=n.memoizedProps;if(g!==f){n=i.stateNode,ns(Ir.current);var v=null;switch(c){case"input":g=T(n,g),f=T(n,f),v=[];break;case"select":g=te({},g,{value:void 0}),f=te({},f,{value:void 0}),v=[];break;case"textarea":g=Ve(n,g),f=Ve(n,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Ta)}Rs(c,f);var S;c=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var R=g[G];for(S in R)R.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var L=f[G];if(R=g?.[G],f.hasOwnProperty(G)&&L!==R&&(L!=null||R!=null))if(G==="style")if(R){for(S in R)!R.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in L)L.hasOwnProperty(S)&&R[S]!==L[S]&&(c||(c={}),c[S]=L[S])}else c||(v||(v=[]),v.push(G,c)),c=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(v=v||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&rt("scroll",n),v||R===L||(v=[])):(v=v||[]).push(G,L))}c&&(v=v||[]).push("style",c);var G=v;(i.updateQueue=G)&&(i.flags|=4)}},Ap=function(n,i,c,f){c!==f&&(i.flags|=4)};function ho(n,i){if(!ot)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function It(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,f=0;if(i)for(var g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=c,i}function OC(n,i,c){var f=i.pendingProps;switch(ru(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return Wt(i.type)&&Ra(),It(i),null;case 3:return f=i.stateNode,Zs(),nt(zt),nt(Ot),pu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(La(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wr!==null&&(qu(wr),wr=null))),Mu(n,i),It(i),null;case 5:hu(i);var g=ns(ao.current);if(c=i.type,n!==null&&i.stateNode!=null)Tp(n,i,c,f,g),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(r(166));return It(i),null}if(n=ns(Ir.current),La(i)){f=i.stateNode,c=i.type;var v=i.memoizedProps;switch(f[Mr]=i,f[ro]=v,n=(i.mode&1)!==0,c){case"dialog":rt("cancel",f),rt("close",f);break;case"iframe":case"object":case"embed":rt("load",f);break;case"video":case"audio":for(g=0;g<Zi.length;g++)rt(Zi[g],f);break;case"source":rt("error",f);break;case"img":case"image":case"link":rt("error",f),rt("load",f);break;case"details":rt("toggle",f);break;case"input":de(f,v),rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},rt("invalid",f);break;case"textarea":it(f,v),rt("invalid",f)}Rs(c,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var R=v[S];S==="children"?typeof R=="string"?f.textContent!==R&&(v.suppressHydrationWarning!==!0&&Pa(f.textContent,R,n),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Pa(f.textContent,R,n),g=["children",""+R]):o.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&rt("scroll",f)}switch(c){case"input":Y(f),Ae(f,v,!0);break;case"textarea":Y(f),ht(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Ta)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=De(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=S.createElement(c,{is:f.is}):(n=S.createElement(c),c==="select"&&(S=n,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):n=S.createElementNS(n,c),n[Mr]=i,n[ro]=f,Pp(n,i,!1,!1),i.stateNode=n;e:{switch(S=Os(c,f),c){case"dialog":rt("cancel",n),rt("close",n),g=f;break;case"iframe":case"object":case"embed":rt("load",n),g=f;break;case"video":case"audio":for(g=0;g<Zi.length;g++)rt(Zi[g],n);g=f;break;case"source":rt("error",n),g=f;break;case"img":case"image":case"link":rt("error",n),rt("load",n),g=f;break;case"details":rt("toggle",n),g=f;break;case"input":de(n,f),g=T(n,f),rt("invalid",n);break;case"option":g=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},g=te({},f,{value:void 0}),rt("invalid",n);break;case"textarea":it(n,f),g=Ve(n,f),rt("invalid",n);break;default:g=f}Rs(c,g),R=g;for(v in R)if(R.hasOwnProperty(v)){var L=R[v];v==="style"?oa(n,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&As(n,L)):v==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&Hn(n,L):typeof L=="number"&&Hn(n,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&rt("scroll",n):L!=null&&_(n,v,L,S))}switch(c){case"input":Y(n),Ae(n,f,!1);break;case"textarea":Y(n),ht(n);break;case"option":f.value!=null&&n.setAttribute("value",""+ye(f.value));break;case"select":n.multiple=!!f.multiple,v=f.value,v!=null?Re(n,!!f.multiple,v,!1):f.defaultValue!=null&&Re(n,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Ta)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return It(i),null;case 6:if(n&&i.stateNode!=null)Ap(n,i,n.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(r(166));if(c=ns(ao.current),ns(Ir.current),La(i)){if(f=i.stateNode,c=i.memoizedProps,f[Mr]=i,(v=f.nodeValue!==c)&&(n=Zt,n!==null))switch(n.tag){case 3:Pa(f.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pa(f.nodeValue,c,(n.mode&1)!==0)}v&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Mr]=i,i.stateNode=f}return It(i),null;case 13:if(nt(at),f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&er!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Mm(),Qs(),i.flags|=98560,v=!1;else if(v=La(i),f!==null&&f.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Mr]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),v=!1}else wr!==null&&(qu(wr),wr=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(at.current&1)!==0?_t===0&&(_t=3):Ku())),i.updateQueue!==null&&(i.flags|=4),It(i),null);case 4:return Zs(),Mu(n,i),n===null&&eo(i.stateNode.containerInfo),It(i),null;case 10:return lu(i.type._context),It(i),null;case 17:return Wt(i.type)&&Ra(),It(i),null;case 19:if(nt(at),v=i.memoizedState,v===null)return It(i),null;if(f=(i.flags&128)!==0,S=v.rendering,S===null)if(f)ho(v,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(S=za(n),S!==null){for(i.flags|=128,ho(v,!1),f=S.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)v=c,n=f,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,n=S.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Ze(at,at.current&1|2),i.child}n=n.sibling}v.tail!==null&&mt()>ni&&(i.flags|=128,f=!0,ho(v,!1),i.lanes=4194304)}else{if(!f)if(n=za(S),n!==null){if(i.flags|=128,f=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ho(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ot)return It(i),null}else 2*mt()-v.renderingStartTime>ni&&c!==1073741824&&(i.flags|=128,f=!0,ho(v,!1),i.lanes=4194304);v.isBackwards?(S.sibling=i.child,i.child=S):(c=v.last,c!==null?c.sibling=S:i.child=S,v.last=S)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=mt(),i.sibling=null,c=at.current,Ze(at,f?c&1|2:c&1),i):(It(i),null);case 22:case 23:return Gu(),f=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(tr&1073741824)!==0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function MC(n,i){switch(ru(i),i.tag){case 1:return Wt(i.type)&&Ra(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zs(),nt(zt),nt(Ot),pu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return hu(i),null;case 13:if(nt(at),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return nt(at),null;case 4:return Zs(),null;case 10:return lu(i.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Ja=!1,Dt=!1,IC=typeof WeakSet=="function"?WeakSet:Set,je=null;function ti(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){ft(n,i,f)}else c.current=null}function Iu(n,i,c){try{c()}catch(f){ft(n,i,f)}}var Rp=!1;function DC(n,i){if(Gc=va,n=um(),Fc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,R=-1,L=-1,G=0,ne=0,oe=n,re=null;t:for(;;){for(var _e;oe!==c||g!==0&&oe.nodeType!==3||(R=S+g),oe!==v||f!==0&&oe.nodeType!==3||(L=S+f),oe.nodeType===3&&(S+=oe.nodeValue.length),(_e=oe.firstChild)!==null;)re=oe,oe=_e;for(;;){if(oe===n)break t;if(re===c&&++G===g&&(R=S),re===v&&++ne===f&&(L=S),(_e=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=_e}c=R===-1||L===-1?null:{start:R,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kc={focusedElem:n,selectionRange:c},va=!1,je=i;je!==null;)if(i=je,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,je=n;else for(;je!==null;){i=je;try{var Se=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ne=Se.memoizedProps,pt=Se.memoizedState,V=i.stateNode,$=V.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:br(i.type,Ne),pt);V.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){ft(i,i.return,fe)}if(n=i.sibling,n!==null){n.return=i.return,je=n;break}je=i.return}return Se=Rp,Rp=!1,Se}function mo(n,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&n)===n){var v=g.destroy;g.destroy=void 0,v!==void 0&&Iu(i,c,v)}g=g.next}while(g!==f)}}function Za(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Du(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function Op(n){var i=n.alternate;i!==null&&(n.alternate=null,Op(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Mr],delete i[ro],delete i[Jc],delete i[vC],delete i[xC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Mp(n){return n.tag===5||n.tag===3||n.tag===4}function Ip(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Mp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lu(n,i,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ta));else if(f!==4&&(n=n.child,n!==null))for(Lu(n,i,c),n=n.sibling;n!==null;)Lu(n,i,c),n=n.sibling}function $u(n,i,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for($u(n,i,c),n=n.sibling;n!==null;)$u(n,i,c),n=n.sibling}var Tt=null,Cr=!1;function Cn(n,i,c){for(c=c.child;c!==null;)Dp(n,i,c),c=c.sibling}function Dp(n,i,c){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(fa,c)}catch{}switch(c.tag){case 5:Dt||ti(c,i);case 6:var f=Tt,g=Cr;Tt=null,Cn(n,i,c),Tt=f,Cr=g,Tt!==null&&(Cr?(n=Tt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Tt.removeChild(c.stateNode));break;case 18:Tt!==null&&(Cr?(n=Tt,c=c.stateNode,n.nodeType===8?Yc(n.parentNode,c):n.nodeType===1&&Yc(n,c),qi(n)):Yc(Tt,c.stateNode));break;case 4:f=Tt,g=Cr,Tt=c.stateNode.containerInfo,Cr=!0,Cn(n,i,c),Tt=f,Cr=g;break;case 0:case 11:case 14:case 15:if(!Dt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Iu(c,i,S),g=g.next}while(g!==f)}Cn(n,i,c);break;case 1:if(!Dt&&(ti(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(R){ft(c,i,R)}Cn(n,i,c);break;case 21:Cn(n,i,c);break;case 22:c.mode&1?(Dt=(f=Dt)||c.memoizedState!==null,Cn(n,i,c),Dt=f):Cn(n,i,c);break;default:Cn(n,i,c)}}function Lp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new IC),i.forEach(function(f){var g=qC.bind(null,n,f);c.has(f)||(c.add(f),f.then(g,g))})}}function _r(n,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=n,S=i,R=S;e:for(;R!==null;){switch(R.tag){case 5:Tt=R.stateNode,Cr=!1;break e;case 3:Tt=R.stateNode.containerInfo,Cr=!0;break e;case 4:Tt=R.stateNode.containerInfo,Cr=!0;break e}R=R.return}if(Tt===null)throw Error(r(160));Dp(v,S,g),Tt=null,Cr=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(G){ft(g,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$p(i,n),i=i.sibling}function $p(n,i){var c=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_r(i,n),Lr(n),f&4){try{mo(3,n,n.return),Za(3,n)}catch(Ne){ft(n,n.return,Ne)}try{mo(5,n,n.return)}catch(Ne){ft(n,n.return,Ne)}}break;case 1:_r(i,n),Lr(n),f&512&&c!==null&&ti(c,c.return);break;case 5:if(_r(i,n),Lr(n),f&512&&c!==null&&ti(c,c.return),n.flags&32){var g=n.stateNode;try{Hn(g,"")}catch(Ne){ft(n,n.return,Ne)}}if(f&4&&(g=n.stateNode,g!=null)){var v=n.memoizedProps,S=c!==null?c.memoizedProps:v,R=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&J(g,v),Os(R,S);var G=Os(R,v);for(S=0;S<L.length;S+=2){var ne=L[S],oe=L[S+1];ne==="style"?oa(g,oe):ne==="dangerouslySetInnerHTML"?As(g,oe):ne==="children"?Hn(g,oe):_(g,ne,oe,G)}switch(R){case"input":Te(g,v);break;case"textarea":vt(g,v);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var _e=v.value;_e!=null?Re(g,!!v.multiple,_e,!1):re!==!!v.multiple&&(v.defaultValue!=null?Re(g,!!v.multiple,v.defaultValue,!0):Re(g,!!v.multiple,v.multiple?[]:"",!1))}g[ro]=v}catch(Ne){ft(n,n.return,Ne)}}break;case 6:if(_r(i,n),Lr(n),f&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,v=n.memoizedProps;try{g.nodeValue=v}catch(Ne){ft(n,n.return,Ne)}}break;case 3:if(_r(i,n),Lr(n),f&4&&c!==null&&c.memoizedState.isDehydrated)try{qi(i.containerInfo)}catch(Ne){ft(n,n.return,Ne)}break;case 4:_r(i,n),Lr(n);break;case 13:_r(i,n),Lr(n),g=n.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Bu=mt())),f&4&&Lp(n);break;case 22:if(ne=c!==null&&c.memoizedState!==null,n.mode&1?(Dt=(G=Dt)||ne,_r(i,n),Dt=G):_r(i,n),Lr(n),f&8192){if(G=n.memoizedState!==null,(n.stateNode.isHidden=G)&&!ne&&(n.mode&1)!==0)for(je=n,ne=n.child;ne!==null;){for(oe=je=ne;je!==null;){switch(re=je,_e=re.child,re.tag){case 0:case 11:case 14:case 15:mo(4,re,re.return);break;case 1:ti(re,re.return);var Se=re.stateNode;if(typeof Se.componentWillUnmount=="function"){f=re,c=re.return;try{i=f,Se.props=i.memoizedProps,Se.state=i.memoizedState,Se.componentWillUnmount()}catch(Ne){ft(f,c,Ne)}}break;case 5:ti(re,re.return);break;case 22:if(re.memoizedState!==null){Bp(oe);continue}}_e!==null?(_e.return=re,je=_e):Bp(oe)}ne=ne.sibling}e:for(ne=null,oe=n;;){if(oe.tag===5){if(ne===null){ne=oe;try{g=oe.stateNode,G?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=oe.stateNode,L=oe.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=ia("display",S))}catch(Ne){ft(n,n.return,Ne)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=G?"":oe.memoizedProps}catch(Ne){ft(n,n.return,Ne)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:_r(i,n),Lr(n),f&4&&Lp(n);break;case 21:break;default:_r(i,n),Lr(n)}}function Lr(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Mp(c)){var f=c;break e}c=c.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Hn(g,""),f.flags&=-33);var v=Ip(n);$u(n,v,g);break;case 3:case 4:var S=f.stateNode.containerInfo,R=Ip(n);Lu(n,R,S);break;default:throw Error(r(161))}}catch(L){ft(n,n.return,L)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function LC(n,i,c){je=n,Fp(n)}function Fp(n,i,c){for(var f=(n.mode&1)!==0;je!==null;){var g=je,v=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Ja;if(!S){var R=g.alternate,L=R!==null&&R.memoizedState!==null||Dt;R=Ja;var G=Dt;if(Ja=S,(Dt=L)&&!G)for(je=g;je!==null;)S=je,L=S.child,S.tag===22&&S.memoizedState!==null?Vp(g):L!==null?(L.return=S,je=L):Vp(g);for(;v!==null;)je=v,Fp(v),v=v.sibling;je=g,Ja=R,Dt=G}Up(n)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,je=v):Up(n)}}function Up(n){for(;je!==null;){var i=je;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dt||Za(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!Dt)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:br(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Bm(i,v,f);break;case 3:var S=i.updateQueue;if(S!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Bm(i,S,c)}break;case 5:var R=i.stateNode;if(c===null&&i.flags&4){c=R;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&qi(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dt||i.flags&512&&Du(i)}catch(re){ft(i,i.return,re)}}if(i===n){je=null;break}if(c=i.sibling,c!==null){c.return=i.return,je=c;break}je=i.return}}function Bp(n){for(;je!==null;){var i=je;if(i===n){je=null;break}var c=i.sibling;if(c!==null){c.return=i.return,je=c;break}je=i.return}}function Vp(n){for(;je!==null;){var i=je;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Za(4,i)}catch(L){ft(i,c,L)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(L){ft(i,g,L)}}var v=i.return;try{Du(i)}catch(L){ft(i,v,L)}break;case 5:var S=i.return;try{Du(i)}catch(L){ft(i,S,L)}}}catch(L){ft(i,i.return,L)}if(i===n){je=null;break}var R=i.sibling;if(R!==null){R.return=i.return,je=R;break}je=i.return}}var $C=Math.ceil,el=A.ReactCurrentDispatcher,Fu=A.ReactCurrentOwner,cr=A.ReactCurrentBatchConfig,Ke=0,kt=null,xt=null,At=0,tr=0,ri=yn(0),_t=0,po=null,is=0,tl=0,Uu=0,go=null,Ht=null,Bu=0,ni=1/0,Zr=null,rl=!1,Vu=null,_n=null,nl=!1,jn=null,sl=0,yo=0,zu=null,il=-1,ol=0;function Ft(){return(Ke&6)!==0?mt():il!==-1?il:il=mt()}function Sn(n){return(n.mode&1)===0?1:(Ke&2)!==0&&At!==0?At&-At:bC.transition!==null?(ol===0&&(ol=Ih()),ol):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:Wh(n.type)),n)}function jr(n,i,c,f){if(50<yo)throw yo=0,zu=null,Error(r(185));Ui(n,c,f),((Ke&2)===0||n!==kt)&&(n===kt&&((Ke&2)===0&&(tl|=c),_t===4&&Nn(n,At)),Gt(n,f),c===1&&Ke===0&&(i.mode&1)===0&&(ni=mt()+500,Ma&&xn()))}function Gt(n,i){var c=n.callbackNode;bb(n,i);var f=pa(n,n===kt?At:0);if(f===0)c!==null&&Rh(c),n.callbackNode=null,n.callbackPriority=0;else if(i=f&-f,n.callbackPriority!==i){if(c!=null&&Rh(c),i===1)n.tag===0?wC(Wp.bind(null,n)):Pm(Wp.bind(null,n)),gC(function(){(Ke&6)===0&&xn()}),c=null;else{switch(Dh(f)){case 1:c=Cc;break;case 4:c=Oh;break;case 16:c=da;break;case 536870912:c=Mh;break;default:c=da}c=Jp(c,zp.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function zp(n,i){if(il=-1,ol=0,(Ke&6)!==0)throw Error(r(327));var c=n.callbackNode;if(si()&&n.callbackNode!==c)return null;var f=pa(n,n===kt?At:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||i)i=al(n,f);else{i=f;var g=Ke;Ke|=2;var v=Hp();(kt!==n||At!==i)&&(Zr=null,ni=mt()+500,as(n,i));do try{BC();break}catch(R){qp(n,R)}while(!0);au(),el.current=v,Ke=g,xt!==null?i=0:(kt=null,At=0,i=_t)}if(i!==0){if(i===2&&(g=_c(n),g!==0&&(f=g,i=Wu(n,g))),i===1)throw c=po,as(n,0),Nn(n,f),Gt(n,mt()),c;if(i===6)Nn(n,f);else{if(g=n.current.alternate,(f&30)===0&&!FC(g)&&(i=al(n,f),i===2&&(v=_c(n),v!==0&&(f=v,i=Wu(n,v))),i===1))throw c=po,as(n,0),Nn(n,f),Gt(n,mt()),c;switch(n.finishedWork=g,n.finishedLanes=f,i){case 0:case 1:throw Error(r(345));case 2:ls(n,Ht,Zr);break;case 3:if(Nn(n,f),(f&130023424)===f&&(i=Bu+500-mt(),10<i)){if(pa(n,0)!==0)break;if(g=n.suspendedLanes,(g&f)!==f){Ft(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Xc(ls.bind(null,n,Ht,Zr),i);break}ls(n,Ht,Zr);break;case 4:if(Nn(n,f),(f&4194240)===f)break;for(i=n.eventTimes,g=-1;0<f;){var S=31-vr(f);v=1<<S,S=i[S],S>g&&(g=S),f&=~v}if(f=g,f=mt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*$C(f/1960))-f,10<f){n.timeoutHandle=Xc(ls.bind(null,n,Ht,Zr),f);break}ls(n,Ht,Zr);break;case 5:ls(n,Ht,Zr);break;default:throw Error(r(329))}}}return Gt(n,mt()),n.callbackNode===c?zp.bind(null,n):null}function Wu(n,i){var c=go;return n.current.memoizedState.isDehydrated&&(as(n,i).flags|=256),n=al(n,i),n!==2&&(i=Ht,Ht=c,i!==null&&qu(i)),n}function qu(n){Ht===null?Ht=n:Ht.push.apply(Ht,n)}function FC(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!xr(v(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nn(n,i){for(i&=~Uu,i&=~tl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-vr(i),f=1<<c;n[c]=-1,i&=~f}}function Wp(n){if((Ke&6)!==0)throw Error(r(327));si();var i=pa(n,0);if((i&1)===0)return Gt(n,mt()),null;var c=al(n,i);if(n.tag!==0&&c===2){var f=_c(n);f!==0&&(i=f,c=Wu(n,f))}if(c===1)throw c=po,as(n,0),Nn(n,i),Gt(n,mt()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ls(n,Ht,Zr),Gt(n,mt()),null}function Hu(n,i){var c=Ke;Ke|=1;try{return n(i)}finally{Ke=c,Ke===0&&(ni=mt()+500,Ma&&xn())}}function os(n){jn!==null&&jn.tag===0&&(Ke&6)===0&&si();var i=Ke;Ke|=1;var c=cr.transition,f=Xe;try{if(cr.transition=null,Xe=1,n)return n()}finally{Xe=f,cr.transition=c,Ke=i,(Ke&6)===0&&xn()}}function Gu(){tr=ri.current,nt(ri)}function as(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,pC(c)),xt!==null)for(c=xt.return;c!==null;){var f=c;switch(ru(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ra();break;case 3:Zs(),nt(zt),nt(Ot),pu();break;case 5:hu(f);break;case 4:Zs();break;case 13:nt(at);break;case 19:nt(at);break;case 10:lu(f.type._context);break;case 22:case 23:Gu()}c=c.return}if(kt=n,xt=n=kn(n.current,null),At=tr=i,_t=0,po=null,Uu=tl=is=0,Ht=go=null,rs!==null){for(i=0;i<rs.length;i++)if(c=rs[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var S=v.next;v.next=g,f.next=S}c.pending=f}rs=null}return n}function qp(n,i){do{var c=xt;try{if(au(),Wa.current=Ka,qa){for(var f=lt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}qa=!1}if(ss=0,Nt=Ct=lt=null,lo=!1,co=0,Fu.current=null,c===null||c.return===null){_t=1,po=i,xt=null;break}e:{var v=n,S=c.return,R=c,L=i;if(i=At,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,ne=R,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var _e=gp(S);if(_e!==null){_e.flags&=-257,yp(_e,S,R,v,i),_e.mode&1&&pp(v,G,i),i=_e,L=G;var Se=i.updateQueue;if(Se===null){var Ne=new Set;Ne.add(L),i.updateQueue=Ne}else Se.add(L);break e}else{if((i&1)===0){pp(v,G,i),Ku();break e}L=Error(r(426))}}else if(ot&&R.mode&1){var pt=gp(S);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),yp(pt,S,R,v,i),iu(ei(L,R));break e}}v=L=ei(L,R),_t!==4&&(_t=2),go===null?go=[v]:go.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var V=hp(v,L,i);Um(v,V);break e;case 1:R=L;var $=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(_n===null||!_n.has(q)))){v.flags|=65536,i&=-i,v.lanes|=i;var fe=mp(v,R,i);Um(v,fe);break e}}v=v.return}while(v!==null)}Kp(c)}catch(Ee){i=Ee,xt===c&&c!==null&&(xt=c=c.return);continue}break}while(!0)}function Hp(){var n=el.current;return el.current=Ka,n===null?Ka:n}function Ku(){(_t===0||_t===3||_t===2)&&(_t=4),kt===null||(is&268435455)===0&&(tl&268435455)===0||Nn(kt,At)}function al(n,i){var c=Ke;Ke|=2;var f=Hp();(kt!==n||At!==i)&&(Zr=null,as(n,i));do try{UC();break}catch(g){qp(n,g)}while(!0);if(au(),Ke=c,el.current=f,xt!==null)throw Error(r(261));return kt=null,At=0,_t}function UC(){for(;xt!==null;)Gp(xt)}function BC(){for(;xt!==null&&!fb();)Gp(xt)}function Gp(n){var i=Yp(n.alternate,n,tr);n.memoizedProps=n.pendingProps,i===null?Kp(n):xt=i,Fu.current=null}function Kp(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=OC(c,i,tr),c!==null){xt=c;return}}else{if(c=MC(c,i),c!==null){c.flags&=32767,xt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,xt=null;return}}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);_t===0&&(_t=5)}function ls(n,i,c){var f=Xe,g=cr.transition;try{cr.transition=null,Xe=1,VC(n,i,c,f)}finally{cr.transition=g,Xe=f}return null}function VC(n,i,c,f){do si();while(jn!==null);if((Ke&6)!==0)throw Error(r(327));c=n.finishedWork;var g=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=c.lanes|c.childLanes;if(Cb(n,v),n===kt&&(xt=kt=null,At=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||nl||(nl=!0,Jp(da,function(){return si(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=cr.transition,cr.transition=null;var S=Xe;Xe=1;var R=Ke;Ke|=4,Fu.current=null,DC(n,c),$p(c,n),lC(Kc),va=!!Gc,Kc=Gc=null,n.current=c,LC(c),hb(),Ke=R,Xe=S,cr.transition=v}else n.current=c;if(nl&&(nl=!1,jn=n,sl=g),v=n.pendingLanes,v===0&&(_n=null),gb(c.stateNode),Gt(n,mt()),i!==null)for(f=n.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(rl)throw rl=!1,n=Vu,Vu=null,n;return(sl&1)!==0&&n.tag!==0&&si(),v=n.pendingLanes,(v&1)!==0?n===zu?yo++:(yo=0,zu=n):yo=0,xn(),null}function si(){if(jn!==null){var n=Dh(sl),i=cr.transition,c=Xe;try{if(cr.transition=null,Xe=16>n?16:n,jn===null)var f=!1;else{if(n=jn,jn=null,sl=0,(Ke&6)!==0)throw Error(r(331));var g=Ke;for(Ke|=4,je=n.current;je!==null;){var v=je,S=v.child;if((je.flags&16)!==0){var R=v.deletions;if(R!==null){for(var L=0;L<R.length;L++){var G=R[L];for(je=G;je!==null;){var ne=je;switch(ne.tag){case 0:case 11:case 15:mo(8,ne,v)}var oe=ne.child;if(oe!==null)oe.return=ne,je=oe;else for(;je!==null;){ne=je;var re=ne.sibling,_e=ne.return;if(Op(ne),ne===G){je=null;break}if(re!==null){re.return=_e,je=re;break}je=_e}}}var Se=v.alternate;if(Se!==null){var Ne=Se.child;if(Ne!==null){Se.child=null;do{var pt=Ne.sibling;Ne.sibling=null,Ne=pt}while(Ne!==null)}}je=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,je=S;else e:for(;je!==null;){if(v=je,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:mo(9,v,v.return)}var V=v.sibling;if(V!==null){V.return=v.return,je=V;break e}je=v.return}}var $=n.current;for(je=$;je!==null;){S=je;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,je=q;else e:for(S=$;je!==null;){if(R=je,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Za(9,R)}}catch(Ee){ft(R,R.return,Ee)}if(R===S){je=null;break e}var fe=R.sibling;if(fe!==null){fe.return=R.return,je=fe;break e}je=R.return}}if(Ke=g,xn(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(fa,n)}catch{}f=!0}return f}finally{Xe=c,cr.transition=i}}return!1}function Qp(n,i,c){i=ei(c,i),i=hp(n,i,1),n=bn(n,i,1),i=Ft(),n!==null&&(Ui(n,1,i),Gt(n,i))}function ft(n,i,c){if(n.tag===3)Qp(n,n,c);else for(;i!==null;){if(i.tag===3){Qp(i,n,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_n===null||!_n.has(f))){n=ei(c,n),n=mp(i,n,1),i=bn(i,n,1),n=Ft(),i!==null&&(Ui(i,1,n),Gt(i,n));break}}i=i.return}}function zC(n,i,c){var f=n.pingCache;f!==null&&f.delete(i),i=Ft(),n.pingedLanes|=n.suspendedLanes&c,kt===n&&(At&c)===c&&(_t===4||_t===3&&(At&130023424)===At&&500>mt()-Bu?as(n,0):Uu|=c),Gt(n,i)}function Xp(n,i){i===0&&((n.mode&1)===0?i=1:(i=ma,ma<<=1,(ma&130023424)===0&&(ma=4194304)));var c=Ft();n=Xr(n,i),n!==null&&(Ui(n,i,c),Gt(n,c))}function WC(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),Xp(n,c)}function qC(n,i){var c=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(i),Xp(n,c)}var Yp;Yp=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||zt.current)qt=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return qt=!1,RC(n,i,c);qt=(n.flags&131072)!==0}else qt=!1,ot&&(i.flags&1048576)!==0&&Tm(i,Da,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Ya(n,i),n=i.pendingProps;var g=Hs(i,Ot.current);Js(i,c),g=vu(null,i,f,n,g,c);var v=xu();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wt(f)?(v=!0,Oa(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,du(i),g.updater=Qa,i.stateNode=g,g._reactInternals=i,Su(i,f,n,c),i=Pu(null,i,f,!0,v,c)):(i.tag=0,ot&&v&&tu(i),$t(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(Ya(n,i),n=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=GC(f),n=br(f,n),g){case 0:i=Eu(null,i,f,n,c);break e;case 1:i=_p(null,i,f,n,c);break e;case 11:i=vp(null,i,f,n,c);break e;case 14:i=xp(null,i,f,br(f.type,n),c);break e}throw Error(r(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:br(f,g),Eu(n,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:br(f,g),_p(n,i,f,g,c);case 3:e:{if(jp(i),n===null)throw Error(r(387));f=i.pendingProps,v=i.memoizedState,g=v.element,Fm(n,i),Va(i,f,null,c);var S=i.memoizedState;if(f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=ei(Error(r(423)),i),i=Sp(n,i,f,c,g);break e}else if(f!==g){g=ei(Error(r(424)),i),i=Sp(n,i,f,c,g);break e}else for(er=gn(i.stateNode.containerInfo.firstChild),Zt=i,ot=!0,wr=null,c=Lm(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Qs(),f===g){i=Jr(n,i,c);break e}$t(n,i,f,c)}i=i.child}return i;case 5:return Vm(i),n===null&&su(i),f=i.type,g=i.pendingProps,v=n!==null?n.memoizedProps:null,S=g.children,Qc(f,g)?S=null:v!==null&&Qc(f,v)&&(i.flags|=32),Cp(n,i),$t(n,i,S,c),i.child;case 6:return n===null&&su(i),null;case 13:return Np(n,i,c);case 4:return fu(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=Xs(i,null,f,c):$t(n,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:br(f,g),vp(n,i,f,g,c);case 7:return $t(n,i,i.pendingProps,c),i.child;case 8:return $t(n,i,i.pendingProps.children,c),i.child;case 12:return $t(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,v=i.memoizedProps,S=g.value,Ze(Fa,f._currentValue),f._currentValue=S,v!==null)if(xr(v.value,S)){if(v.children===g.children&&!zt.current){i=Jr(n,i,c);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var R=v.dependencies;if(R!==null){S=v.child;for(var L=R.firstContext;L!==null;){if(L.context===f){if(v.tag===1){L=Yr(-1,c&-c),L.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),G.pending=L}}v.lanes|=c,L=v.alternate,L!==null&&(L.lanes|=c),cu(v.return,c,i),R.lanes|=c;break}L=L.next}}else if(v.tag===10)S=v.type===i.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=c,R=S.alternate,R!==null&&(R.lanes|=c),cu(S,c,i),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}$t(n,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Js(i,c),g=ar(g),f=f(g),i.flags|=1,$t(n,i,f,c),i.child;case 14:return f=i.type,g=br(f,i.pendingProps),g=br(f.type,g),xp(n,i,f,g,c);case 15:return wp(n,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:br(f,g),Ya(n,i),i.tag=1,Wt(f)?(n=!0,Oa(i)):n=!1,Js(i,c),dp(i,f,g),Su(i,f,g,c),Pu(null,i,f,!0,n,c);case 19:return Ep(n,i,c);case 22:return bp(n,i,c)}throw Error(r(156,i.tag))};function Jp(n,i){return Ah(n,i)}function HC(n,i,c,f){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(n,i,c,f){return new HC(n,i,c,f)}function Qu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function GC(n){if(typeof n=="function")return Qu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ie)return 11;if(n===ue)return 14}return 2}function kn(n,i){var c=n.alternate;return c===null?(c=ur(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function ll(n,i,c,f,g,v){var S=2;if(f=n,typeof n=="function")Qu(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case I:return cs(c.children,g,v,i);case W:S=8,g|=8;break;case Z:return n=ur(12,c,i,g|2),n.elementType=Z,n.lanes=v,n;case X:return n=ur(13,c,i,g),n.elementType=X,n.lanes=v,n;case z:return n=ur(19,c,i,g),n.elementType=z,n.lanes=v,n;case le:return cl(c,g,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:S=10;break e;case ge:S=9;break e;case ie:S=11;break e;case ue:S=14;break e;case he:S=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=ur(S,c,i,g),i.elementType=n,i.type=f,i.lanes=v,i}function cs(n,i,c,f){return n=ur(7,n,f,i),n.lanes=c,n}function cl(n,i,c,f){return n=ur(22,n,f,i),n.elementType=le,n.lanes=c,n.stateNode={isHidden:!1},n}function Xu(n,i,c){return n=ur(6,n,null,i),n.lanes=c,n}function Yu(n,i,c){return i=ur(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function KC(n,i,c,f,g){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ju(n,i,c,f,g,v,S,R,L){return n=new KC(n,i,c,R,L),i===1?(i=1,v===!0&&(i|=8)):i=0,v=ur(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(v),n}function QC(n,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:n,containerInfo:i,implementation:c}}function Zp(n){if(!n)return vn;n=n._reactInternals;e:{if(Yn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(Wt(c))return km(n,c,i)}return i}function eg(n,i,c,f,g,v,S,R,L){return n=Ju(c,f,!0,n,g,v,S,R,L),n.context=Zp(null),c=n.current,f=Ft(),g=Sn(c),v=Yr(f,g),v.callback=i??null,bn(c,v,g),n.current.lanes=g,Ui(n,g,f),Gt(n,f),n}function ul(n,i,c,f){var g=i.current,v=Ft(),S=Sn(g);return c=Zp(c),i.context===null?i.context=c:i.pendingContext=c,i=Yr(v,S),i.payload={element:n},f=f===void 0?null:f,f!==null&&(i.callback=f),n=bn(g,i,S),n!==null&&(jr(n,g,S,v),Ba(n,g,S)),S}function dl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function tg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Zu(n,i){tg(n,i),(n=n.alternate)&&tg(n,i)}function XC(){return null}var rg=typeof reportError=="function"?reportError:function(n){console.error(n)};function ed(n){this._internalRoot=n}fl.prototype.render=ed.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));ul(n,i,null,null)},fl.prototype.unmount=ed.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;os(function(){ul(null,n,null,null)}),i[Hr]=null}};function fl(n){this._internalRoot=n}fl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fh();n={blockedOn:null,target:n,priority:i};for(var c=0;c<hn.length&&i!==0&&i<hn[c].priority;c++);hn.splice(c,0,n),c===0&&Vh(n)}};function td(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ng(){}function YC(n,i,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var G=dl(S);v.call(G)}}var S=eg(i,f,n,0,null,!1,!1,"",ng);return n._reactRootContainer=S,n[Hr]=S.current,eo(n.nodeType===8?n.parentNode:n),os(),S}for(;g=n.lastChild;)n.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var G=dl(L);R.call(G)}}var L=Ju(n,0,!1,null,null,!1,!1,"",ng);return n._reactRootContainer=L,n[Hr]=L.current,eo(n.nodeType===8?n.parentNode:n),os(function(){ul(i,L,c,f)}),L}function ml(n,i,c,f,g){var v=c._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var R=g;g=function(){var L=dl(S);R.call(L)}}ul(i,S,n,g)}else S=YC(c,i,n,g,f);return dl(S)}Lh=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Fi(i.pendingLanes);c!==0&&(Sc(i,c|1),Gt(i,mt()),(Ke&6)===0&&(ni=mt()+500,xn()))}break;case 13:os(function(){var f=Xr(n,1);if(f!==null){var g=Ft();jr(f,n,1,g)}}),Zu(n,1)}},Nc=function(n){if(n.tag===13){var i=Xr(n,134217728);if(i!==null){var c=Ft();jr(i,n,134217728,c)}Zu(n,134217728)}},$h=function(n){if(n.tag===13){var i=Sn(n),c=Xr(n,i);if(c!==null){var f=Ft();jr(c,n,i,f)}Zu(n,i)}},Fh=function(){return Xe},Uh=function(n,i){var c=Xe;try{return Xe=n,i()}finally{Xe=c}},Li=function(n,i,c){switch(i){case"input":if(Te(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==n&&f.form===n.form){var g=Aa(f);if(!g)throw Error(r(90));$e(f),Te(f,g)}}}break;case"textarea":vt(n,c);break;case"select":i=c.value,i!=null&&Re(n,!!c.multiple,i,!1)}},Ds=Hu,ua=os;var JC={usingClientEntryPoint:!1,Events:[no,Ws,Aa,la,ca,Hu]},vo={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZC={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ph(n),n===null?null:n.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||XC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{fa=pl.inject(ZC),Or=pl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JC,Kt.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(i))throw Error(r(200));return QC(n,i,null,c)},Kt.createRoot=function(n,i){if(!td(n))throw Error(r(299));var c=!1,f="",g=rg;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Ju(n,1,!1,null,null,c,!1,f,g),n[Hr]=i.current,eo(n.nodeType===8?n.parentNode:n),new ed(i)},Kt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Ph(i),n=n===null?null:n.stateNode,n},Kt.flushSync=function(n){return os(n)},Kt.hydrate=function(n,i,c){if(!hl(i))throw Error(r(200));return ml(null,n,i,!0,c)},Kt.hydrateRoot=function(n,i,c){if(!td(n))throw Error(r(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",S=rg;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),i=eg(i,null,n,1,c??null,g,!1,v,S),n[Hr]=i.current,eo(n),f)for(n=0;n<f.length;n++)c=f[n],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new fl(i)},Kt.render=function(n,i,c){if(!hl(i))throw Error(r(200));return ml(null,n,i,!1,c)},Kt.unmountComponentAtNode=function(n){if(!hl(n))throw Error(r(40));return n._reactRootContainer?(os(function(){ml(null,null,n,!1,function(){n._reactRootContainer=null,n[Hr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Hu,Kt.unstable_renderSubtreeIntoContainer=function(n,i,c,f){if(!hl(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return ml(n,i,c,!1,f)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var dg;function Tv(){if(dg)return sd.exports;dg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sd.exports=l1(),sd.exports}var fg;function c1(){if(fg)return gl;fg=1;var t=Tv();return gl.createRoot=t.createRoot,gl.hydrateRoot=t.hydrateRoot,gl}var u1=c1();const d1=Ss(u1);var ad,hg;function f1(){if(hg)return ad;hg=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var d,h,m;if(Array.isArray(l)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(!o(l[h],u[h]))return!1;return!0}var p;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(p=l.entries();!(h=p.next()).done;)if(!u.has(h.value[0]))return!1;for(p=l.entries();!(h=p.next()).done;)if(!o(h.value[1],u.get(h.value[0])))return!1;return!0}if(r&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(p=l.entries();!(h=p.next()).done;)if(!u.has(h.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(d=l.length,d!=u.length)return!1;for(h=d;h--!==0;)if(l[h]!==u[h])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(m=Object.keys(l),d=m.length,d!==Object.keys(u).length)return!1;for(h=d;h--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[h]))return!1;if(t&&l instanceof Element)return!1;for(h=d;h--!==0;)if(!((m[h]==="_owner"||m[h]==="__v"||m[h]==="__o")&&l.$$typeof)&&!o(l[m[h]],u[m[h]]))return!1;return!0}return l!==l&&u!==u}return ad=function(u,d){try{return o(u,d)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},ad}var h1=f1();const m1=Ss(h1);var ld,mg;function p1(){if(mg)return ld;mg=1;var t=function(e,r,s,o,l,u,d,h){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,o,l,u,d,h],y=0;m=new Error(r.replace(/%s/g,function(){return p[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return ld=t,ld}var g1=p1();const pg=Ss(g1);var cd,gg;function y1(){return gg||(gg=1,cd=function(e,r,s,o){var l=s?s.call(o,e,r):void 0;if(l!==void 0)return!!l;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var u=Object.keys(e),d=Object.keys(r);if(u.length!==d.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(r),m=0;m<u.length;m++){var p=u[m];if(!h(p))return!1;var y=e[p],x=r[p];if(l=s?s.call(o,y,x,p):void 0,l===!1||l===void 0&&y!==x)return!1}return!0}),cd}var v1=y1();const x1=Ss(v1);var Av=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Av||{}),ud={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},yg=Object.values(Av),Of={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},w1=Object.entries(Of).reduce((t,[e,r])=>(t[r]=e,t),{}),kr="data-rh",ji={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Si=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const s=t[r];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},b1=t=>{let e=Si(t,"title");const r=Si(t,ji.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const s=Si(t,ji.DEFAULT_TITLE);return e||s||void 0},C1=t=>Si(t,ji.ON_CHANGE_CLIENT_STATE)||(()=>{}),dd=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,s)=>({...r,...s}),{}),_1=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,s)=>{if(!r.length){const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const d=o[l].toLowerCase();if(t.indexOf(d)!==-1&&s[d])return r.concat(s)}}return r},[]),j1=t=>console&&typeof console.warn=="function"&&console.warn(t),wo=(t,e,r)=>{const s={};return r.filter(o=>Array.isArray(o[t])?!0:(typeof o[t]<"u"&&j1(`Helmet: ${t} should be of type "Array". Instead found type "${typeof o[t]}"`),!1)).map(o=>o[t]).reverse().reduce((o,l)=>{const u={};l.filter(h=>{let m;const p=Object.keys(h);for(let x=0;x<p.length;x+=1){const w=p[x],j=w.toLowerCase();e.indexOf(j)!==-1&&!(m==="rel"&&h[m].toLowerCase()==="canonical")&&!(j==="rel"&&h[j].toLowerCase()==="stylesheet")&&(m=j),e.indexOf(w)!==-1&&(w==="innerHTML"||w==="cssText"||w==="itemprop")&&(m=w)}if(!m||!h[m])return!1;const y=h[m].toLowerCase();return s[m]||(s[m]={}),u[m]||(u[m]={}),s[m][y]?!1:(u[m][y]=!0,!0)}).reverse().forEach(h=>o.push(h));const d=Object.keys(u);for(let h=0;h<d.length;h+=1){const m=d[h],p={...s[m],...u[m]};s[m]=p}return o},[]).reverse()},S1=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},N1=t=>({baseTag:_1(["href"],t),bodyAttributes:dd("bodyAttributes",t),defer:Si(t,ji.DEFER),encode:Si(t,ji.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:dd("htmlAttributes",t),linkTags:wo("link",["rel","href"],t),metaTags:wo("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:wo("noscript",["innerHTML"],t),onChangeClientState:C1(t),scriptTags:wo("script",["src","innerHTML"],t),styleTags:wo("style",["cssText"],t),title:b1(t),titleAttributes:dd("titleAttributes",t),prioritizeSeoTags:S1(t,ji.PRIORITIZE_SEO_TAGS)}),Rv=t=>Array.isArray(t)?t.join(""):t,k1=(t,e)=>{const r=Object.keys(t);for(let s=0;s<r.length;s+=1)if(e[r[s]]&&e[r[s]].includes(t[r[s]]))return!0;return!1},fd=(t,e)=>Array.isArray(t)?t.reduce((r,s)=>(k1(s,e)?r.priority.push(s):r.default.push(s),r),{priority:[],default:[]}):{default:t,priority:[]},vg=(t,e)=>({...t,[e]:void 0}),E1=["noscript","script","style"],Vd=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ov=t=>Object.keys(t).reduce((e,r)=>{const s=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${s}`:s},""),P1=(t,e,r,s)=>{const o=Ov(r),l=Rv(e);return o?`<${t} ${kr}="true" ${o}>${Vd(l,s)}</${t}>`:`<${t} ${kr}="true">${Vd(l,s)}</${t}>`},T1=(t,e,r=!0)=>e.reduce((s,o)=>{const l=o,u=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,p)=>{const y=typeof l[p]>"u"?p:`${p}="${Vd(l[p],r)}"`;return m?`${m} ${y}`:y},""),d=l.innerHTML||l.cssText||"",h=E1.indexOf(t)===-1;return`${s}<${t} ${kr}="true" ${u}${h?"/>":`>${d}</${t}>`}`},""),Mv=(t,e={})=>Object.keys(t).reduce((r,s)=>{const o=Of[s];return r[o||s]=t[s],r},e),A1=(t,e,r)=>{const s={key:e,[kr]:!0},o=Mv(r,s);return[Je.createElement("title",o,e)]},Tl=(t,e)=>e.map((r,s)=>{const o={key:s,[kr]:!0};return Object.keys(r).forEach(l=>{const d=Of[l]||l;if(d==="innerHTML"||d==="cssText"){const h=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[d]=r[l]}),Je.createElement(t,o)}),mr=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>A1(t,e.title,e.titleAttributes),toString:()=>P1(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Mv(e),toString:()=>Ov(e)};default:return{toComponent:()=>Tl(t,e),toString:()=>T1(t,e,r)}}},R1=({metaTags:t,linkTags:e,scriptTags:r,encode:s})=>{const o=fd(t,ud.meta),l=fd(e,ud.link),u=fd(r,ud.script);return{priorityMethods:{toComponent:()=>[...Tl("meta",o.priority),...Tl("link",l.priority),...Tl("script",u.priority)],toString:()=>`${mr("meta",o.priority,s)} ${mr("link",l.priority,s)} ${mr("script",u.priority,s)}`},metaTags:o.default,linkTags:l.default,scriptTags:u.default}},O1=t=>{const{baseTag:e,bodyAttributes:r,encode:s=!0,htmlAttributes:o,noscriptTags:l,styleTags:u,title:d="",titleAttributes:h,prioritizeSeoTags:m}=t;let{linkTags:p,metaTags:y,scriptTags:x}=t,w={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:w,linkTags:p,metaTags:y,scriptTags:x}=R1(t)),{priority:w,base:mr("base",e,s),bodyAttributes:mr("bodyAttributes",r,s),htmlAttributes:mr("htmlAttributes",o,s),link:mr("link",p,s),meta:mr("meta",y,s),noscript:mr("noscript",l,s),script:mr("script",x,s),style:mr("style",u,s),title:mr("title",{title:d,titleAttributes:h},s)}},zd=O1,yl=[],Iv=!!(typeof window<"u"&&window.document&&window.document.createElement),Wd=class{instances=[];canUseDOM=Iv;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?yl:this.instances,add:t=>{(this.canUseDOM?yl:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?yl:this.instances).indexOf(t);(this.canUseDOM?yl:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=zd({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},M1={},Dv=Je.createContext(M1),Lv=class $v extends b.Component{static canUseDOM=Iv;helmetData;constructor(e){super(e),this.helmetData=new Wd(this.props.context||{},$v.canUseDOM)}render(){return Je.createElement(Dv.Provider,{value:this.helmetData.value},this.props.children)}},ii=(t,e)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${t}[${kr}]`),o=[].slice.call(s),l=[];let u;return e&&e.length&&e.forEach(d=>{const h=document.createElement(t);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")h.innerHTML=d.innerHTML;else if(m==="cssText")h.styleSheet?h.styleSheet.cssText=d.cssText:h.appendChild(document.createTextNode(d.cssText));else{const p=m,y=typeof d[p]>"u"?"":d[p];h.setAttribute(m,y)}h.setAttribute(kr,"true"),o.some((m,p)=>(u=p,h.isEqualNode(m)))?o.splice(u,1):l.push(h)}),o.forEach(d=>d.parentNode?.removeChild(d)),l.forEach(d=>r.appendChild(d)),{oldTags:o,newTags:l}},qd=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const s=r.getAttribute(kr),o=s?s.split(","):[],l=[...o],u=Object.keys(e);for(const d of u){const h=e[d]||"";r.getAttribute(d)!==h&&r.setAttribute(d,h),o.indexOf(d)===-1&&o.push(d);const m=l.indexOf(d);m!==-1&&l.splice(m,1)}for(let d=l.length-1;d>=0;d-=1)r.removeAttribute(l[d]);o.length===l.length?r.removeAttribute(kr):r.getAttribute(kr)!==u.join(",")&&r.setAttribute(kr,u.join(","))},I1=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Rv(t)),qd("title",e)},xg=(t,e)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:o,linkTags:l,metaTags:u,noscriptTags:d,onChangeClientState:h,scriptTags:m,styleTags:p,title:y,titleAttributes:x}=t;qd("body",s),qd("html",o),I1(y,x);const w={baseTag:ii("base",r),linkTags:ii("link",l),metaTags:ii("meta",u),noscriptTags:ii("noscript",d),scriptTags:ii("script",m),styleTags:ii("style",p)},j={},C={};Object.keys(w).forEach(N=>{const{newTags:O,oldTags:k}=w[N];O.length&&(j[N]=O),k.length&&(C[N]=w[N].oldTags)}),e&&e(),h(t,j,C)},bo=null,D1=t=>{bo&&cancelAnimationFrame(bo),t.defer?bo=requestAnimationFrame(()=>{xg(t,()=>{bo=null})}):(xg(t),bo=null)},L1=D1,wg=class extends b.Component{rendered=!1;shouldComponentUpdate(t){return!x1(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let r=null;const s=N1(t.get().map(o=>{const l={...o.props};return delete l.context,l}));Lv.canUseDOM?L1(s):zd&&(r=zd(s)),e(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},$1=class extends b.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!m1(vg(this.props,"helmetData"),vg(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,s){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,r,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(s=>{r={...r,[s]:t[s]}}),r}warnOnInvalidChildren(t,e){return pg(yg.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${yg.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),pg(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return Je.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:o,...l}=s.props,u=Object.keys(l).reduce((h,m)=>(h[w1[m]||m]=l[m],h),{});let{type:d}=s;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(s,o),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(s,r,u,o);break;default:e=this.mapObjectTypeChildren(s,e,u,o);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:s}=e;if(t&&(r=this.mapChildrenToProps(t,r)),s&&!(s instanceof Wd)){const o=s;s=new Wd(o.context,!0),delete r.helmetData}return s?Je.createElement(wg,{...r,context:s.value}):Je.createElement(Dv.Consumer,null,o=>Je.createElement(wg,{...r,context:o}))}};const Fv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Zl=b.createContext({}),ec=b.createContext(null),tc=typeof document<"u",Mf=tc?b.useLayoutEffect:b.useEffect,Uv=b.createContext({strict:!1}),If=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),F1="framerAppearId",Bv="data-"+If(F1);function U1(t,e,r,s){const{visualElement:o}=b.useContext(Zl),l=b.useContext(Uv),u=b.useContext(ec),d=b.useContext(Fv).reducedMotion,h=b.useRef();s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current;b.useInsertionEffect(()=>{m&&m.update(r,u)});const p=b.useRef(!!(r[Bv]&&!window.HandoffComplete));return Mf(()=>{m&&(m.render(),p.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(m.updateFeatures(),!p.current&&m.animationState&&m.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),m}function wi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B1(t,e,r){return b.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):wi(r)&&(r.current=s))},[e])}function Uo(t){return typeof t=="string"||Array.isArray(t)}function rc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lf=["initial",...Df];function nc(t){return rc(t.animate)||Lf.some(e=>Uo(t[e]))}function Vv(t){return!!(nc(t)||t.variants)}function V1(t,e){if(nc(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Uo(r)?r:void 0,animate:Uo(s)?s:void 0}}return t.inherit!==!1?e:{}}function z1(t){const{initial:e,animate:r}=V1(t,b.useContext(Zl));return b.useMemo(()=>({initial:e,animate:r}),[bg(e),bg(r)])}function bg(t){return Array.isArray(t)?t.join(" "):t}const Cg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in Cg)Bo[t]={isEnabled:e=>Cg[t].some(r=>!!e[r])};function W1(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const $f=b.createContext({}),zv=b.createContext({}),q1=Symbol.for("motionComponentSymbol");function H1({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:o}){t&&W1(t);function l(d,h){let m;const p={...b.useContext(Fv),...d,layoutId:G1(d)},{isStatic:y}=p,x=z1(d),w=s(d,y);if(!y&&tc){x.visualElement=U1(o,w,p,e);const j=b.useContext(zv),C=b.useContext(Uv).strict;x.visualElement&&(m=x.visualElement.loadFeatures(p,C,t,j))}return b.createElement(Zl.Provider,{value:x},m&&x.visualElement?b.createElement(m,{visualElement:x.visualElement,...p}):null,r(o,d,B1(w,x.visualElement,h),w,y,x.visualElement))}const u=b.forwardRef(l);return u[q1]=o,u}function G1({layoutId:t}){const e=b.useContext($f).id;return e&&t!==void 0?e+"-"+t:t}function K1(t){function e(s,o={}){return H1(t(s,o))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(s,o)=>(r.has(o)||r.set(o,e(o)),r.get(o))})}const Q1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ff(t){return typeof t!="string"||t.includes("-")?!1:!!(Q1.indexOf(t)>-1||/[A-Z]/.test(t))}const Dl={};function X1(t){Object.assign(Dl,t)}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(Qo);function Wv(t,{layout:e,layoutId:r}){return Ns.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Dl[t]||t==="opacity")}const Xt=t=>!!(t&&t.getVelocity),Y1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J1=Qo.length;function Z1(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},s,o){let l="";for(let u=0;u<J1;u++){const d=Qo[u];if(t[d]!==void 0){const h=Y1[d]||d;l+=`${h}(${t[d]}) `}}return e&&!t.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(t,s?"":l):r&&s&&(l="none"),l}const qv=t=>e=>typeof e=="string"&&e.startsWith(t),Hv=qv("--"),Hd=qv("var(--"),e_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,t_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$n=(t,e,r)=>Math.min(Math.max(r,t),e),ks={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ro={...ks,transform:t=>$n(0,1,t)},vl={...ks,default:1},Oo=t=>Math.round(t*1e5)/1e5,sc=/(-)?([\d]*\.?[\d])+/g,Gv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,r_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xo(t){return typeof t=="string"}const Yo=t=>({test:e=>Xo(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),An=Yo("deg"),Br=Yo("%"),Le=Yo("px"),n_=Yo("vh"),s_=Yo("vw"),_g={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},jg={...ks,transform:Math.round},Kv={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,size:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,rotate:An,rotateX:An,rotateY:An,rotateZ:An,scale:vl,scaleX:vl,scaleY:vl,scaleZ:vl,skew:An,skewX:An,skewY:An,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Ro,originX:_g,originY:_g,originZ:Le,zIndex:jg,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:jg};function Uf(t,e,r,s){const{style:o,vars:l,transform:u,transformOrigin:d}=t;let h=!1,m=!1,p=!0;for(const y in e){const x=e[y];if(Hv(y)){l[y]=x;continue}const w=Kv[y],j=t_(x,w);if(Ns.has(y)){if(h=!0,u[y]=j,!p)continue;x!==(w.default||0)&&(p=!1)}else y.startsWith("origin")?(m=!0,d[y]=j):o[y]=j}if(e.transform||(h||s?o.transform=Z1(t.transform,r,p,s):o.transform&&(o.transform="none")),m){const{originX:y="50%",originY:x="50%",originZ:w=0}=d;o.transformOrigin=`${y} ${x} ${w}`}}const Bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qv(t,e,r){for(const s in e)!Xt(e[s])&&!Wv(s,r)&&(t[s]=e[s])}function i_({transformTemplate:t},e,r){return b.useMemo(()=>{const s=Bf();return Uf(s,e,{enableHardwareAcceleration:!r},t),Object.assign({},s.vars,s.style)},[e])}function o_(t,e,r){const s=t.style||{},o={};return Qv(o,s,t),Object.assign(o,i_(t,e,r)),t.transformValues?t.transformValues(o):o}function a_(t,e,r){const s={},o=o_(t,e,r);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const l_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ll(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||l_.has(t)}let Xv=t=>!Ll(t);function c_(t){t&&(Xv=e=>e.startsWith("on")?!Ll(e):t(e))}try{c_(require("@emotion/is-prop-valid").default)}catch{}function u_(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Xv(o)||r===!0&&Ll(o)||!e&&!Ll(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function Sg(t,e,r){return typeof t=="string"?t:Le.transform(e+r*t)}function d_(t,e,r){const s=Sg(e,t.x,t.width),o=Sg(r,t.y,t.height);return`${s} ${o}`}const f_={offset:"stroke-dashoffset",array:"stroke-dasharray"},h_={offset:"strokeDashoffset",array:"strokeDasharray"};function m_(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?f_:h_;t[l.offset]=Le.transform(-s);const u=Le.transform(e),d=Le.transform(r);t[l.array]=`${u} ${d}`}function Vf(t,{attrX:e,attrY:r,attrScale:s,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...m},p,y,x){if(Uf(t,m,p,x),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:j,dimensions:C}=t;w.transform&&(C&&(j.transform=w.transform),delete w.transform),C&&(o!==void 0||l!==void 0||j.transform)&&(j.transformOrigin=d_(C,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),s!==void 0&&(w.scale=s),u!==void 0&&m_(w,u,d,h,!1)}const Yv=()=>({...Bf(),attrs:{}}),zf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p_(t,e,r,s){const o=b.useMemo(()=>{const l=Yv();return Vf(l,e,{enableHardwareAcceleration:!1},zf(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Qv(l,t.style,t),o.style={...l,...o.style}}return o}function g_(t=!1){return(r,s,o,{latestValues:l},u)=>{const h=(Ff(r)?p_:a_)(s,l,u,r),p={...u_(s,typeof r=="string",t),...h,ref:o},{children:y}=s,x=b.useMemo(()=>Xt(y)?y.get():y,[y]);return b.createElement(r,{...p,children:x})}}function Jv(t,{style:e,vars:r},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const l in r)t.style.setProperty(l,r[l])}const Zv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ex(t,e,r,s){Jv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Zv.has(o)?o:If(o),e.attrs[o])}function Wf(t,e){const{style:r}=t,s={};for(const o in r)(Xt(r[o])||e.style&&Xt(e.style[o])||Wv(o,t))&&(s[o]=r[o]);return s}function tx(t,e){const r=Wf(t,e);for(const s in t)if(Xt(t[s])||Xt(e[s])){const o=Qo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function qf(t,e,r,s={},o={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,s,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,s,o)),e}function rx(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const $l=t=>Array.isArray(t),y_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),v_=t=>$l(t)?t[t.length-1]||0:t;function Al(t){const e=Xt(t)?t.get():t;return y_(e)?e.toValue():e}function x_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},s,o,l){const u={latestValues:w_(s,o,l,t),renderState:e()};return r&&(u.mount=d=>r(s,d,u)),u}const nx=t=>(e,r)=>{const s=b.useContext(Zl),o=b.useContext(ec),l=()=>x_(t,e,s,o);return r?l():rx(l)};function w_(t,e,r,s){const o={},l=s(t,{});for(const x in l)o[x]=Al(l[x]);let{initial:u,animate:d}=t;const h=nc(t),m=Vv(t);e&&m&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||u===!1;const y=p?d:u;return y&&typeof y!="boolean"&&!rc(y)&&(Array.isArray(y)?y:[y]).forEach(w=>{const j=qf(t,w);if(!j)return;const{transitionEnd:C,transition:N,...O}=j;for(const k in O){let _=O[k];if(Array.isArray(_)){const A=p?_.length-1:0;_=_[A]}_!==null&&(o[k]=_)}for(const k in C)o[k]=C[k]}),o}const yt=t=>t;class Ng{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function b_(t){let e=new Ng,r=new Ng,s=0,o=!1,l=!1;const u=new WeakSet,d={schedule:(h,m=!1,p=!1)=>{const y=p&&o,x=y?e:r;return m&&u.add(h),x.add(h)&&y&&o&&(s=e.order.length),h},cancel:h=>{r.remove(h),u.delete(h)},process:h=>{if(o){l=!0;return}if(o=!0,[e,r]=[r,e],r.clear(),s=e.order.length,s)for(let m=0;m<s;m++){const p=e.order[m];p(h),u.has(p)&&(d.schedule(p),t())}o=!1,l&&(l=!1,d.process(h))}};return d}const xl=["prepare","read","update","preRender","render","postRender"],C_=40;function __(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=xl.reduce((y,x)=>(y[x]=b_(()=>r=!0),y),{}),u=y=>l[y].process(o),d=()=>{const y=performance.now();r=!1,o.delta=s?1e3/60:Math.max(Math.min(y-o.timestamp,C_),1),o.timestamp=y,o.isProcessing=!0,xl.forEach(u),o.isProcessing=!1,r&&e&&(s=!1,t(d))},h=()=>{r=!0,s=!0,o.isProcessing||t(d)};return{schedule:xl.reduce((y,x)=>{const w=l[x];return y[x]=(j,C=!1,N=!1)=>(r||h(),w.schedule(j,C,N)),y},{}),cancel:y=>xl.forEach(x=>l[x].cancel(y)),state:o,steps:l}}const{schedule:tt,cancel:sn,state:Lt,steps:hd}=__(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),j_={useVisualState:nx({scrapeMotionValuesFromProps:tx,createRenderState:Yv,onMount:(t,e,{renderState:r,latestValues:s})=>{tt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{Vf(r,s,{enableHardwareAcceleration:!1},zf(e.tagName),t.transformTemplate),ex(e,r)})}})},S_={useVisualState:nx({scrapeMotionValuesFromProps:Wf,createRenderState:Bf})};function N_(t,{forwardMotionProps:e=!1},r,s){return{...Ff(t)?j_:S_,preloadedFeatures:r,useRender:g_(e),createVisualElement:s,Component:t}}function tn(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}const sx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ic(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const k_=t=>e=>sx(e)&&t(e,ic(e));function rn(t,e,r,s){return tn(t,e,k_(r),s)}const E_=(t,e)=>r=>e(t(r)),Ln=(...t)=>t.reduce(E_);function ix(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const kg=ix("dragHorizontal"),Eg=ix("dragVertical");function ox(t){let e=!1;if(t==="y")e=Eg();else if(t==="x")e=kg();else{const r=kg(),s=Eg();r&&s?e=()=>{r(),s()}:(r&&r(),s&&s())}return e}function ax(){const t=ox(!0);return t?(t(),!1):!0}class zn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Pg(t,e){const r="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),o=(l,u)=>{if(l.pointerType==="touch"||ax())return;const d=t.getProps();t.animationState&&d.whileHover&&t.animationState.setActive("whileHover",e),d[s]&&tt.update(()=>d[s](l,u))};return rn(t.current,r,o,{passive:!t.getProps()[s]})}class P_ extends zn{mount(){this.unmount=Ln(Pg(this.node,!0),Pg(this.node,!1))}unmount(){}}class T_ extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ln(tn(this.node.current,"focus",()=>this.onFocus()),tn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const lx=(t,e)=>e?t===e?!0:lx(t,e.parentElement):!1;function md(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,ic(r))}class A_ extends zn{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=rn(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:p,globalTapTarget:y}=this.node.getProps();tt.update(()=>{!y&&!lx(this.node.current,d.target)?p&&p(d,h):m&&m(d,h)})},{passive:!(s.onTap||s.onPointerUp)}),u=rn(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Ln(l,u),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||md("up",(h,m)=>{const{onTap:p}=this.node.getProps();p&&tt.update(()=>p(h,m))})};this.removeEndListeners(),this.removeEndListeners=tn(this.node.current,"keyup",u),md("down",(d,h)=>{this.startPress(d,h)})},r=tn(this.node.current,"keydown",e),s=()=>{this.isPressing&&md("cancel",(l,u)=>this.cancelPress(l,u))},o=tn(this.node.current,"blur",s);this.removeAccessibleListeners=Ln(r,o)}}startPress(e,r){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&tt.update(()=>s(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ax()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&tt.update(()=>s(e,r))}mount(){const e=this.node.getProps(),r=rn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=tn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ln(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gd=new WeakMap,pd=new WeakMap,R_=t=>{const e=Gd.get(t.target);e&&e(t)},O_=t=>{t.forEach(R_)};function M_({root:t,...e}){const r=t||document;pd.has(r)||pd.set(r,{});const s=pd.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(O_,{root:t,...e})),s[o]}function I_(t,e,r){const s=M_(e);return Gd.set(t,r),s.observe(t),()=>{Gd.delete(t),s.unobserve(t)}}const D_={some:0,all:1};class L_ extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:D_[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),x=m?p:y;x&&x(h)};return I_(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some($_(e,r))&&this.startObserver()}unmount(){}}function $_({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const F_={inView:{Feature:L_},tap:{Feature:A_},focus:{Feature:T_},hover:{Feature:P_}};function cx(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}function U_(t){const e={};return t.values.forEach((r,s)=>e[s]=r.get()),e}function B_(t){const e={};return t.values.forEach((r,s)=>e[s]=r.getVelocity()),e}function oc(t,e,r){const s=t.getProps();return qf(s,e,r!==void 0?r:s.custom,U_(t),B_(t))}let Hf=yt;const ws=t=>t*1e3,nn=t=>t/1e3,V_={current:!1},ux=t=>Array.isArray(t)&&typeof t[0]=="number";function dx(t){return!!(!t||typeof t=="string"&&fx[t]||ux(t)||Array.isArray(t)&&t.every(dx))}const To=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,fx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function hx(t){if(t)return ux(t)?To(t):Array.isArray(t)?t.map(hx):fx[t]}function z_(t,e,r,{delay:s=0,duration:o,repeat:l=0,repeatType:u="loop",ease:d,times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=hx(d);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:s,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function W_(t,{repeat:e,repeatType:r="loop"}){const s=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[s]}const mx=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,q_=1e-7,H_=12;function G_(t,e,r,s,o){let l,u,d=0;do u=e+(r-e)/2,l=mx(u,s,o)-t,l>0?r=u:e=u;while(Math.abs(l)>q_&&++d<H_);return u}function Jo(t,e,r,s){if(t===e&&r===s)return yt;const o=l=>G_(l,0,1,t,r);return l=>l===0||l===1?l:mx(o(l),e,s)}const K_=Jo(.42,0,1,1),Q_=Jo(0,0,.58,1),px=Jo(.42,0,.58,1),X_=t=>Array.isArray(t)&&typeof t[0]!="number",gx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yx=t=>e=>1-t(1-e),Gf=t=>1-Math.sin(Math.acos(t)),vx=yx(Gf),Y_=gx(Gf),xx=Jo(.33,1.53,.69,.99),Kf=yx(xx),J_=gx(Kf),Z_=t=>(t*=2)<1?.5*Kf(t):.5*(2-Math.pow(2,-10*(t-1))),ej={linear:yt,easeIn:K_,easeInOut:px,easeOut:Q_,circIn:Gf,circInOut:Y_,circOut:vx,backIn:Kf,backInOut:J_,backOut:xx,anticipate:Z_},Tg=t=>{if(Array.isArray(t)){Hf(t.length===4);const[e,r,s,o]=t;return Jo(e,r,s,o)}else if(typeof t=="string")return ej[t];return t},Qf=(t,e)=>r=>!!(Xo(r)&&r_.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),wx=(t,e,r)=>s=>{if(!Xo(s))return s;const[o,l,u,d]=s.match(sc);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},tj=t=>$n(0,255,t),gd={...ks,transform:t=>Math.round(tj(t))},vs={test:Qf("rgb","red"),parse:wx("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+gd.transform(t)+", "+gd.transform(e)+", "+gd.transform(r)+", "+Oo(Ro.transform(s))+")"};function rj(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Kd={test:Qf("#"),parse:rj,transform:vs.transform},bi={test:Qf("hsl","hue"),parse:wx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Br.transform(Oo(e))+", "+Br.transform(Oo(r))+", "+Oo(Ro.transform(s))+")"},Ut={test:t=>vs.test(t)||Kd.test(t)||bi.test(t),parse:t=>vs.test(t)?vs.parse(t):bi.test(t)?bi.parse(t):Kd.parse(t),transform:t=>Xo(t)?t:t.hasOwnProperty("red")?vs.transform(t):bi.transform(t)},ut=(t,e,r)=>-r*t+r*e+t;function yd(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function nj({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=yd(h,d,t+1/3),l=yd(h,d,t),u=yd(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}const vd=(t,e,r)=>{const s=t*t;return Math.sqrt(Math.max(0,r*(e*e-s)+s))},sj=[Kd,vs,bi],ij=t=>sj.find(e=>e.test(t));function Ag(t){const e=ij(t);let r=e.parse(t);return e===bi&&(r=nj(r)),r}const bx=(t,e)=>{const r=Ag(t),s=Ag(e),o={...r};return l=>(o.red=vd(r.red,s.red,l),o.green=vd(r.green,s.green,l),o.blue=vd(r.blue,s.blue,l),o.alpha=ut(r.alpha,s.alpha,l),vs.transform(o))};function oj(t){var e,r;return isNaN(t)&&Xo(t)&&(((e=t.match(sc))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Gv))===null||r===void 0?void 0:r.length)||0)>0}const Cx={regex:e_,countKey:"Vars",token:"${v}",parse:yt},_x={regex:Gv,countKey:"Colors",token:"${c}",parse:Ut.parse},jx={regex:sc,countKey:"Numbers",token:"${n}",parse:ks.parse};function xd(t,{regex:e,countKey:r,token:s,parse:o}){const l=t.tokenised.match(e);l&&(t["num"+r]=l.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...l.map(o)))}function Fl(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&xd(r,Cx),xd(r,_x),xd(r,jx),r}function Sx(t){return Fl(t).values}function Nx(t){const{values:e,numColors:r,numVars:s,tokenised:o}=Fl(t),l=e.length;return u=>{let d=o;for(let h=0;h<l;h++)h<s?d=d.replace(Cx.token,u[h]):h<s+r?d=d.replace(_x.token,Ut.transform(u[h])):d=d.replace(jx.token,Oo(u[h]));return d}}const aj=t=>typeof t=="number"?0:t;function lj(t){const e=Sx(t);return Nx(t)(e.map(aj))}const Fn={test:oj,parse:Sx,createTransformer:Nx,getAnimatableNone:lj},kx=(t,e)=>r=>`${r>0?e:t}`;function Ex(t,e){return typeof t=="number"?r=>ut(t,e,r):Ut.test(t)?bx(t,e):t.startsWith("var(")?kx(t,e):Tx(t,e)}const Px=(t,e)=>{const r=[...t],s=r.length,o=t.map((l,u)=>Ex(l,e[u]));return l=>{for(let u=0;u<s;u++)r[u]=o[u](l);return r}},cj=(t,e)=>{const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Ex(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}},Tx=(t,e)=>{const r=Fn.createTransformer(e),s=Fl(t),o=Fl(e);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?Ln(Px(s.values,o.values),r):kx(t,e)},Vo=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s},Rg=(t,e)=>r=>ut(t,e,r);function uj(t){return typeof t=="number"?Rg:typeof t=="string"?Ut.test(t)?bx:Tx:Array.isArray(t)?Px:typeof t=="object"?cj:Rg}function dj(t,e,r){const s=[],o=r||uj(t[0]),l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||yt:e;d=Ln(h,d)}s.push(d)}return s}function Ax(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(Hf(l===e.length),l===1)return()=>e[0];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=dj(e,s,o),d=u.length,h=m=>{let p=0;if(d>1)for(;p<t.length-2&&!(m<t[p+1]);p++);const y=Vo(t[p],t[p+1],m);return u[p](y)};return r?m=>h($n(t[0],t[l-1],m)):h}function fj(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Vo(0,e,s);t.push(ut(r,1,o))}}function hj(t){const e=[0];return fj(e,t.length-1),e}function mj(t,e){return t.map(r=>r*e)}function pj(t,e){return t.map(()=>e||px).splice(0,t.length-1)}function Ul({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=X_(s)?s.map(Tg):Tg(s),l={done:!1,value:e[0]},u=mj(r&&r.length===e.length?r:hj(e),t),d=Ax(u,e,{ease:Array.isArray(o)?o:pj(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}function Rx(t,e){return e?t*(1e3/e):0}const gj=5;function Ox(t,e,r){const s=Math.max(e-gj,0);return Rx(r-t(s),e-s)}const wd=.001,yj=.01,vj=10,xj=.05,wj=1;function bj({duration:t=800,bounce:e=.25,velocity:r=0,mass:s=1}){let o,l,u=1-e;u=$n(xj,wj,u),t=$n(yj,vj,nn(t)),u<1?(o=m=>{const p=m*u,y=p*t,x=p-r,w=Qd(m,u),j=Math.exp(-y);return wd-x/w*j},l=m=>{const y=m*u*t,x=y*r+r,w=Math.pow(u,2)*Math.pow(m,2)*t,j=Math.exp(-y),C=Qd(Math.pow(m,2),u);return(-o(m)+wd>0?-1:1)*((x-w)*j)/C}):(o=m=>{const p=Math.exp(-m*t),y=(m-r)*t+1;return-wd+p*y},l=m=>{const p=Math.exp(-m*t),y=(r-m)*(t*t);return p*y});const d=5/t,h=_j(o,l,d);if(t=ws(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const Cj=12;function _j(t,e,r){let s=r;for(let o=1;o<Cj;o++)s=s-t(s)/e(s);return s}function Qd(t,e){return t*Math.sqrt(1-e*e)}const jj=["duration","bounce"],Sj=["stiffness","damping","mass"];function Og(t,e){return e.some(r=>t[r]!==void 0)}function Nj(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Og(t,Sj)&&Og(t,jj)){const r=bj(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Mx({keyframes:t,restDelta:e,restSpeed:r,...s}){const o=t[0],l=t[t.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:p,velocity:y,isResolvedFromDuration:x}=Nj({...s,velocity:-nn(s.velocity||0)}),w=y||0,j=h/(2*Math.sqrt(d*m)),C=l-o,N=nn(Math.sqrt(d/m)),O=Math.abs(C)<5;r||(r=O?.01:2),e||(e=O?.005:.5);let k;if(j<1){const _=Qd(N,j);k=A=>{const F=Math.exp(-j*N*A);return l-F*((w+j*N*C)/_*Math.sin(_*A)+C*Math.cos(_*A))}}else if(j===1)k=_=>l-Math.exp(-N*_)*(C+(w+N*C)*_);else{const _=N*Math.sqrt(j*j-1);k=A=>{const F=Math.exp(-j*N*A),M=Math.min(_*A,300);return l-F*((w+j*N*C)*Math.sinh(M)+_*C*Math.cosh(M))/_}}return{calculatedDuration:x&&p||null,next:_=>{const A=k(_);if(x)u.done=_>=p;else{let F=w;_!==0&&(j<1?F=Ox(k,_,A):F=0);const M=Math.abs(F)<=r,I=Math.abs(l-A)<=e;u.done=M&&I}return u.value=u.done?l:A,u}}}function Mg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:m=.5,restSpeed:p}){const y=t[0],x={done:!1,value:y},w=W=>d!==void 0&&W<d||h!==void 0&&W>h,j=W=>d===void 0?h:h===void 0||Math.abs(d-W)<Math.abs(h-W)?d:h;let C=r*e;const N=y+C,O=u===void 0?N:u(N);O!==N&&(C=O-y);const k=W=>-C*Math.exp(-W/s),_=W=>O+k(W),A=W=>{const Z=k(W),B=_(W);x.done=Math.abs(Z)<=m,x.value=x.done?O:B};let F,M;const I=W=>{w(x.value)&&(F=W,M=Mx({keyframes:[x.value,j(x.value)],velocity:Ox(_,W,x.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return I(0),{calculatedDuration:null,next:W=>{let Z=!1;return!M&&F===void 0&&(Z=!0,A(W),I(W)),F!==void 0&&W>F?M.next(W-F):(!Z&&A(W),x)}}}const kj=t=>{const e=({timestamp:r})=>t(r);return{start:()=>tt.update(e,!0),stop:()=>sn(e),now:()=>Lt.isProcessing?Lt.timestamp:performance.now()}},Ig=2e4;function Dg(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Ig;)e+=r,s=t.next(e);return e>=Ig?1/0:e}const Ej={decay:Mg,inertia:Mg,tween:Ul,keyframes:Ul,spring:Mx};function Bl({autoplay:t=!0,delay:e=0,driver:r=kj,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:h,onStop:m,onComplete:p,onUpdate:y,...x}){let w=1,j=!1,C,N;const O=()=>{N=new Promise(E=>{C=E})};O();let k;const _=Ej[o]||Ul;let A;_!==Ul&&typeof s[0]!="number"&&(A=Ax([0,100],s,{clamp:!1}),s=[0,100]);const F=_({...x,keyframes:s});let M;d==="mirror"&&(M=_({...x,keyframes:[...s].reverse(),velocity:-(x.velocity||0)}));let I="idle",W=null,Z=null,B=null;F.calculatedDuration===null&&l&&(F.calculatedDuration=Dg(F));const{calculatedDuration:ge}=F;let ie=1/0,X=1/0;ge!==null&&(ie=ge+u,X=ie*(l+1)-u);let z=0;const ue=E=>{if(Z===null)return;w>0&&(Z=Math.min(Z,E)),w<0&&(Z=Math.min(E-X/w,Z)),W!==null?z=W:z=Math.round(E-Z)*w;const D=z-e*(w>=0?1:-1),K=w>=0?D<0:D>X;z=Math.max(D,0),I==="finished"&&W===null&&(z=X);let ce=z,xe=F;if(l){const Oe=Math.min(z,X)/ie;let qe=Math.floor(Oe),Y=Oe%1;!Y&&Oe>=1&&(Y=1),Y===1&&qe--,qe=Math.min(qe,l+1),!!(qe%2)&&(d==="reverse"?(Y=1-Y,u&&(Y-=u/ie)):d==="mirror"&&(xe=M)),ce=$n(0,1,Y)*ie}const pe=K?{done:!1,value:s[0]}:xe.next(ce);A&&(pe.value=A(pe.value));let{done:be}=pe;!K&&ge!==null&&(be=w>=0?z>=X:z<=0);const ye=W===null&&(I==="finished"||I==="running"&&be);return y&&y(pe.value),ye&&H(),pe},he=()=>{k&&k.stop(),k=void 0},le=()=>{I="idle",he(),C(),O(),Z=B=null},H=()=>{I="finished",p&&p(),he(),C()},ee=()=>{if(j)return;k||(k=r(ue));const E=k.now();h&&h(),W!==null?Z=E-W:(!Z||I==="finished")&&(Z=E),I==="finished"&&O(),B=Z,W=null,I="running",k.start()};t&&ee();const te={then(E,D){return N.then(E,D)},get time(){return nn(z)},set time(E){E=ws(E),z=E,W!==null||!k||w===0?W=E:Z=k.now()-E/w},get duration(){const E=F.calculatedDuration===null?Dg(F):F.calculatedDuration;return nn(E)},get speed(){return w},set speed(E){E===w||!k||(w=E,te.time=nn(z))},get state(){return I},play:ee,pause:()=>{I="paused",W=z},stop:()=>{j=!0,I!=="idle"&&(I="idle",m&&m(),le())},cancel:()=>{B!==null&&ue(B),le()},complete:()=>{I="finished"},sample:E=>(Z=0,ue(E))};return te}function Pj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tj=Pj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Aj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wl=10,Rj=2e4,Oj=(t,e)=>e.type==="spring"||t==="backgroundColor"||!dx(e.ease);function Mj(t,e,{onUpdate:r,onComplete:s,...o}){if(!(Tj()&&Aj.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,d,h,m=!1;const p=()=>{h=new Promise(_=>{d=_})};p();let{keyframes:y,duration:x=300,ease:w,times:j}=o;if(Oj(e,o)){const _=Bl({...o,repeat:0,delay:0});let A={done:!1,value:y[0]};const F=[];let M=0;for(;!A.done&&M<Rj;)A=_.sample(M),F.push(A.value),M+=wl;j=void 0,y=F,x=M-wl,w="linear"}const C=z_(t.owner.current,e,y,{...o,duration:x,ease:w,times:j}),N=()=>{m=!1,C.cancel()},O=()=>{m=!0,tt.update(N),d(),p()};return C.onfinish=()=>{m||(t.set(W_(y,o)),s&&s(),O())},{then(_,A){return h.then(_,A)},attachTimeline(_){return C.timeline=_,C.onfinish=null,yt},get time(){return nn(C.currentTime||0)},set time(_){C.currentTime=ws(_)},get speed(){return C.playbackRate},set speed(_){C.playbackRate=_},get duration(){return nn(x)},play:()=>{u||(C.play(),sn(N))},pause:()=>C.pause(),stop:()=>{if(u=!0,C.playState==="idle")return;const{currentTime:_}=C;if(_){const A=Bl({...o,autoplay:!1});t.setWithVelocity(A.sample(_-wl).value,A.sample(_).value,wl)}O()},complete:()=>{m||C.finish()},cancel:O}}function Ij({keyframes:t,delay:e,onUpdate:r,onComplete:s}){const o=()=>(r&&r(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:l=>(l(),Promise.resolve()),cancel:yt,complete:yt});return e?Bl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const Dj={type:"spring",stiffness:500,damping:25,restSpeed:10},Lj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$j={type:"keyframes",duration:.8},Fj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uj=(t,{keyframes:e})=>e.length>2?$j:Ns.has(t)?t.startsWith("scale")?Lj(e[1]):Dj:Fj,Xd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fn.test(e)||e==="0")&&!e.startsWith("url(")),Bj=new Set(["brightness","contrast","saturate","opacity"]);function Vj(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(sc)||[];if(!s)return t;const o=r.replace(s,"");let l=Bj.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const zj=/([a-z-]*)\(.*?\)/g,Yd={...Fn,getAnimatableNone:t=>{const e=t.match(zj);return e?e.map(Vj).join(" "):t}},Wj={...Kv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Yd,WebkitFilter:Yd},Xf=t=>Wj[t];function Ix(t,e){let r=Xf(t);return r!==Yd&&(r=Fn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Dx=t=>/^0[^.\s]+$/.test(t);function qj(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Dx(t)}function Hj(t,e,r,s){const o=Xd(e,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const u=s.from!==void 0?s.from:t.get();let d;const h=[];for(let m=0;m<l.length;m++)l[m]===null&&(l[m]=m===0?u:l[m-1]),qj(l[m])&&h.push(m),typeof l[m]=="string"&&l[m]!=="none"&&l[m]!=="0"&&(d=l[m]);if(o&&h.length&&d)for(let m=0;m<h.length;m++){const p=h[m];l[p]=Ix(e,d)}return l}function Gj({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}function Yf(t,e){return t[e]||t.default||t}const Kj={skipAnimations:!1},Jf=(t,e,r,s={})=>o=>{const l=Yf(s,t)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-ws(u);const h=Hj(e,t,r,l),m=h[0],p=h[h.length-1],y=Xd(t,m),x=Xd(t,p);let w={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:j=>{e.set(j),l.onUpdate&&l.onUpdate(j)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(Gj(l)||(w={...w,...Uj(t,w)}),w.duration&&(w.duration=ws(w.duration)),w.repeatDelay&&(w.repeatDelay=ws(w.repeatDelay)),!y||!x||V_.current||l.type===!1||Kj.skipAnimations)return Ij(w);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const j=Mj(e,t,w);if(j)return j}return Bl(w)};function Vl(t){return!!(Xt(t)&&t.add)}const Lx=t=>/^\-?\d*\.?\d+$/.test(t);function Zf(t,e){t.indexOf(e)===-1&&t.push(e)}function eh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class th{constructor(){this.subscriptions=[]}add(e){return Zf(this.subscriptions,e),()=>eh(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qj=t=>!isNaN(parseFloat(t));class Xj{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:l,timestamp:u}=Lt;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Qj(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new th);const s=this.events[e].add(r);return e==="change"?()=>{s(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Rx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ki(t,e){return new Xj(t,e)}const $x=t=>e=>e.test(t),Yj={test:t=>t==="auto",parse:t=>t},Fx=[ks,Le,Br,An,s_,n_,Yj],Co=t=>Fx.find($x(t)),Jj=[...Fx,Ut,Fn],Zj=t=>Jj.find($x(t));function eS(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ki(r))}function tS(t,e){const r=oc(t,e);let{transitionEnd:s={},transition:o={},...l}=r?t.makeTargetAnimatable(r,!1):{};l={...l,...s};for(const u in l){const d=v_(l[u]);eS(t,u,d)}}function rS(t,e,r){var s,o;const l=Object.keys(e).filter(d=>!t.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const h=l[d],m=e[h];let p=null;Array.isArray(m)&&(p=m[0]),p===null&&(p=(o=(s=r[h])!==null&&s!==void 0?s:t.readValue(h))!==null&&o!==void 0?o:e[h]),p!=null&&(typeof p=="string"&&(Lx(p)||Dx(p))?p=parseFloat(p):!Zj(p)&&Fn.test(m)&&(p=Ix(h,m)),t.addValue(h,ki(p,{owner:t})),r[h]===void 0&&(r[h]=p),p!==null&&t.setBaseTarget(h,p))}}function nS(t,e){return e?(e[t]||e.default||e).from:void 0}function sS(t,e,r){const s={};for(const o in t){const l=nS(o,e);if(l!==void 0)s[o]=l;else{const u=r.getValue(o);u&&(s[o]=u.get())}}return s}function iS({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function oS(t,e){const r=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==r)return!0}else return r!==e}function Ux(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");s&&(l=s);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const y in d){const x=t.getValue(y),w=d[y];if(!x||w===void 0||p&&iS(p,y))continue;const j={delay:r,elapsed:0,...Yf(l||{},y)};if(window.HandoffAppearAnimations){const O=t.getProps()[Bv];if(O){const k=window.HandoffAppearAnimations(O,y,x,tt);k!==null&&(j.elapsed=k,j.isHandoff=!0)}}let C=!j.isHandoff&&!oS(x,w);if(j.type==="spring"&&(x.getVelocity()||j.velocity)&&(C=!1),x.animation&&(C=!1),C)continue;x.start(Jf(y,x,w,t.shouldReduceMotion&&Ns.has(y)?{type:!1}:j));const N=x.animation;Vl(h)&&(h.add(y),N.then(()=>h.remove(y))),m.push(N)}return u&&Promise.all(m).then(()=>{u&&tS(t,u)}),m}function Jd(t,e,r={}){const s=oc(t,e,r.custom);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all(Ux(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:y}=o;return aS(t,e,m+h,p,y,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>m())}else return Promise.all([l(),u(r.delay)])}function aS(t,e,r=0,s=0,o=1,l){const u=[],d=(t.variantChildren.size-1)*s,h=o===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(t.variantChildren).sort(lS).forEach((m,p)=>{m.notify("AnimationStart",e),u.push(Jd(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function lS(t,e){return t.sortNodePosition(e)}function cS(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>Jd(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=Jd(t,e,r);else{const o=typeof e=="function"?oc(t,e,r.custom):e;s=Promise.all(Ux(t,o,r))}return s.then(()=>t.notify("AnimationComplete",e))}const uS=[...Df].reverse(),dS=Df.length;function fS(t){return e=>Promise.all(e.map(({animation:r,options:s})=>cS(t,r,s)))}function hS(t){let e=fS(t);const r=pS();let s=!0;const o=(h,m)=>{const p=oc(t,m);if(p){const{transition:y,transitionEnd:x,...w}=p;h={...h,...w,...x}}return h};function l(h){e=h(t)}function u(h,m){const p=t.getProps(),y=t.getVariantContext(!0)||{},x=[],w=new Set;let j={},C=1/0;for(let O=0;O<dS;O++){const k=uS[O],_=r[k],A=p[k]!==void 0?p[k]:y[k],F=Uo(A),M=k===m?_.isActive:null;M===!1&&(C=O);let I=A===y[k]&&A!==p[k]&&F;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...j},!_.isActive&&M===null||!A&&!_.prevProp||rc(A)||typeof A=="boolean")continue;let Z=mS(_.prevProp,A)||k===m&&_.isActive&&!I&&F||O>C&&F,B=!1;const ge=Array.isArray(A)?A:[A];let ie=ge.reduce(o,{});M===!1&&(ie={});const{prevResolvedValues:X={}}=_,z={...X,...ie},ue=he=>{Z=!0,w.has(he)&&(B=!0,w.delete(he)),_.needsAnimating[he]=!0};for(const he in z){const le=ie[he],H=X[he];if(j.hasOwnProperty(he))continue;let ee=!1;$l(le)&&$l(H)?ee=!cx(le,H):ee=le!==H,ee?le!==void 0?ue(he):w.add(he):le!==void 0&&w.has(he)?ue(he):_.protectedKeys[he]=!0}_.prevProp=A,_.prevResolvedValues=ie,_.isActive&&(j={...j,...ie}),s&&t.blockInitialAnimation&&(Z=!1),Z&&(!I||B)&&x.push(...ge.map(he=>({animation:he,options:{type:k,...h}})))}if(w.size){const O={};w.forEach(k=>{const _=t.getBaseTarget(k);_!==void 0&&(O[k]=_)}),x.push({animation:O})}let N=!!x.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(x):Promise.resolve()}function d(h,m,p){var y;if(r[h].isActive===m)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var j;return(j=w.animationState)===null||j===void 0?void 0:j.setActive(h,m)}),r[h].isActive=m;const x=u(p,h);for(const w in r)r[w].protectedKeys={};return x}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r}}function mS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cx(e,t):!1}function us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pS(){return{animate:us(!0),whileInView:us(),whileHover:us(),whileTap:us(),whileDrag:us(),whileFocus:us(),exit:us()}}class gS extends zn{constructor(e){super(e),e.animationState||(e.animationState=hS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),rc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let yS=0;class vS extends zn{constructor(){super(...arguments),this.id=yS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});r&&!e&&l.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xS={animation:{Feature:gS},exit:{Feature:vS}},Lg=(t,e)=>Math.abs(t-e);function wS(t,e){const r=Lg(t.x,e.x),s=Lg(t.y,e.y);return Math.sqrt(r**2+s**2)}class Bx{constructor(e,r,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=wS(y.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:j}=y,{timestamp:C}=Lt;this.history.push({...j,timestamp:C});const{onStart:N,onMove:O}=this.handlers;x||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=bd(x,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Cd(y.type==="pointercancel"?this.lastMoveEventInfo:bd(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,N),j&&j(y,N)},!sx(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.contextWindow=o||window;const u=ic(e),d=bd(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=Lt;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,Cd(d,this.history)),this.removeListeners=Ln(rn(this.contextWindow,"pointermove",this.handlePointerMove),rn(this.contextWindow,"pointerup",this.handlePointerUp),rn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sn(this.updatePoint)}}function bd(t,e){return e?{point:e(t.point)}:t}function $g(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cd({point:t},e){return{point:t,delta:$g(t,Vx(e)),offset:$g(t,bS(e)),velocity:CS(e,.1)}}function bS(t){return t[0]}function Vx(t){return t[t.length-1]}function CS(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=Vx(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>ws(e)));)r--;if(!s)return{x:0,y:0};const l=nn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function sr(t){return t.max-t.min}function Zd(t,e=0,r=.01){return Math.abs(t-e)<=r}function Fg(t,e,r,s=.5){t.origin=s,t.originPoint=ut(e.min,e.max,t.origin),t.scale=sr(r)/sr(e),(Zd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(r.min,r.max,t.origin)-t.originPoint,(Zd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mo(t,e,r,s){Fg(t.x,e.x,r.x,s?s.originX:void 0),Fg(t.y,e.y,r.y,s?s.originY:void 0)}function Ug(t,e,r){t.min=r.min+e.min,t.max=t.min+sr(e)}function _S(t,e,r){Ug(t.x,e.x,r.x),Ug(t.y,e.y,r.y)}function Bg(t,e,r){t.min=e.min-r.min,t.max=t.min+sr(e)}function Io(t,e,r){Bg(t.x,e.x,r.x),Bg(t.y,e.y,r.y)}function jS(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?ut(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?ut(r,t,s.max):Math.min(t,r)),t}function Vg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function SS(t,{top:e,left:r,bottom:s,right:o}){return{x:Vg(t.x,r,o),y:Vg(t.y,e,s)}}function zg(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function NS(t,e){return{x:zg(t.x,e.x),y:zg(t.y,e.y)}}function kS(t,e){let r=.5;const s=sr(t),o=sr(e);return o>s?r=Vo(e.min,e.max-s,t.min):s>o&&(r=Vo(t.min,t.max-o,e.min)),$n(0,1,r)}function ES(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const ef=.35;function PS(t=ef){return t===!1?t=0:t===!0&&(t=ef),{x:Wg(t,"left","right"),y:Wg(t,"top","bottom")}}function Wg(t,e,r){return{min:qg(t,e),max:qg(t,r)}}function qg(t,e){return typeof t=="number"?t:t[e]||0}const Hg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ci=()=>({x:Hg(),y:Hg()}),Gg=()=>({min:0,max:0}),wt=()=>({x:Gg(),y:Gg()});function hr(t){return[t("x"),t("y")]}function zx({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function TS({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AS(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function _d(t){return t===void 0||t===1}function tf({scale:t,scaleX:e,scaleY:r}){return!_d(t)||!_d(e)||!_d(r)}function hs(t){return tf(t)||Wx(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Wx(t){return Kg(t.x)||Kg(t.y)}function Kg(t){return t&&t!=="0%"}function zl(t,e,r){const s=t-r,o=e*s;return r+o}function Qg(t,e,r,s,o){return o!==void 0&&(t=zl(t,o,s)),zl(t,r,s)+e}function rf(t,e=0,r=1,s,o){t.min=Qg(t.min,e,r,s,o),t.max=Qg(t.max,e,r,s,o)}function qx(t,{x:e,y:r}){rf(t.x,e.translate,e.scale,e.originPoint),rf(t.y,r.translate,r.scale,r.originPoint)}function RS(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const h=l.instance;h&&h.style&&h.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&_i(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,qx(t,u)),s&&hs(l.latestValues)&&_i(t,l.latestValues))}e.x=Xg(e.x),e.y=Xg(e.y)}function Xg(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function On(t,e){t.min=t.min+e,t.max=t.max+e}function Yg(t,e,[r,s,o]){const l=e[o]!==void 0?e[o]:.5,u=ut(t.min,t.max,l);rf(t,e[r],e[s],u,e.scale)}const OS=["x","scaleX","originX"],MS=["y","scaleY","originY"];function _i(t,e){Yg(t.x,e,OS),Yg(t.y,e,MS)}function Hx(t,e){return zx(AS(t.getBoundingClientRect(),e))}function IS(t,e,r){const s=Hx(t,r),{scroll:o}=e;return o&&(On(s.x,o.offset.x),On(s.y,o.offset.y)),s}const Gx=({current:t})=>t?t.ownerDocument.defaultView:null,DS=new WeakMap;class LS{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ic(p,"page").point)},l=(p,y)=>{const{drag:x,dragPropagation:w,onDragStart:j}=this.getProps();if(x&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ox(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hr(N=>{let O=this.getAxisMotionValue(N).get()||0;if(Br.test(O)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[N];_&&(O=sr(_)*(parseFloat(O)/100))}}this.originPoint[N]=O}),j&&tt.update(()=>j(p,y),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(p,y)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:j,onDrag:C}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:N}=y;if(w&&this.currentDirection===null){this.currentDirection=$S(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),C&&C(p,y)},d=(p,y)=>this.stop(p,y),h=()=>hr(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Bx(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Gx(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&tt.update(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!bl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=jS(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&wi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=SS(o.layoutBox,r):this.constraints=!1,this.elastic=PS(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&hr(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=ES(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!wi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=IS(s,o.root,this.visualElement.getTransformPagePoint());let u=NS(o.layout.layoutBox,l);if(r){const d=r(TS(u));this.hasMutatedConstraints=!!d,d&&(u=zx(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=hr(p=>{if(!bl(p,r,this.currentDirection))return;let y=h&&h[p]||{};u&&(y={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,j={type:"inertia",velocity:s?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(p,j)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return s.start(Jf(e,s,0,r))}stopAnimation(){hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hr(r=>{const{drag:s}=this.getProps();if(!bl(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-ut(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!wi(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};hr(u=>{const d=this.getAxisMotionValue(u);if(d){const h=d.get();o[u]=kS({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hr(u=>{if(!bl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set(ut(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;DS.set(this.visualElement,this);const e=this.visualElement.current,r=rn(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();wi(h)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const u=tn(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(hr(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=ef,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function bl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function $S(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class FS extends zn{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new LS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jg=t=>(e,r)=>{t&&tt.update(()=>t(e,r))};class US extends zn{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new Bx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Jg(e),onStart:Jg(r),onMove:s,onEnd:(l,u)=>{delete this.session,o&&tt.update(()=>o(l,u))}}}mount(){this.removePointerDownListener=rn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function BS(){const t=b.useContext(ec);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:s}=t,o=b.useId();return b.useEffect(()=>s(o),[]),!e&&r?[!1,()=>r&&r(o)]:[!0]}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _o={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const r=Zg(t,e.target.x),s=Zg(t,e.target.y);return`${r}% ${s}%`}},VS={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=Fn.parse(t);if(o.length>5)return s;const l=Fn.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const m=ut(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class zS extends Je.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;X1(WS),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||tt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kx(t){const[e,r]=BS(),s=b.useContext($f);return Je.createElement(zS,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(zv),isPresent:e,safeToRemove:r})}const WS={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:VS},Qx=["TopLeft","TopRight","BottomLeft","BottomRight"],qS=Qx.length,ey=t=>typeof t=="string"?parseFloat(t):t,ty=t=>typeof t=="number"||Le.test(t);function HS(t,e,r,s,o,l){o?(t.opacity=ut(0,r.opacity!==void 0?r.opacity:1,GS(s)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,KS(s))):l&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let u=0;u<qS;u++){const d=`border${Qx[u]}Radius`;let h=ry(e,d),m=ry(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||ty(h)===ty(m)?(t[d]=Math.max(ut(ey(h),ey(m),s),0),(Br.test(m)||Br.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=ut(e.rotate||0,r.rotate||0,s))}function ry(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GS=Xx(0,.5,vx),KS=Xx(.5,.95,yt);function Xx(t,e,r){return s=>s<t?0:s>e?1:r(Vo(t,e,s))}function ny(t,e){t.min=e.min,t.max=e.max}function dr(t,e){ny(t.x,e.x),ny(t.y,e.y)}function sy(t,e,r,s,o){return t-=e,t=zl(t,1/r,s),o!==void 0&&(t=zl(t,1/o,s)),t}function QS(t,e=0,r=1,s=.5,o,l=t,u=t){if(Br.test(e)&&(e=parseFloat(e),e=ut(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ut(l.min,l.max,s);t===l&&(d-=e),t.min=sy(t.min,e,r,d,o),t.max=sy(t.max,e,r,d,o)}function iy(t,e,[r,s,o],l,u){QS(t,e[r],e[s],e[o],e.scale,l,u)}const XS=["x","scaleX","originX"],YS=["y","scaleY","originY"];function oy(t,e,r,s){iy(t.x,e,XS,r?r.x:void 0,s?s.x:void 0),iy(t.y,e,YS,r?r.y:void 0,s?s.y:void 0)}function ay(t){return t.translate===0&&t.scale===1}function Yx(t){return ay(t.x)&&ay(t.y)}function JS(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Jx(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function ly(t){return sr(t.x)/sr(t.y)}class ZS{constructor(){this.members=[]}add(e){Zf(this.members,e),e.scheduleRender()}remove(e){if(eh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cy(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:h,rotateX:m,rotateY:p}=r;h&&(s+=`rotate(${h}deg) `),m&&(s+=`rotateX(${m}deg) `),p&&(s+=`rotateY(${p}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const eN=(t,e)=>t.depth-e.depth;class tN{constructor(){this.children=[],this.isDirty=!1}add(e){Zf(this.children,e),this.isDirty=!0}remove(e){eh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eN),this.isDirty=!1,this.children.forEach(e)}}function rN(t,e){const r=performance.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(sn(s),t(l-e))};return tt.read(s,!0),()=>sn(s)}function nN(t){window.MotionDebug&&window.MotionDebug.record(t)}function sN(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iN(t,e,r){const s=Xt(t)?t:ki(t);return s.start(Jf("",s,e,r)),s.animation}const uy=["","X","Y","Z"],oN={visibility:"hidden"},dy=1e3;let aN=0;const ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zx({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=aN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ms.totalNodes=ms.resolvedTargetDeltas=ms.recalculatedProjection=0,this.nodes.forEach(uN),this.nodes.forEach(pN),this.nodes.forEach(gN),this.nodes.forEach(dN),nN(ms)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new tN)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new th),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sN(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let y;const x=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=rN(x,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach(hy))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeTargetChanged:w,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||bN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=p.getProps(),k=!this.targetLayout||!Jx(this.targetLayout,j)||w,_=!x&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,_);const A={...Yf(C,"layout"),onPlay:N,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||hy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fy);return}this.isUpdating||this.nodes.forEach(hN),this.isUpdating=!1,this.nodes.forEach(mN),this.nodes.forEach(lN),this.nodes.forEach(cN),this.clearAllSnapshots();const d=performance.now();Lt.delta=$n(0,1e3/60,d-Lt.timestamp),Lt.timestamp=d,Lt.isProcessing=!0,hd.update.process(Lt),hd.preRender.process(Lt),hd.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fN),this.sharedNodes.forEach(vN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!Yx(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&(d||hs(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),CN(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return wt();const d=u.measureViewportBox(),{scroll:h}=this.root;return h&&(On(d.x,h.offset.x),On(d.y,h.offset.y)),d}removeElementScroll(u){const d=wt();dr(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:y}=m;if(m!==this.root&&p&&y.layoutScroll){if(p.isRoot){dr(d,u);const{scroll:x}=this.root;x&&(On(d.x,-x.offset.x),On(d.y,-x.offset.y))}On(d.x,p.offset.x),On(d.y,p.offset.y)}}return d}applyTransform(u,d=!1){const h=wt();dr(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&_i(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hs(p.latestValues)&&_i(h,p.latestValues)}return hs(this.latestValues)&&_i(h,this.latestValues),h}removeTransform(u){const d=wt();dr(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!hs(m.latestValues))continue;tf(m.latestValues)&&m.updateSnapshot();const p=wt(),y=m.measurePageBox();dr(p,y),oy(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return hs(this.latestValues)&&oy(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Io(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_S(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),qx(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Io(this.relativeTargetOrigin,this.target,w.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tf(this.parent.latestValues)||Wx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;dr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;RS(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:j}=d;if(!j){this.projectionTransform&&(this.projectionDelta=Ci(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ci(),this.projectionDeltaWithTransform=Ci());const C=this.projectionTransform;Mo(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=cy(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==x||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=Ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=wt(),w=h?h.source:void 0,j=this.layout?this.layout.source:void 0,C=w!==j,N=this.getStack(),O=!N||N.members.length<=1,k=!!(C&&!O&&this.options.crossfade===!0&&!this.path.some(wN));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const F=A/1e3;my(y.x,u.x,F),my(y.y,u.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Io(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xN(this.relativeTarget,this.relativeTargetOrigin,x,F),_&&JS(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=wt()),dr(_,this.relativeTarget)),C&&(this.animationValues=p,HS(p,m,this.latestValues,F,k,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Rl.hasAnimatedSinceResize=!0,this.currentAnimation=iN(0,dy,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=u;if(!(!d||!h||!m)){if(this!==u&&this.layout&&m&&e0(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||wt();const y=sr(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const x=sr(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+x}dr(d,h),_i(d,p),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZS),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const m={};for(let p=0;p<uy.length;p++){const y="rotate"+uy[p];h[y]&&(m[y]=h[y],u.setStaticValue(y,0))}u.render();for(const p in m)u.setStaticValue(p,m[p]);u.scheduleRender()}getProjectionStyles(u){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oN;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Al(u?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Al(u?.pointerEvents)||""),this.hasProjected&&!hs(this.latestValues)&&(C.transform=p?p({},""):"none",this.hasProjected=!1),C}const x=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=cy(this.projectionDeltaWithTransform,this.treeScale,x),p&&(m.transform=p(x,m.transform));const{x:w,y:j}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${j.origin*100}% 0`,y.animationValues?m.opacity=y===this?(h=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:m.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in Dl){if(x[C]===void 0)continue;const{correct:N,applyTo:O}=Dl[C],k=m.transform==="none"?x[C]:N(x[C],y);if(O){const _=O.length;for(let A=0;A<_;A++)m[O[A]]=k}else m[C]=k}return this.options.layoutId&&(m.pointerEvents=y===this?Al(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(fy),this.root.sharedNodes.clear()}}}function lN(t){t.updateLayout()}function cN(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,u=r.source!==t.layout.source;l==="size"?hr(y=>{const x=u?r.measuredBox[y]:r.layoutBox[y],w=sr(x);x.min=s[y].min,x.max=x.min+w}):e0(l,r.layoutBox,s)&&hr(y=>{const x=u?r.measuredBox[y]:r.layoutBox[y],w=sr(s[y]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const d=Ci();Mo(d,s,r.layoutBox);const h=Ci();u?Mo(h,t.applyTransform(o,!0),r.measuredBox):Mo(h,s,r.layoutBox);const m=!Yx(d);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:w}=y;if(x&&w){const j=wt();Io(j,r.layoutBox,x.layoutBox);const C=wt();Io(C,s,w.layoutBox),Jx(j,C)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=j,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function uN(t){ms.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fN(t){t.clearSnapshot()}function fy(t){t.clearMeasurements()}function hN(t){t.isLayoutDirty=!1}function mN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pN(t){t.resolveTargetDelta()}function gN(t){t.calcProjection()}function yN(t){t.resetRotation()}function vN(t){t.removeLeadSnapshot()}function my(t,e,r){t.translate=ut(e.translate,0,r),t.scale=ut(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function py(t,e,r,s){t.min=ut(e.min,r.min,s),t.max=ut(e.max,r.max,s)}function xN(t,e,r,s){py(t.x,e.x,r.x,s),py(t.y,e.y,r.y,s)}function wN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bN={duration:.45,ease:[.4,0,.1,1]},gy=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),yy=gy("applewebkit/")&&!gy("chrome/")?Math.round:yt;function vy(t){t.min=yy(t.min),t.max=yy(t.max)}function CN(t){vy(t.x),vy(t.y)}function e0(t,e,r){return t==="position"||t==="preserve-aspect"&&!Zd(ly(e),ly(r),.2)}const _N=Zx({attachResizeListener:(t,e)=>tn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jd={current:void 0},t0=Zx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jd.current){const t=new _N({});t.mount(window),t.setOptions({layoutScroll:!0}),jd.current=t}return jd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jN={pan:{Feature:US},drag:{Feature:FS,ProjectionNode:t0,MeasureLayout:Kx}},SN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function NN(t){const e=SN.exec(t);if(!e)return[,];const[,r,s]=e;return[r,s]}function nf(t,e,r=1){const[s,o]=NN(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Lx(u)?parseFloat(u):u}else return Hd(o)?nf(o,e,r+1):o}function kN(t,{...e},r){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(o=>{const l=o.get();if(!Hd(l))return;const u=nf(l,s);u&&o.set(u)});for(const o in e){const l=e[o];if(!Hd(l))continue;const u=nf(l,s);u&&(e[o]=u,r||(r={}),r[o]===void 0&&(r[o]=l))}return{target:e,transitionEnd:r}}const EN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),r0=t=>EN.has(t),PN=t=>Object.keys(t).some(r0),xy=t=>t===ks||t===Le,wy=(t,e)=>parseFloat(t.split(", ")[e]),by=(t,e)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return wy(o[1],e);{const l=s.match(/^matrix\((.+)\)$/);return l?wy(l[1],t):0}},TN=new Set(["x","y","z"]),AN=Qo.filter(t=>!TN.has(t));function RN(t){const e=[];return AN.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ei={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:by(4,13),y:by(5,14)};Ei.translateX=Ei.x;Ei.translateY=Ei.y;const ON=(t,e,r)=>{const s=e.measureViewportBox(),o=e.current,l=getComputedStyle(o),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(m=>{d[m]=Ei[m](s,l)}),e.render();const h=e.measureViewportBox();return r.forEach(m=>{const p=e.getValue(m);p&&p.jump(d[m]),t[m]=Ei[m](h,l)}),t},MN=(t,e,r={},s={})=>{e={...e},s={...s};const o=Object.keys(e).filter(r0);let l=[],u=!1;const d=[];if(o.forEach(h=>{const m=t.getValue(h);if(!t.hasValue(h))return;let p=r[h],y=Co(p);const x=e[h];let w;if($l(x)){const j=x.length,C=x[0]===null?1:0;p=x[C],y=Co(p);for(let N=C;N<j&&x[N]!==null;N++)w?Hf(Co(x[N])===w):w=Co(x[N])}else w=Co(x);if(y!==w)if(xy(y)&&xy(w)){const j=m.get();typeof j=="string"&&m.set(parseFloat(j)),typeof x=="string"?e[h]=parseFloat(x):Array.isArray(x)&&w===Le&&(e[h]=x.map(parseFloat))}else y?.transform&&w?.transform&&(p===0||x===0)?p===0?m.set(w.transform(p)):e[h]=y.transform(x):(u||(l=RN(t),u=!0),d.push(h),s[h]=s[h]!==void 0?s[h]:e[h],m.jump(x))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,m=ON(e,t,d);return l.length&&l.forEach(([p,y])=>{t.getValue(p).set(y)}),t.render(),tc&&h!==null&&window.scrollTo({top:h}),{target:m,transitionEnd:s}}else return{target:e,transitionEnd:s}};function IN(t,e,r,s){return PN(e)?MN(t,e,r,s):{target:e,transitionEnd:s}}const DN=(t,e,r,s)=>{const o=kN(t,e,s);return e=o.target,s=o.transitionEnd,IN(t,e,r,s)},sf={current:null},n0={current:!1};function LN(){if(n0.current=!0,!!tc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sf.current=t.matches;t.addListener(e),e()}else sf.current=!1}function $N(t,e,r){const{willChange:s}=e;for(const o in e){const l=e[o],u=r[o];if(Xt(l))t.addValue(o,l),Vl(s)&&s.add(o);else if(Xt(u))t.addValue(o,ki(l,{owner:t})),Vl(s)&&s.remove(o);else if(u!==l)if(t.hasValue(o)){const d=t.getValue(o);!d.hasAnimated&&d.set(l)}else{const d=t.getStaticValue(o);t.addValue(o,ki(d!==void 0?d:l,{owner:t}))}}for(const o in r)e[o]===void 0&&t.removeValue(o);return e}const Cy=new WeakMap,s0=Object.keys(Bo),FN=s0.length,_y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UN=Lf.length;class BN{constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=nc(r),this.isVariantNode=Vv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(r,{});for(const y in p){const x=p[y];d[y]!==void 0&&Xt(x)&&(x.set(d[y],!1),Vl(m)&&m.add(y))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Cy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),n0.current||LN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cy.delete(this.current),this.projection&&this.projection.unmount(),sn(this.notifyUpdate),sn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const s=Ns.has(e),o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},s,o,l){let u,d;for(let h=0;h<FN;h++){const m=s0[h],{isEnabled:p,Feature:y,ProjectionNode:x,MeasureLayout:w}=Bo[m];x&&(u=x),p(r)&&(!this.features[m]&&y&&(this.features[m]=new y(this)),w&&(d=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:m,drag:p,dragConstraints:y,layoutScroll:x,layoutRoot:w}=r;this.projection.setOptions({layoutId:h,layout:m,alwaysMeasureLayout:!!p||y&&wi(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:l,layoutScroll:x,layoutRoot:w})}return d}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<_y.length;s++){const o=_y[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=e["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=$N(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<UN;s++){const o=Lf[s],l=this.props[o];(Uo(l)||l===!1)&&(r[o]=l)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=ki(r,{owner:this}),this.addValue(e,s)),s}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(r=qf(this.props,s))===null||r===void 0?void 0:r[e]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Xt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new th),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class i0 extends BN{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...s},{transformValues:o},l){let u=sS(s,e||{},this);if(o&&(r&&(r=o(r)),s&&(s=o(s)),u&&(u=o(u))),l){rS(this,s,u);const d=DN(this,s,u,r);r=d.transitionEnd,s=d.target}return{transition:e,transitionEnd:r,...s}}}function VN(t){return window.getComputedStyle(t)}class zN extends i0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Ns.has(r)){const s=Xf(r);return s&&s.default||0}else{const s=VN(e),o=(Hv(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Hx(e,r)}build(e,r,s,o){Uf(e,r,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Wf(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,s,o){Jv(e,r,s,o)}}class WN extends i0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ns.has(r)){const s=Xf(r);return s&&s.default||0}return r=Zv.has(r)?r:If(r),e.getAttribute(r)}measureInstanceViewportBox(){return wt()}scrapeMotionValuesFromProps(e,r){return tx(e,r)}build(e,r,s,o){Vf(e,r,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,r,s,o){ex(e,r,s,o)}mount(e){this.isSVGTag=zf(e.tagName),super.mount(e)}}const qN=(t,e)=>Ff(t)?new WN(e,{enableHardwareAcceleration:!1}):new zN(e,{enableHardwareAcceleration:!0}),HN={layout:{ProjectionNode:t0,MeasureLayout:Kx}},GN={...xS,...F_,...jN,...HN},me=K1((t,e)=>N_(t,e,GN,qN));function o0(){const t=b.useRef(!1);return Mf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function KN(){const t=o0(),[e,r]=b.useState(0),s=b.useCallback(()=>{t.current&&r(e+1)},[e]);return[b.useCallback(()=>tt.postRender(s),[s]),e]}class QN extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XN({children:t,isPresent:e}){const r=b.useId(),s=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=o.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=r;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),b.createElement(QN,{isPresent:e,childRef:s,sizeRef:o},b.cloneElement(t,{ref:s}))}const Sd=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u})=>{const d=rx(YN),h=b.useId(),m=b.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:p=>{d.set(p,!0);for(const y of d.values())if(!y)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),l?void 0:[r]);return b.useMemo(()=>{d.forEach((p,y)=>d.set(y,!1))},[r]),b.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),u==="popLayout"&&(t=b.createElement(XN,{isPresent:r},t)),b.createElement(ec.Provider,{value:m},t)};function YN(){return new Map}function JN(t){return b.useEffect(()=>()=>t(),[])}const ps=t=>t.key||"";function ZN(t,e){t.forEach(r=>{const s=ps(r);e.set(s,r)})}function ek(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const Pi=({children:t,custom:e,initial:r=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=b.useContext($f).forceRender||KN()[0],h=o0(),m=ek(t);let p=m;const y=b.useRef(new Map).current,x=b.useRef(p),w=b.useRef(new Map).current,j=b.useRef(!0);if(Mf(()=>{j.current=!1,ZN(m,w),x.current=p}),JN(()=>{j.current=!0,w.clear(),y.clear()}),j.current)return b.createElement(b.Fragment,null,p.map(k=>b.createElement(Sd,{key:ps(k),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:u},k)));p=[...p];const C=x.current.map(ps),N=m.map(ps),O=C.length;for(let k=0;k<O;k++){const _=C[k];N.indexOf(_)===-1&&!y.has(_)&&y.set(_,void 0)}return u==="wait"&&y.size&&(p=[]),y.forEach((k,_)=>{if(N.indexOf(_)!==-1)return;const A=w.get(_);if(!A)return;const F=C.indexOf(_);let M=k;if(!M){const I=()=>{y.delete(_);const W=Array.from(w.keys()).filter(Z=>!N.includes(Z));if(W.forEach(Z=>w.delete(Z)),x.current=m.filter(Z=>{const B=ps(Z);return B===_||W.includes(B)}),!y.size){if(h.current===!1)return;d(),s&&s()}};M=b.createElement(Sd,{key:ps(A),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:l,mode:u},A),y.set(_,M)}p.splice(F,0,M)}),p=p.map(k=>{const _=k.key;return y.has(_)?k:b.createElement(Sd,{key:ps(k),isPresent:!0,presenceAffectsLayout:l,mode:u},k)}),b.createElement(b.Fragment,null,y.size?p:p.map(k=>b.cloneElement(k)))};function a0(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=a0(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function l0(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=a0(t))&&(s&&(s+=" "),s+=e);return s}function tk(){for(var t=0,e,r,s="";t<arguments.length;)(e=arguments[t++])&&(r=c0(e))&&(s&&(s+=" "),s+=r);return s}function c0(t){if(typeof t=="string")return t;for(var e,r="",s=0;s<t.length;s++)t[s]&&(e=c0(t[s]))&&(r&&(r+=" "),r+=e);return r}var rh="-";function rk(t){var e=sk(t),r=t.conflictingClassGroups,s=t.conflictingClassGroupModifiers,o=s===void 0?{}:s;function l(d){var h=d.split(rh);return h[0]===""&&h.length!==1&&h.shift(),u0(h,e)||nk(d)}function u(d,h){var m=r[d]||[];return h&&o[d]?[].concat(m,o[d]):m}return{getClassGroupId:l,getConflictingClassGroupIds:u}}function u0(t,e){if(t.length===0)return e.classGroupId;var r=t[0],s=e.nextPart.get(r),o=s?u0(t.slice(1),s):void 0;if(o)return o;if(e.validators.length!==0){var l=t.join(rh);return e.validators.find(function(u){var d=u.validator;return d(l)})?.classGroupId}}var jy=/^\[(.+)\]$/;function nk(t){if(jy.test(t)){var e=jy.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function sk(t){var e=t.theme,r=t.prefix,s={nextPart:new Map,validators:[]},o=ok(Object.entries(t.classGroups),r);return o.forEach(function(l){var u=l[0],d=l[1];of(d,s,u,e)}),s}function of(t,e,r,s){t.forEach(function(o){if(typeof o=="string"){var l=o===""?e:Sy(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(ik(o)){of(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(u){var d=u[0],h=u[1];of(h,Sy(e,d),r,s)})})}function Sy(t,e){var r=t;return e.split(rh).forEach(function(s){r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r}function ik(t){return t.isThemeGetter}function ok(t,e){return e?t.map(function(r){var s=r[0],o=r[1],l=o.map(function(u){return typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(function(d){var h=d[0],m=d[1];return[e+h,m]})):u});return[s,l]}):t}function ak(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,s=new Map;function o(l,u){r.set(l,u),e++,e>t&&(e=0,s=r,r=new Map)}return{get:function(u){var d=r.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return o(u,d),d},set:function(u,d){r.has(u)?r.set(u,d):o(u,d)}}}var d0="!";function lk(t){var e=t.separator||":",r=e.length===1,s=e[0],o=e.length;return function(u){for(var d=[],h=0,m=0,p,y=0;y<u.length;y++){var x=u[y];if(h===0){if(x===s&&(r||u.slice(y,y+o)===e)){d.push(u.slice(m,y)),m=y+o;continue}if(x==="/"){p=y;continue}}x==="["?h++:x==="]"&&h--}var w=d.length===0?u:u.substring(m),j=w.startsWith(d0),C=j?w.substring(1):w,N=p&&p>m?p-m:void 0;return{modifiers:d,hasImportantModifier:j,baseClassName:C,maybePostfixModifierPosition:N}}}function ck(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(s){var o=s[0]==="[";o?(e.push.apply(e,r.sort().concat([s])),r=[]):r.push(s)}),e.push.apply(e,r.sort()),e}function uk(t){return{cache:ak(t.cacheSize),splitModifiers:lk(t),...rk(t)}}var dk=/\s+/;function fk(t,e){var r=e.splitModifiers,s=e.getClassGroupId,o=e.getConflictingClassGroupIds,l=new Set;return t.trim().split(dk).map(function(u){var d=r(u),h=d.modifiers,m=d.hasImportantModifier,p=d.baseClassName,y=d.maybePostfixModifierPosition,x=s(y?p.substring(0,y):p),w=!!y;if(!x){if(!y)return{isTailwindClass:!1,originalClassName:u};if(x=s(p),!x)return{isTailwindClass:!1,originalClassName:u};w=!1}var j=ck(h).join(":"),C=m?j+d0:j;return{isTailwindClass:!0,modifierId:C,classGroupId:x,originalClassName:u,hasPostfixModifier:w}}).reverse().filter(function(u){if(!u.isTailwindClass)return!0;var d=u.modifierId,h=u.classGroupId,m=u.hasPostfixModifier,p=d+h;return l.has(p)?!1:(l.add(p),o(h,m).forEach(function(y){return l.add(d+y)}),!0)}).reverse().map(function(u){return u.originalClassName}).join(" ")}function hk(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var s,o,l,u=d;function d(m){var p=e[0],y=e.slice(1),x=y.reduce(function(w,j){return j(w)},p());return s=uk(x),o=s.cache.get,l=s.cache.set,u=h,h(m)}function h(m){var p=o(m);if(p)return p;var y=fk(m,s);return l(m,y),y}return function(){return u(tk.apply(null,arguments))}}function st(t){var e=function(s){return s[t]||[]};return e.isThemeGetter=!0,e}var f0=/^\[(?:([a-z-]+):)?(.+)\]$/i,mk=/^\d+\/\d+$/,pk=new Set(["px","full","screen"]),gk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vk=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Sr(t){return xs(t)||pk.has(t)||mk.test(t)||af(t)}function af(t){return Es(t,"length",jk)}function xk(t){return Es(t,"size",h0)}function wk(t){return Es(t,"position",h0)}function bk(t){return Es(t,"url",Sk)}function Cl(t){return Es(t,"number",xs)}function xs(t){return!Number.isNaN(Number(t))}function Ck(t){return t.endsWith("%")&&xs(t.slice(0,-1))}function jo(t){return Ny(t)||Es(t,"number",Ny)}function He(t){return f0.test(t)}function So(){return!0}function Pn(t){return gk.test(t)}function _k(t){return Es(t,"",Nk)}function Es(t,e,r){var s=f0.exec(t);return s?s[1]?s[1]===e:r(s[2]):!1}function jk(t){return yk.test(t)}function h0(){return!1}function Sk(t){return t.startsWith("url(")}function Ny(t){return Number.isInteger(Number(t))}function Nk(t){return vk.test(t)}function kk(){var t=st("colors"),e=st("spacing"),r=st("blur"),s=st("brightness"),o=st("borderColor"),l=st("borderRadius"),u=st("borderSpacing"),d=st("borderWidth"),h=st("contrast"),m=st("grayscale"),p=st("hueRotate"),y=st("invert"),x=st("gap"),w=st("gradientColorStops"),j=st("gradientColorStopPositions"),C=st("inset"),N=st("margin"),O=st("opacity"),k=st("padding"),_=st("saturate"),A=st("scale"),F=st("sepia"),M=st("skew"),I=st("space"),W=st("translate"),Z=function(){return["auto","contain","none"]},B=function(){return["auto","hidden","clip","visible","scroll"]},ge=function(){return["auto",He,e]},ie=function(){return[He,e]},X=function(){return["",Sr]},z=function(){return["auto",xs,He]},ue=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},he=function(){return["solid","dashed","dotted","double","none"]},le=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},H=function(){return["start","end","center","between","around","evenly","stretch"]},ee=function(){return["","0",He]},te=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},E=function(){return[xs,Cl]},D=function(){return[xs,He]};return{cacheSize:500,theme:{colors:[So],spacing:[Sr],blur:["none","",Pn,He],brightness:E(),borderColor:[t],borderRadius:["none","","full",Pn,He],borderSpacing:ie(),borderWidth:X(),contrast:E(),grayscale:ee(),hueRotate:D(),invert:ee(),gap:ie(),gradientColorStops:[t],gradientColorStopPositions:[Ck,af],inset:ge(),margin:ge(),opacity:E(),padding:ie(),saturate:E(),scale:E(),sepia:ee(),skew:D(),space:ie(),translate:ie()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Pn]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ue(),[He])}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jo]}],basis:[{basis:ge()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",jo]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",jo]},He]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[jo]},He]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(H())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(H(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(H(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",He,e]}],"min-w":[{"min-w":["min","max","fit",He,Sr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Pn]},Pn,He]}],h:[{h:[He,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",He,Sr]}],"max-h":[{"max-h":[He,e,"min","max","fit"]}],"font-size":[{text:["base",Pn,af]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cl]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",xs,Cl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",He,Sr]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(he(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr]}],"underline-offset":[{"underline-offset":["auto",He,Sr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:ie()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ue(),[wk])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[].concat(he(),["hidden"])}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:he()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(he())}],"outline-offset":[{"outline-offset":[He,Sr]}],"outline-w":[{outline:[Sr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Sr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pn,_k]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":le()}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Pn,He]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[_]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[jo,He]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ie()}],"scroll-mx":[{"scroll-mx":ie()}],"scroll-my":[{"scroll-my":ie()}],"scroll-ms":[{"scroll-ms":ie()}],"scroll-me":[{"scroll-me":ie()}],"scroll-mt":[{"scroll-mt":ie()}],"scroll-mr":[{"scroll-mr":ie()}],"scroll-mb":[{"scroll-mb":ie()}],"scroll-ml":[{"scroll-ml":ie()}],"scroll-p":[{"scroll-p":ie()}],"scroll-px":[{"scroll-px":ie()}],"scroll-py":[{"scroll-py":ie()}],"scroll-ps":[{"scroll-ps":ie()}],"scroll-pe":[{"scroll-pe":ie()}],"scroll-pt":[{"scroll-pt":ie()}],"scroll-pr":[{"scroll-pr":ie()}],"scroll-pb":[{"scroll-pb":ie()}],"scroll-pl":[{"scroll-pl":ie()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,Cl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Ek=hk(kk);function Ps(...t){return Ek(l0(t))}var ac=Tv();const Pk=Ss(ac);function St(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function ky(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function m0(...t){return e=>{let r=!1;const s=t.map(o=>{const l=ky(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():ky(t[o],null)}}}}function Pr(...t){return b.useCallback(m0(...t),t)}function Zo(t,e=[]){let r=[];function s(l,u){const d=b.createContext(u),h=r.length;r=[...r,u];const m=y=>{const{scope:x,children:w,...j}=y,C=x?.[t]?.[h]||d,N=b.useMemo(()=>j,Object.values(j));return a.jsx(C.Provider,{value:N,children:w})};m.displayName=l+"Provider";function p(y,x){const w=x?.[t]?.[h]||d,j=b.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=r.map(u=>b.createContext(u));return function(d){const h=d?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,Tk(o,...e)]}function Tk(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Wl(t){const e=Rk(t),r=b.forwardRef((s,o)=>{const{children:l,...u}=s,d=b.Children.toArray(l),h=d.find(Mk);if(h){const m=h.props.children,p=d.map(y=>y===h?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return a.jsx(e,{...u,ref:o,children:b.isValidElement(m)?b.cloneElement(m,void 0,p):null})}return a.jsx(e,{...u,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var Ak=Wl("Slot");function Rk(t){const e=b.forwardRef((r,s)=>{const{children:o,...l}=r;if(b.isValidElement(o)){const u=Dk(o),d=Ik(l,o.props);return o.type!==b.Fragment&&(d.ref=s?m0(s,u):u),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var p0=Symbol("radix.slottable");function Ok(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=p0,e}function Mk(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===p0}function Ik(t,e){const r={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?r[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[s]=o):s==="style"?r[s]={...o,...l}:s==="className"&&(r[s]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function Dk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Lk(t){const e=t+"CollectionProvider",[r,s]=Zo(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:N,children:O}=C,k=Je.useRef(null),_=Je.useRef(new Map).current;return a.jsx(o,{scope:N,itemMap:_,collectionRef:k,children:O})};u.displayName=e;const d=t+"CollectionSlot",h=Wl(d),m=Je.forwardRef((C,N)=>{const{scope:O,children:k}=C,_=l(d,O),A=Pr(N,_.collectionRef);return a.jsx(h,{ref:A,children:k})});m.displayName=d;const p=t+"CollectionItemSlot",y="data-radix-collection-item",x=Wl(p),w=Je.forwardRef((C,N)=>{const{scope:O,children:k,..._}=C,A=Je.useRef(null),F=Pr(N,A),M=l(p,O);return Je.useEffect(()=>(M.itemMap.set(A,{ref:A,..._}),()=>void M.itemMap.delete(A))),a.jsx(x,{[y]:"",ref:F,children:k})});w.displayName=p;function j(C){const N=l(t+"CollectionConsumer",C);return Je.useCallback(()=>{const k=N.collectionRef.current;if(!k)return[];const _=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((M,I)=>_.indexOf(M.ref.current)-_.indexOf(I.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:w},j,s]}var $k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rt=$k.reduce((t,e)=>{const r=Wl(`Primitive.${e}`),s=b.forwardRef((o,l)=>{const{asChild:u,...d}=o,h=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function g0(t,e){t&&ac.flushSync(()=>t.dispatchEvent(e))}function on(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>e.current?.(...r),[])}function Fk(t,e=globalThis?.document){const r=on(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var Uk="DismissableLayer",lf="dismissableLayer.update",Bk="dismissableLayer.pointerDownOutside",Vk="dismissableLayer.focusOutside",Ey,y0=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=t,m=b.useContext(y0),[p,y]=b.useState(null),x=p?.ownerDocument??globalThis?.document,[,w]=b.useState({}),j=Pr(e,I=>y(I)),C=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=C.indexOf(N),k=p?C.indexOf(p):-1,_=m.layersWithOutsidePointerEventsDisabled.size>0,A=k>=O,F=Wk(I=>{const W=I.target,Z=[...m.branches].some(B=>B.contains(W));!A||Z||(o?.(I),u?.(I),I.defaultPrevented||d?.())},x),M=qk(I=>{const W=I.target;[...m.branches].some(B=>B.contains(W))||(l?.(I),u?.(I),I.defaultPrevented||d?.())},x);return Fk(I=>{k===m.layers.size-1&&(s?.(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},x),b.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ey=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Py(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ey)}},[p,x,r,m]),b.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Py())},[p,m]),b.useEffect(()=>{const I=()=>w({});return document.addEventListener(lf,I),()=>document.removeEventListener(lf,I)},[]),a.jsx(Rt.div,{...h,ref:j,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:St(t.onFocusCapture,M.onFocusCapture),onBlurCapture:St(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:St(t.onPointerDownCapture,F.onPointerDownCapture)})});nh.displayName=Uk;var zk="DismissableLayerBranch",v0=b.forwardRef((t,e)=>{const r=b.useContext(y0),s=b.useRef(null),o=Pr(e,s);return b.useEffect(()=>{const l=s.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),a.jsx(Rt.div,{...t,ref:o})});v0.displayName=zk;function Wk(t,e=globalThis?.document){const r=on(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let h=function(){x0(Bk,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function qk(t,e=globalThis?.document){const r=on(t),s=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!s.current&&x0(Vk,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Py(){const t=new CustomEvent(lf);document.dispatchEvent(t)}function x0(t,e,r,{discrete:s}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?g0(o,l):o.dispatchEvent(l)}var Hk=nh,Gk=v0,pr=globalThis?.document?b.useLayoutEffect:()=>{},Kk="Portal",sh=b.forwardRef((t,e)=>{const{container:r,...s}=t,[o,l]=b.useState(!1);pr(()=>l(!0),[]);const u=r||o&&globalThis?.document?.body;return u?Pk.createPortal(a.jsx(Rt.div,{...s,ref:e}),u):null});sh.displayName=Kk;function Qk(t,e){return b.useReducer((r,s)=>e[r][s]??r,t)}var lc=t=>{const{present:e,children:r}=t,s=Xk(e),o=typeof r=="function"?r({present:s.isPresent}):b.Children.only(r),l=Pr(s.ref,Yk(o));return typeof r=="function"||s.isPresent?b.cloneElement(o,{ref:l}):null};lc.displayName="Presence";function Xk(t){const[e,r]=b.useState(),s=b.useRef(null),o=b.useRef(t),l=b.useRef("none"),u=t?"mounted":"unmounted",[d,h]=Qk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=_l(s.current);l.current=d==="mounted"?m:"none"},[d]),pr(()=>{const m=s.current,p=o.current;if(p!==t){const x=l.current,w=_l(m);t?h("MOUNT"):w==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&x!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),pr(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,y=w=>{const C=_l(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&C&&(h("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},x=w=>{w.target===e&&(l.current=_l(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function _l(t){return t?.animationName||"none"}function Yk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Jk=Pv[" useInsertionEffect ".trim().toString()]||pr;function w0({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[o,l,u]=Zk({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:o;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const y=p.current;y!==d&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const m=b.useCallback(p=>{if(d){const y=eE(p)?p(t):p;y!==t&&u.current?.(y)}else l(p)},[d,t,l,u]);return[h,m]}function Zk({defaultProp:t,onChange:e}){const[r,s]=b.useState(t),o=b.useRef(r),l=b.useRef(e);return Jk(()=>{l.current=e},[e]),b.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,s,l]}function eE(t){return typeof t=="function"}var tE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rE="VisuallyHidden",cc=b.forwardRef((t,e)=>a.jsx(Rt.span,{...t,ref:e,style:{...tE,...t.style}}));cc.displayName=rE;var nE=cc,ih="ToastProvider",[oh,sE,iE]=Lk("Toast"),[b0]=Zo("Toast",[iE]),[oE,uc]=b0(ih),C0=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:u}=t,[d,h]=b.useState(null),[m,p]=b.useState(0),y=b.useRef(!1),x=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ih}\`. Expected non-empty \`string\`.`),a.jsx(oh.Provider,{scope:e,children:a.jsx(oE,{scope:e,label:r,duration:s,swipeDirection:o,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:b.useCallback(()=>p(w=>w+1),[]),onToastRemove:b.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:u})})};C0.displayName=ih;var _0="ToastViewport",aE=["F8"],cf="toast.viewportPause",uf="toast.viewportResume",j0=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=aE,label:o="Notifications ({hotkey})",...l}=t,u=uc(_0,r),d=sE(r),h=b.useRef(null),m=b.useRef(null),p=b.useRef(null),y=b.useRef(null),x=Pr(e,y,u.onViewportChange),w=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=u.toastCount>0;b.useEffect(()=>{const N=O=>{s.length!==0&&s.every(_=>O[_]||O.code===_)&&y.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),b.useEffect(()=>{const N=h.current,O=y.current;if(j&&N&&O){const k=()=>{if(!u.isClosePausedRef.current){const M=new CustomEvent(cf);O.dispatchEvent(M),u.isClosePausedRef.current=!0}},_=()=>{if(u.isClosePausedRef.current){const M=new CustomEvent(uf);O.dispatchEvent(M),u.isClosePausedRef.current=!1}},A=M=>{!N.contains(M.relatedTarget)&&_()},F=()=>{N.contains(document.activeElement)||_()};return N.addEventListener("focusin",k),N.addEventListener("focusout",A),N.addEventListener("pointermove",k),N.addEventListener("pointerleave",F),window.addEventListener("blur",k),window.addEventListener("focus",_),()=>{N.removeEventListener("focusin",k),N.removeEventListener("focusout",A),N.removeEventListener("pointermove",k),N.removeEventListener("pointerleave",F),window.removeEventListener("blur",k),window.removeEventListener("focus",_)}}},[j,u.isClosePausedRef]);const C=b.useCallback(({tabbingDirection:N})=>{const k=d().map(_=>{const A=_.ref.current,F=[A,...wE(A)];return N==="forwards"?F:F.reverse()});return(N==="forwards"?k.reverse():k).flat()},[d]);return b.useEffect(()=>{const N=y.current;if(N){const O=k=>{const _=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!_){const F=document.activeElement,M=k.shiftKey;if(k.target===N&&M){m.current?.focus();return}const Z=C({tabbingDirection:M?"backwards":"forwards"}),B=Z.findIndex(ge=>ge===F);Nd(Z.slice(B+1))?k.preventDefault():M?m.current?.focus():p.current?.focus()}};return N.addEventListener("keydown",O),()=>N.removeEventListener("keydown",O)}},[d,C]),a.jsxs(Gk,{ref:h,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&a.jsx(df,{ref:m,onFocusFromOutsideViewport:()=>{const N=C({tabbingDirection:"forwards"});Nd(N)}}),a.jsx(oh.Slot,{scope:r,children:a.jsx(Rt.ol,{tabIndex:-1,...l,ref:x})}),j&&a.jsx(df,{ref:p,onFocusFromOutsideViewport:()=>{const N=C({tabbingDirection:"backwards"});Nd(N)}})]})});j0.displayName=_0;var S0="ToastFocusProxy",df=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=t,l=uc(S0,r);return a.jsx(cc,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!l.viewport?.contains(d)&&s()}})});df.displayName=S0;var ea="Toast",lE="toast.swipeStart",cE="toast.swipeMove",uE="toast.swipeCancel",dE="toast.swipeEnd",N0=b.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:l,...u}=t,[d,h]=w0({prop:s,defaultProp:o??!0,onChange:l,caller:ea});return a.jsx(lc,{present:r||d,children:a.jsx(mE,{open:d,...u,ref:e,onClose:()=>h(!1),onPause:on(t.onPause),onResume:on(t.onResume),onSwipeStart:St(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:St(t.onSwipeMove,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:St(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:St(t.onSwipeEnd,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});N0.displayName=ea;var[fE,hE]=b0(ea,{onClose(){}}),mE=b.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:l,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:w,...j}=t,C=uc(ea,r),[N,O]=b.useState(null),k=Pr(e,z=>O(z)),_=b.useRef(null),A=b.useRef(null),F=o||C.duration,M=b.useRef(0),I=b.useRef(F),W=b.useRef(0),{onToastAdd:Z,onToastRemove:B}=C,ge=on(()=>{N?.contains(document.activeElement)&&C.viewport?.focus(),u()}),ie=b.useCallback(z=>{!z||z===1/0||(window.clearTimeout(W.current),M.current=new Date().getTime(),W.current=window.setTimeout(ge,z))},[ge]);b.useEffect(()=>{const z=C.viewport;if(z){const ue=()=>{ie(I.current),m?.()},he=()=>{const le=new Date().getTime()-M.current;I.current=I.current-le,window.clearTimeout(W.current),h?.()};return z.addEventListener(cf,he),z.addEventListener(uf,ue),()=>{z.removeEventListener(cf,he),z.removeEventListener(uf,ue)}}},[C.viewport,F,h,m,ie]),b.useEffect(()=>{l&&!C.isClosePausedRef.current&&ie(F)},[l,F,C.isClosePausedRef,ie]),b.useEffect(()=>(Z(),()=>B()),[Z,B]);const X=b.useMemo(()=>N?O0(N):null,[N]);return C.viewport?a.jsxs(a.Fragment,{children:[X&&a.jsx(pE,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:X}),a.jsx(fE,{scope:r,onClose:ge,children:ac.createPortal(a.jsx(oh.ItemSlot,{scope:r,children:a.jsx(Hk,{asChild:!0,onEscapeKeyDown:St(d,()=>{C.isFocusedToastEscapeKeyDownRef.current||ge(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Rt.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":C.swipeDirection,...j,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:St(t.onKeyDown,z=>{z.key==="Escape"&&(d?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,ge()))}),onPointerDown:St(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:St(t.onPointerMove,z=>{if(!_.current)return;const ue=z.clientX-_.current.x,he=z.clientY-_.current.y,le=!!A.current,H=["left","right"].includes(C.swipeDirection),ee=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,te=H?ee(0,ue):0,E=H?0:ee(0,he),D=z.pointerType==="touch"?10:2,K={x:te,y:E},ce={originalEvent:z,delta:K};le?(A.current=K,jl(cE,y,ce,{discrete:!1})):Ty(K,C.swipeDirection,D)?(A.current=K,jl(lE,p,ce,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ue)>D||Math.abs(he)>D)&&(_.current=null)}),onPointerUp:St(t.onPointerUp,z=>{const ue=A.current,he=z.target;if(he.hasPointerCapture(z.pointerId)&&he.releasePointerCapture(z.pointerId),A.current=null,_.current=null,ue){const le=z.currentTarget,H={originalEvent:z,delta:ue};Ty(ue,C.swipeDirection,C.swipeThreshold)?jl(dE,w,H,{discrete:!0}):jl(uE,x,H,{discrete:!0}),le.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),pE=t=>{const{__scopeToast:e,children:r,...s}=t,o=uc(ea,e),[l,u]=b.useState(!1),[d,h]=b.useState(!1);return vE(()=>u(!0)),b.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:a.jsx(sh,{asChild:!0,children:a.jsx(cc,{...s,children:l&&a.jsxs(a.Fragment,{children:[o.label," ",r]})})})},gE="ToastTitle",k0=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(Rt.div,{...s,ref:e})});k0.displayName=gE;var yE="ToastDescription",E0=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(Rt.div,{...s,ref:e})});E0.displayName=yE;var P0="ToastAction",T0=b.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?a.jsx(R0,{altText:r,asChild:!0,children:a.jsx(ah,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${P0}\`. Expected non-empty \`string\`.`),null)});T0.displayName=P0;var A0="ToastClose",ah=b.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,o=hE(A0,r);return a.jsx(R0,{asChild:!0,children:a.jsx(Rt.button,{type:"button",...s,ref:e,onClick:St(t.onClick,o.onClose)})})});ah.displayName=A0;var R0=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...o}=t;return a.jsx(Rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:e})});function O0(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),xE(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",l=s.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...O0(s))}}),e}function jl(t,e,r,{discrete:s}){const o=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?g0(o,l):o.dispatchEvent(l)}var Ty=(t,e,r=0)=>{const s=Math.abs(t.x),o=Math.abs(t.y),l=s>o;return e==="left"||e==="right"?l&&s>r:!l&&o>r};function vE(t=()=>{}){const e=on(t);pr(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function xE(t){return t.nodeType===t.ELEMENT_NODE}function wE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Nd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var bE=C0,M0=j0,I0=N0,D0=k0,L0=E0,$0=T0,F0=ah;const Ay=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ry=l0,U0=(t,e)=>r=>{var s;if(e?.variants==null)return Ry(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const p=r?.[m],y=l?.[m];if(p===null)return null;const x=Ay(p)||Ay(y);return o[m][x]}),d=r&&Object.entries(r).reduce((m,p)=>{let[y,x]=p;return x===void 0||(m[y]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,p)=>{let{class:y,className:x,...w}=p;return Object.entries(w).every(j=>{let[C,N]=j;return Array.isArray(N)?N.includes({...l,...d}[C]):{...l,...d}[C]===N})?[...m,y,x]:m},[]);return Ry(t,u,h,r?.class,r?.className)};var CE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _E=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pe=(t,e)=>{const r=b.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...h},m)=>b.createElement("svg",{ref:m,...CE,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:`lucide lucide-${_E(t)}`,...h},[...e.map(([p,y])=>b.createElement(p,y)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${t}`,r},gi=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),yi=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),jE=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),SE=Pe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ff=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),NE=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),kE=Pe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),B0=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),hf=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),EE=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),lh=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ch=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mf=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Oy=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),PE=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Cs=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),TE=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ql=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),AE=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),V0=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),RE=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),OE=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ME=Pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),My=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),IE=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),z0=Pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),DE=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),LE=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),$E=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),FE=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),UE=Pe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),BE=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),_s=Pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),VE=Pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ol=Pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),bs=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Mn=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),In=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),W0=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),zE=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),WE=Pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),qE=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),HE=Pe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kd=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Er=Pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),zo=Pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Iy=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),GE=Pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Do=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ml=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),KE=Pe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),q0=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),QE=Pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),XE=Pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),YE=Pe("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),dc=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),JE=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Un=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ZE=bE,H0=Je.forwardRef(({className:t,...e},r)=>a.jsx(M0,{ref:r,className:Ps("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));H0.displayName=M0.displayName;const eP=U0("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),G0=Je.forwardRef(({className:t,variant:e,...r},s)=>a.jsx(I0,{ref:s,className:Ps(eP({variant:e}),t),...r}));G0.displayName=I0.displayName;const tP=Je.forwardRef(({className:t,...e},r)=>a.jsx($0,{ref:r,className:Ps("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tP.displayName=$0.displayName;const K0=Je.forwardRef(({className:t,...e},r)=>a.jsx(F0,{ref:r,className:Ps("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),...e,children:a.jsx(Un,{className:"h-4 w-4"})}));K0.displayName=F0.displayName;const Q0=Je.forwardRef(({className:t,...e},r)=>a.jsx(D0,{ref:r,className:Ps("text-sm font-semibold",t),...e}));Q0.displayName=D0.displayName;const X0=Je.forwardRef(({className:t,...e},r)=>a.jsx(L0,{ref:r,className:Ps("text-sm opacity-90",t),...e}));X0.displayName=L0.displayName;const rP=1;let Ed=0;function nP(){return Ed=(Ed+1)%Number.MAX_VALUE,Ed.toString()}const Bt={state:{toasts:[]},listeners:[],getState:()=>Bt.state,setState:t=>{typeof t=="function"?Bt.state=t(Bt.state):Bt.state={...Bt.state,...t},Bt.listeners.forEach(e=>e(Bt.state))},subscribe:t=>(Bt.listeners.push(t),()=>{Bt.listeners=Bt.listeners.filter(e=>e!==t)})},se=({...t})=>{const e=nP(),r=o=>Bt.setState(l=>({...l,toasts:l.toasts.map(u=>u.id===e?{...u,...o}:u)})),s=()=>Bt.setState(o=>({...o,toasts:o.toasts.filter(l=>l.id!==e)}));return Bt.setState(o=>({...o,toasts:[{...t,id:e,dismiss:s},...o.toasts].slice(0,rP)})),{id:e,dismiss:s,update:r}};function sP(){const[t,e]=b.useState(Bt.getState());return b.useEffect(()=>Bt.subscribe(s=>{e(s)}),[]),b.useEffect(()=>{const r=[];return t.toasts.forEach(s=>{if(s.duration===1/0)return;const o=setTimeout(()=>{s.dismiss()},s.duration||5e3);r.push(o)}),()=>{r.forEach(s=>clearTimeout(s))}},[t.toasts]),{toast:se,toasts:t.toasts}}function iP(){const{toasts:t}=sP();return a.jsxs(ZE,{children:[t.map(({id:e,title:r,description:s,action:o,dismiss:l,...u})=>a.jsxs(G0,{...u,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Q0,{children:r}),s&&a.jsx(X0,{children:s})]}),o,a.jsx(K0,{})]},e)),a.jsx(H0,{})]})}const oP="modulepreload",aP=function(t){return"/"+t},Dy={},Oi=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=m(r.map(p=>{if(p=aP(p),p in Dy)return;Dy[p]=!0;const y=p.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":oP,y||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((j,C)=>{w.addEventListener("load",j),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},lP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class uh extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Ly extends uh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $y extends uh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fy extends uh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pf||(pf={}));var cP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class uP{constructor(e,{headers:r={},customFetch:s,region:o=pf.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=lP(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return cP(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:u,signal:d}=r;let h={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)));const x=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new Ly(N)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new $y(x);if(!x.ok)throw new Fy(x);let j=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield x.json():j==="application/octet-stream"?C=yield x.blob():j==="text/event-stream"?C=x:j==="multipart/form-data"?C=yield x.formData():C=yield x.text(),{data:C,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Ly(o)}:{data:null,error:o,response:o instanceof Fy||o instanceof $y?o.context:void 0}}})}}var Pt={},oi={},ai={},li={},ci={},ui={},dP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=dP();const fP=Ti.fetch,Y0=Ti.fetch.bind(Ti),J0=Ti.Headers,hP=Ti.Request,mP=Ti.Response,Mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:J0,Request:hP,Response:mP,default:Y0,fetch:fP},Symbol.toStringTag,{value:"Module"})),pP=r1(Mi);var Sl={},Uy;function Z0(){if(Uy)return Sl;Uy=1,Object.defineProperty(Sl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sl.default=t,Sl}var By;function ew(){if(By)return ui;By=1;var t=ui&&ui.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ui,"__esModule",{value:!0});const e=t(pP),r=t(Z0());class s{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,x,w;let j=null,C=null,N=null,O=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const M=await m.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=M:C=JSON.parse(M))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(x=m.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&F&&F.length>1&&(N=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(j={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,N=null,O=406,k="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const A=await m.text();try{j=JSON.parse(A),Array.isArray(j)&&m.status===404&&(C=[],j=null,O=200,k="OK")}catch{m.status===404&&A===""?(O=204,k="No Content"):j={message:A}}if(j&&this.isMaybeSingle&&(!((w=j?.details)===null||w===void 0)&&w.includes("0 rows"))&&(j=null,O=200,k="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:C,count:N,status:O,statusText:k}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,x;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=m?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return ui.default=s,ui}var Vy;function tw(){if(Vy)return ci;Vy=1;var t=ci&&ci.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ci,"__esModule",{value:!0});const e=t(ew());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const y=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${x}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ci.default=r,ci}var zy;function dh(){if(zy)return li;zy=1;var t=li&&li.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(li,"__esModule",{value:!0});const e=t(tw());class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${m}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return li.default=r,li}var Wy;function rw(){if(Wy)return ai;Wy=1;var t=ai&&ai.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ai,"__esModule",{value:!0});const e=t(dh());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let h=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(y.length>0){const x=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ai.default=r,ai}var qy;function gP(){if(qy)return oi;qy=1;var t=oi&&oi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(oi,"__esModule",{value:!0});const e=t(rw()),r=t(dh());class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:m}={}){var p;let y;const x=new URL(`${this.url}/rpc/${l}`);let w;d||h?(y=d?"HEAD":"GET",Object.entries(u).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{x.searchParams.append(C,N)})):(y="POST",w=u);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new r.default({method:y,url:x,headers:j,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return oi.default=s,oi}var Hy;function yP(){if(Hy)return Pt;Hy=1;var t=Pt&&Pt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const e=t(gP());Pt.PostgrestClient=e.default;const r=t(rw());Pt.PostgrestQueryBuilder=r.default;const s=t(dh());Pt.PostgrestFilterBuilder=s.default;const o=t(tw());Pt.PostgrestTransformBuilder=o.default;const l=t(ew());Pt.PostgrestBuilder=l.default;const u=t(Z0());return Pt.PostgrestError=u.default,Pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Pt}var vP=yP();const xP=Ss(vP),{PostgrestClient:wP,PostgrestQueryBuilder:GO,PostgrestFilterBuilder:KO,PostgrestTransformBuilder:QO,PostgrestBuilder:XO,PostgrestError:YO}=xP;class bP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const CP="2.15.5",_P=`realtime-js/${CP}`,jP="1.0.0",gf=1e4,SP=1e3,NP=100;var Lo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lo||(Lo={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var yf;(function(t){t.websocket="websocket"})(yf||(yf={}));var ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ys||(ys={}));class kP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+o));u=u+o;const h=s.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class nw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const Gy=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,u)=>(l[u]=EP(u,t,e,o),l),{})},EP=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=r[t];return l&&!s.includes(l)?sw(l,u):vf(u)},sw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return RP(e,r)}switch(t){case et.bool:return PP(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return TP(e);case et.json:case et.jsonb:return AP(e);case et.timestamp:return OP(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return vf(e);default:return vf(e)}},vf=t=>t,PP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},RP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>sw(e,d))}return t},OP=t=>typeof t=="string"?t.replace(" ","T"):t,iw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Pd{constructor(e,r,s={},o=gf){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ky;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ky||(Ky={}));class $o{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$o.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=$o.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$o.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{u[m]||(h[m]=p)}),this.map(u,(m,p)=>{const y=l[m];if(y){const x=p.map(N=>N.presence_ref),w=y.map(N=>N.presence_ref),j=p.filter(N=>w.indexOf(N.presence_ref)<0),C=y.filter(N=>x.indexOf(N.presence_ref)<0);j.length>0&&(d[m]=j),C.length>0&&(h[m]=C)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const y=e[d].map(w=>w.presence_ref),x=p.filter(w=>y.indexOf(w.presence_ref)<0);e[d].unshift(...x)}s(d,p,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qy||(Qy={}));var Fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fo||(Fo={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class fh{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pd(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new nw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new $o(this),this.broadcastEndpointURL=iw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(en.CHANNEL_ERROR,w)),this._onClose(()=>e?.(en.CLOSED)),this.updateJoinPayload(Object.assign({config:x},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket.setAuth(),w===void 0){e?.(en.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(j=C?.length)!==null&&j!==void 0?j:0,O=[];for(let k=0;k<N;k++){const _=C[k],{filter:{event:A,schema:F,table:M,filter:I}}=_,W=w&&w[k];if(W&&W.event===A&&W.schema===F&&W.table===M&&W.filter===I)O.push(Object.assign(Object.assign({},_),{id:W.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(en.SUBSCRIBED);return}}).receive("error",w=>{this.state=jt.errored,e?.(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===jt.joined&&e===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Pd(this,Nr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Pd(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=Nr;if(s&&[d,h,m,p].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,C,N;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(C=w.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(w=>w.callback(x,s)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var j,C,N,O,k,_;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const A=w.id,F=(j=w.filter)===null||j===void 0?void 0:j.event;return A&&((C=r.ids)===null||C===void 0?void 0:C.includes(A))&&(F==="*"||F?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const A=(k=(O=w?.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:C,table:N,commit_timestamp:O,type:k,errors:_}=j;x=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:O,eventType:k,new:{},old:{},errors:_}),this._getPayloadRecords(j))}w.callback(x,s)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&fh.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Gy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Gy(e.columns,e.old_record)),r}}const Td=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MP=[1e3,2e3,5e3,1e4],IP=1e4,DP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LP{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gf,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Td,this.ref=0,this.reconnectTimer=null,this.logger=Td,this.conn=null,this.sendBuffer=[],this.serializer=new kP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Oi(async()=>{const{default:d}=await Promise.resolve().then(()=>Mi);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${yf.websocket}`,this.httpEndpoint=iw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Lo.connecting:return ys.Connecting;case Lo.open:return ys.Open;case Lo.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new fh(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(SP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([DP],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:_P};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Nr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new nw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,u,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:gf,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Nl.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Td,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>MP[y-1]||IP),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((y,x)=>x(JSON.stringify(y))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class hh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $P extends hh{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xf extends hh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var FP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const ow=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},UP=()=>FP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oi(()=>Promise.resolve().then(()=>Mi),void 0)).Response:Response}),wf=t=>{if(Array.isArray(t))return t.map(r=>wf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=wf(s)}),e},BP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ts=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const Ad=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VP=(t,e,r)=>Ts(void 0,void 0,void 0,function*(){const s=yield UP();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new $P(Ad(o),l,u))}).catch(o=>{e(new xf(Ad(o),o))}):e(new xf(Ad(t),t))}),zP=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(BP(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function ta(t,e,r,s,o,l){return Ts(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,zP(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>VP(h,d,s))})})}function Hl(t,e,r,s){return Ts(this,void 0,void 0,function*(){return ta(t,"GET",e,r,s)})}function Fr(t,e,r,s,o){return Ts(this,void 0,void 0,function*(){return ta(t,"POST",e,s,o,r)})}function bf(t,e,r,s,o){return Ts(this,void 0,void 0,function*(){return ta(t,"PUT",e,s,o,r)})}function WP(t,e,r,s){return Ts(this,void 0,void 0,function*(){return ta(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function aw(t,e,r,s,o){return Ts(this,void 0,void 0,function*(){return ta(t,"DELETE",e,s,o,r)})}var qP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class HP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return qP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}var GP=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class KP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new HP(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return GP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}var Qt=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const QP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XP{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=ow(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return Qt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Xy),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),y=yield(e=="PUT"?bf:Fr)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}upload(e,r,s){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return Qt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Xy.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",m.cacheControl)):(h=s,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield bf(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(bt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Fr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new hh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}update(e,r,s){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Qt(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}copy(e,r,s){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return Qt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Fr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return Qt(this,void 0,void 0,function*(){try{const o=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Hl(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new KP(h,this.shouldThrowOnError)}info(e){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Hl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}exists(e){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield WP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s)&&s instanceof xf){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(e){return Qt(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}list(e,r,s){return Qt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},QP),r),{prefix:e||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}listV2(e,r){return Qt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Fr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const YP="2.12.2",JP={"X-Client-Info":`storage-js/${YP}`};var di=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class ZP{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},JP),r),this.fetch=ow(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return di(this,void 0,void 0,function*(){try{return{data:yield Hl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}getBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield Hl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return di(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return di(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}}class e2 extends ZP{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new XP(this.url,this.headers,e,this.fetch)}}const t2="2.58.0";let Ao="";typeof Deno<"u"?Ao="deno":typeof document<"u"?Ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ao="react-native":Ao="node";const r2={"X-Client-Info":`supabase-js-${Ao}/${t2}`},n2={headers:r2},s2={schema:"public"},i2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o2={};var a2=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};const l2=t=>{let e;return t?e=t:typeof fetch>"u"?e=Y0:e=fetch,(...r)=>e(...r)},c2=()=>typeof Headers>"u"?J0:Headers,u2=(t,e,r)=>{const s=l2(r),o=c2();return(l,u)=>a2(void 0,void 0,void 0,function*(){var d;const h=(d=yield e())!==null&&d!==void 0?d:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},u),{headers:m}))})};var d2=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};function f2(t){return t.endsWith("/")?t:t+"/"}function h2(t,e){var r,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:m,realtime:p,global:y}=e,x={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>d2(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function m2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lw="2.72.0",vi=30*1e3,Cf=3,Rd=Cf*vi,p2="http://localhost:9999",g2="supabase.auth.token",y2={"X-Client-Info":`gotrue-js/${lw}`},_f="X-Supabase-Api-Version",cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x2=600*1e3;class mh extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class w2 extends mh{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function b2(t){return Be(t)&&t.name==="AuthApiError"}class uw extends mh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wn extends mh{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class Rn extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C2(t){return Be(t)&&t.name==="AuthSessionMissingError"}class No extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class El extends Wn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _2(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yy extends Wn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jf extends Wn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Od(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class Jy extends Wn{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Sf extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zy=` 	
\r=`.split(""),j2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zy.length;e+=1)t[Zy[e].charCodeAt(0)]=-2;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=e;return t})();function ev(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Gl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Gl[s]),e.queuedBits-=6}}function dw(t,e,r){const s=j2[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tv(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{k2(u,s,r)};for(let u=0;u<t.length;u+=1)dw(t.charCodeAt(u),o,l);return e.join("")}function S2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function N2(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}S2(s,e)}}function k2(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function E2(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)dw(t.charCodeAt(o),r,s);return new Uint8Array(e)}function P2(t){const e=[];return N2(t,r=>e.push(r)),new Uint8Array(e)}function T2(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>ev(o,r,s)),ev(null,r,s),e.join("")}function A2(t){return Math.round(Date.now()/1e3)+t}function R2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const fr=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},fw=()=>{if(!fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function O2(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const hw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oi(async()=>{const{default:s}=await Promise.resolve().then(()=>Mi);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},M2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tn=async(t,e)=>{await t.removeItem(e)};class fc{constructor(){this.promise=new fc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}fc.promiseConstructor=Promise;function Md(t){const e=t.split(".");if(e.length!==3)throw new Sf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!v2.test(e[s]))throw new Sf("JWT not in base64url format");return{header:JSON.parse(tv(e[0])),payload:JSON.parse(tv(e[1])),signature:E2(e[2]),raw:{header:e[0],payload:e[1]}}}async function I2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D2(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function L2(t){return("0"+t.toString(16)).substr(-2)}function $2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,L2).join("")}async function F2(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function U2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await F2(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fi(t,e,r=!1){const s=$2();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await xi(t,`${e}-code-verifier`,o);const l=await U2(s);return[l,s===l?"plain":"s256"]}const B2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V2(t){const e=t.headers.get(_f);if(!e||!e.match(B2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function z2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(t){if(!q2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Id(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rv(t){return JSON.parse(JSON.stringify(t))}var H2=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r};const gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G2=[502,503,504];async function nv(t){var e;if(!M2(t))throw new jf(gs(t),0);if(G2.includes(t.status))throw new jf(gs(t),t.status);let r;try{r=await t.json()}catch(l){throw new uw(gs(l),l)}let s;const o=V2(t);if(o&&o.getTime()>=cw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Jy(gs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Rn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Jy(gs(r),t.status,r.weak_password.reasons);throw new w2(gs(r),t.status||500,s)}const K2=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function We(t,e,r,s){var o;const l=Object.assign({},s?.headers);l[_f]||(l[_f]=cw["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await Q2(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function Q2(t,e,r,s,o,l){const u=K2(e,s,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new jf(gs(h),0)}if(d.ok||await nv(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await nv(h)}}function $r(t){var e;let r=null;Z2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=A2(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function sv(t){const e=$r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X2(t){return{data:t,error:null}}function Y2(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,u=H2(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function J2(t){return t}function Z2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dd=["global","local","others"];var eT=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r};class tT{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=hw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Dd[0]){if(Dd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dd.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=eT(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Y2,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dn})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:J2});if(p.error)throw p.error;const y=await p.json(),x=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(j=>{const C=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);m[`${N}Page`]=C}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){hi(e);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dn})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){hi(e);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dn})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){hi(e);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){hi(e.userId);try{const{data:r,error:s}=await We(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(e){hi(e.userId),hi(e.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function iv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function rT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mi={debug:!!(globalThis&&fw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nT extends mw{}async function sT(t,e,r){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function iT(t){return parseInt(t,16)}function oT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function aT(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:p,uri:y,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=pw(t.address),j=p?`${p}://${s}`:s,C=t.statement?`${t.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${w}

${C}`;let O=`URI: ${y}
Version: ${x}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),d&&(O+=`
Not Before: ${d.toISOString()}`),h&&(O+=`
Request ID: ${h}`),m){let k=`
Resources:`;for(const _ of m){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);k+=`
- ${_}`}O+=k}return`${N}
${O}`}rT();const lT={url:p2,storageKey:g2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ov(t,e,r){return await r()}const pi={};class Wo{constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wo.nextInstanceID,Wo.nextInstanceID+=1,this.instanceID>0&&fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},lT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new tT({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=hw(o.fetch),this.lock=o.lock||ov,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sT:this.lock=ov,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:fw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=iv(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=pi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=pi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=O2(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),fr()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),_2(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new uw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:$r}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:p,password:y,options:x}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await fi(this.storage,this.storageKey)),l=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:p,password:y,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:j},xform:$r})}else if("phone"in e){const{phone:p,password:y,options:x}=e;l=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:$r})}else throw new kl("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:sv})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:sv})}else throw new kl("You must provide either an email or phone number and a password");const{data:s,error:o}=r;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new No}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,u,d,h,m,p,y,x;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:C,wallet:N,statement:O,options:k}=e;let _;if(fr())if(typeof N=="object")_=N;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")_=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const A=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),F=await _.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=pw(F[0]);let I=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!I){const Z=await _.request({method:"eth_chainId"});I=iT(Z)}const W={domain:A.host,address:M,statement:O,uri:A.href,version:"1",chainId:I,nonce:(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=aT(W),j=await _.request({method:"personal_sign",params:[oT(w),M]})}try{const{data:C,error:N}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:$r});if(N)throw N;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new No}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:N})}catch(C){if(Be(C))return{data:{user:null,session:null},error:C};throw C}}async signInWithSolana(e){var r,s,o,l,u,d,h,m,p,y,x,w;let j,C;if("message"in e)j=e.message,C=e.signature;else{const{chain:N,wallet:O,statement:k,options:_}=e;let A;if(fr())if(typeof O=="object")A=O;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=O}const F=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),k?{statement:k}:null));let I;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")I=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)I=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)j=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),C=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${F.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(s=_?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=_?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((m=_?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((y=(p=_?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=M}}try{const{data:N,error:O}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:T2(C)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:$r});if(O)throw O;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new No}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:O})}catch(N){if(Be(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await fs(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:$r});if(await Tn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new No}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(Be(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:u}=e,d=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:$r}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new No}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await fi(this.storage,this.storageKey));const{error:y}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new kl("You must provide either an email or phone number.")}catch(d){if(Be(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:$r});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,s,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await fi(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:X2})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Rn;const{error:o}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new kl("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Rd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await fs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Id()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,p)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,p))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dn}):await this._useSession(async r=>{var s,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Dn})})}catch(r){if(Be(r))return C2(r)&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Rn;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await fi(this.storage,this.storageKey));const{data:m,error:p}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Dn});if(p)throw p;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rn;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:u}=Md(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{session:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Rn;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!fr())throw new El("No browser detected.");if(e.error||e.error_description||e.error_code)throw new El(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yy("No code detected.");const{data:k,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new El("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let x=p+y;h&&(x=parseInt(h));const w=x-p;w*1e3<=vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const j=x-y;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,p);const{data:C,error:N}=await this._getUser(l);if(N)throw N;const O={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:x,refresh_token:u,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(s){if(Be(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{error:l};const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(b2(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=R2(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await fi(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,m,p;const{data:y,error:x}=l;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return fr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Be(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await D2(async o=>(o>0&&await I2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$r})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Od(l)&&Date.now()+u-s<vi})}catch(s){if(this._debug(r,"error",s),Be(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),fr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await fs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await xi(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Id()}else if(o&&!o.user&&!o.user){const u=await fs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Tn(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,o)):o.user=Id()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Rd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Od(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fc;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Rn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Be(l)){const u={session:null,error:l};return Od(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await xi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=rv(o);await xi(this.storage,this.storageKey,l)}else{const o=rv(r);await xi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Tn(this.storage,this.storageKey),await Tn(this.storage,this.storageKey+"-code-verifier"),await Tn(this.storage,this.storageKey+"-user"),this.userStorage&&await Tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${vi}ms, refresh threshold is ${Cf} ticks`),o<=Cf&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await fi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?{data:null,error:l}:await We(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await We(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?{data:null,error:l}:await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=e?.factors||[],o=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Md(o.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((s=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+x2>o)return s;const{data:l,error:u}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};s=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=Md(s);r?.allowExpired||z2(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const p=W2(o.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,u,P2(`${d}.${h}`)))throw new Sf("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}}}Wo.nextInstanceID=0;const cT=Wo;class uT extends cT{constructor(e){super(e)}}var dT=function(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(p){try{m(s.next(p))}catch(y){u(y)}}function h(p){try{m(s.throw(p))}catch(y){u(y)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((s=s.apply(t,e||[])).next())})};class fT{constructor(e,r,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=m2(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:s2,realtime:o2,auth:Object.assign(Object.assign({},i2),{storageKey:h}),global:n2},p=h2(s??{},m);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=p.auth)!==null&&u!==void 0?u:{},this.headers,p.global.fetch),this.fetch=u2(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new wP(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new e2(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new uP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return dT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:m},p,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uT({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),p),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new LP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hT=(t,e,r)=>new fT(t,e,r);function mT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pT="https://qcwnlbpultscerwdnzbm.supabase.co",gT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjd25sYnB1bHRzY2Vyd2RuemJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTU0NzUsImV4cCI6MjA3Mzk3MTQ3NX0.-2FMT_IxLPwnJXY3rm2sL6GwTklKJCAo2J50BdUbQFo",ae=hT(pT,gT,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"papuenvios-auth",flowType:"pkce",debug:!1},db:{schema:"public"},global:{headers:{"x-client-info":"papuenvios-web"}}}),yT=Object.freeze(Object.defineProperty({__proto__:null,supabase:ae},Symbol.toStringTag,{value:"Module"})),av=async()=>{try{const{data:t,error:e}=await ae.from("products").select(`
        *,
        category:product_categories(id, name_es, name_en, slug)
      `).eq("is_active",!0).order("created_at",{ascending:!1});if(e)throw e;const r=(t||[]).map(d=>d.id),{data:s}=await ae.from("inventory").select("product_id, quantity, available_quantity, expiry_date").in("product_id",r).eq("is_active",!0).order("created_at",{ascending:!1}),o={},l={};return(s||[]).forEach(d=>{o[d.product_id]||(o[d.product_id]=0),o[d.product_id]+=d.available_quantity||0,!l[d.product_id]&&d.expiry_date&&(l[d.product_id]=d.expiry_date)}),{data:(t||[]).map(d=>({...d,stock:o[d.id]||0,expiry_date:l[d.id]||null})),error:null}}catch(t){return console.error("Error fetching products:",t),{data:null,error:t}}},vT=async t=>{try{console.log(" createProduct called with:",t);const{data:e,error:r}=await ae.from("products").insert([{sku:t.sku||`SKU-${Date.now()}`,name_es:t.name,name_en:t.name,description_es:t.description_es||"",description_en:t.description_en||"",category_id:t.category_id,base_price:parseFloat(t.basePrice),base_currency_id:t.base_currency_id,profit_margin:parseFloat(t.profitMargin||40),min_stock_alert:t.min_stock_alert?parseInt(t.min_stock_alert):10,image_url:t.image||null,image_file:t.image||null,is_active:!0}]).select().single();if(r)throw r;if(console.log(" Product created:",e),t.stock&&parseInt(t.stock)>0){console.log(" Creating inventory with stock:",t.stock);const s={product_id:e.id,quantity:parseInt(t.stock),batch_number:`BATCH-${Date.now()}`,is_active:!0};t.expiryDate&&(s.expiry_date=t.expiryDate);const{error:o}=await ae.from("inventory").insert([s]);o?console.error(" Error creating inventory:",o):console.log(" Inventory created successfully")}else console.log(" No stock to create, stock value:",t.stock);return{data:e,error:null}}catch(e){return console.error(" Error creating product:",e),{data:null,error:e}}},xT=async(t,e)=>{try{console.log(" updateProduct called for:",t,"with data:",e);const r={name_es:e.name,name_en:e.name,description_es:e.description_es||"",description_en:e.description_en||"",category_id:e.category_id,base_price:parseFloat(e.basePrice),profit_margin:parseFloat(e.profitMargin||40),min_stock_alert:e.min_stock_alert!==void 0?parseInt(e.min_stock_alert):10,updated_at:new Date().toISOString()};e.image&&(r.image_url=e.image,r.image_file=e.image),console.log(" Sending update to products table:",r);const{data:s,error:o}=await ae.from("products").update(r).eq("id",t).select().single();if(o)throw o;if(console.log(" Product updated:",s),e.stock!==void 0||e.expiryDate!==void 0){const{data:l}=await ae.from("inventory").select("id").eq("product_id",t).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1),u=l&&l.length>0?l[0]:null;if(u){const d={updated_at:new Date().toISOString()};e.stock!==void 0&&(d.quantity=parseInt(e.stock)),e.expiryDate!==void 0&&(d.expiry_date=e.expiryDate||null);const{error:h}=await ae.from("inventory").update(d).eq("id",u.id);h&&console.error("Error updating inventory:",h)}else if(e.stock!==void 0&&parseInt(e.stock)>0){const d={product_id:t,quantity:parseInt(e.stock),batch_number:`BATCH-${Date.now()}`,is_active:!0};e.expiryDate&&(d.expiry_date=e.expiryDate);const{error:h}=await ae.from("inventory").insert([d]);h&&console.error("Error creating inventory:",h)}}return{data:s,error:null}}catch(r){return console.error("Error updating product:",r),{data:null,error:r}}},wT=async()=>{try{const{data:t,error:e}=await ae.from("product_categories").select("id, slug, name_es, name_en, description_es, description_en, display_order, is_active").eq("is_active",!0).order("display_order",{ascending:!0});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching categories:",t),{data:null,error:t}}},bT=async t=>{try{const e=t.es.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),{data:r,error:s}=await ae.from("product_categories").insert([{name_es:t.es,name_en:t.en,description_es:t.description_es||"",description_en:t.description_en||"",slug:e,is_active:!0,display_order:0}]).select().single();if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error creating category:",e),{data:null,error:e}}},CT=async(t,e)=>{try{const r=e.es.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),{data:s,error:o}=await ae.from("product_categories").update({name_es:e.es,name_en:e.en,description_es:e.description_es||"",description_en:e.description_en||"",slug:r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(o)throw o;return{data:s,error:null}}catch(r){return console.error("Error updating category:",r),{data:null,error:r}}},_T=async t=>{try{const{error:e}=await ae.from("product_categories").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting category:",e),{data:null,error:e}}},jT=async(t=!1)=>{try{let e=ae.from("combo_products").select(`
        *,
        items:combo_items(
          quantity,
          product:products(id, name_es, name_en, base_price)
        )
      `);t||(e=e.eq("is_active",!0));const{data:r,error:s}=await e.order("created_at",{ascending:!1});if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error fetching combos:",e),{data:null,error:e}}},ST=async t=>{try{let e=0;if(t.productsWithQuantities&&t.productsWithQuantities.length>0){const o=t.productsWithQuantities.map(u=>u.productId),{data:l}=await ae.from("products").select("id, base_price").in("id",o);l&&(e=t.productsWithQuantities.reduce((u,d)=>{const h=l.find(m=>m.id===d.productId);return h?u+parseFloat(h.base_price)*d.quantity:u},0))}const{data:r,error:s}=await ae.from("combo_products").insert([{name_es:t.name,name_en:t.name,description_es:t.description||"",description_en:t.description||"",image_url:t.image||null,base_total_price:e,profit_margin:parseFloat(t.profitMargin||40),is_active:!0}]).select().single();if(s)throw s;if(t.productsWithQuantities&&t.productsWithQuantities.length>0){const o=t.productsWithQuantities.map(u=>({combo_id:r.id,product_id:u.productId,quantity:u.quantity})),{error:l}=await ae.from("combo_items").insert(o);if(l)throw l}return{data:r,error:null}}catch(e){return console.error("Error creating combo:",e),{data:null,error:e}}},NT=async(t,e)=>{try{let r;if(e.productsWithQuantities&&e.productsWithQuantities.length>0){const u=e.productsWithQuantities.map(h=>h.productId),{data:d}=await ae.from("products").select("id, base_price").in("id",u);d&&(r=e.productsWithQuantities.reduce((h,m)=>{const p=d.find(y=>y.id===m.productId);return p?h+parseFloat(p.base_price)*m.quantity:h},0))}const s={name_es:e.name,name_en:e.name,description_es:e.description||"",description_en:e.description||"",profit_margin:parseFloat(e.profitMargin||40),updated_at:new Date().toISOString()};e.image&&(s.image_url=e.image),r!==void 0&&(s.base_total_price=r);const{data:o,error:l}=await ae.from("combo_products").update(s).eq("id",t).select().single();if(l)throw l;if(e.productsWithQuantities&&(await ae.from("combo_items").delete().eq("combo_id",t),e.productsWithQuantities.length>0)){const u=e.productsWithQuantities.map(h=>({combo_id:t,product_id:h.productId,quantity:h.quantity})),{error:d}=await ae.from("combo_items").insert(u);if(d)throw d}return{data:o,error:null}}catch(r){return console.error("Error updating combo:",r),{data:null,error:r}}},kT=async(t=!1)=>{try{let e=ae.from("testimonials").select("*").order("created_at",{ascending:!1});t||(e=e.eq("is_visible",!0));const{data:r,error:s}=await e;if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error fetching testimonials:",e),{data:null,error:e}}},ET=async(t,e)=>{try{const{data:r,error:s}=await ae.from("testimonials").update({is_visible:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error toggling testimonial visibility:",r),{data:null,error:r}}},PT=async(t,e)=>{try{const{data:r,error:s}=await ae.from("testimonials").update({is_featured:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error toggling testimonial featured status:",r),{data:null,error:r}}},gw=async(t=!1)=>{try{let e=ae.from("carousel_slides").select("*").order("display_order",{ascending:!0});t&&(e=e.eq("is_active",!0));const{data:r,error:s}=await e;if(s)throw s;return{data:r,error:null}}catch(e){return console.error("Error fetching carousel slides:",e),{data:null,error:e}}},TT=async t=>{try{const{data:e}=await ae.from("carousel_slides").select("display_order").order("display_order",{ascending:!1}).limit(1),r=e&&e.length>0?e[0].display_order+1:0,{data:s,error:o}=await ae.from("carousel_slides").insert([{title_es:t.title_es||"",title_en:t.title_en||"",subtitle_es:t.subtitle_es||null,subtitle_en:t.subtitle_en||null,image_url:t.image_url||null,image_file:t.image_file||null,link_url:t.link_url||null,display_order:t.display_order??r,is_active:t.is_active??!0}]).select().single();if(o)throw o;return{data:s,error:null}}catch(e){return console.error("Error creating carousel slide:",e),{data:null,error:e}}},lv=async(t,e)=>{try{const{data:r,error:s}=await ae.from("carousel_slides").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error updating carousel slide:",r),{data:null,error:r}}},AT=async t=>{try{const{error:e}=await ae.from("carousel_slides").delete().eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error hard deleting carousel slide:",e),{data:null,error:e}}},RT=async()=>{try{const{data:t,error:e}=await ae.from("carousel_slides").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(e)throw e;return{data:t,error:null}}catch(t){return console.error("Error fetching active carousel slides:",t),{data:null,error:t}}},yw=b.createContext(),ko=(t,e)=>{const[r,s]=b.useState(()=>{try{const l=window.localStorage.getItem(t);return l?JSON.parse(l):e}catch(l){return console.log(l),e}});return[r,l=>{try{const u=l instanceof Function?l(r):l;s(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(u){console.log(u)}}]},OT=({children:t})=>{const[e,r]=b.useState([]),[s,o]=b.useState([]),[l,u]=b.useState([]),[d,h]=b.useState([]),[m,p]=b.useState([]),[y,x]=b.useState(!0),[w,j]=b.useState(null),[C,N]=ko("cart",[]),[O,k]=ko("zelleAccounts",[{id:1,email:"payment1@example.com",name:"Main Sales",forProducts:!0,forRemittances:!1,active:!0,payments:{weekly:12,monthly:50,yearly:600,total:1500}},{id:2,email:"remit@example.com",name:"Remittances Only",forProducts:!1,forRemittances:!0,active:!0,payments:{weekly:5,monthly:20,yearly:250,total:400}}]),[_,A]=ko("financialSettings",{usdToLocal:36.5,currencies:[{code:"USD",name:"US Dollar",rate:1,symbol:"$"},{code:"EUR",name:"Euro",rate:.92,symbol:""}],productProfit:40,comboProfit:35,remittanceProfit:5,shippingType:"undetermined",shippingFixedAmount:0,shippingFreeThreshold:100}),[F,M]=ko("notificationSettings",{whatsapp:"",adminEmail:""}),[I,W]=ko("visualSettings",{logo:"",favicon:"",companyName:"PapuEnvos",primaryColor:"#2563eb",secondaryColor:"#9333ea",useGradient:!0,headerBgColor:"#ffffff",headerTextColor:"#1f2937",headingColor:"#1f2937",useHeadingGradient:!0,buttonBgColor:"#2563eb",buttonTextColor:"#ffffff",buttonHoverBgColor:"#1d4ed8",destructiveBgColor:"#dc2626",destructiveTextColor:"#ffffff",destructiveHoverBgColor:"#b91c1c",accentColor:"#9333ea",pageBgColor:"#f9fafb",cardBgColor:"#ffffff"}),Z=async()=>{try{j(null);const{data:E,error:D}=await av();if(D)throw D;r(E||[])}catch(E){console.error("Error refreshing products:",E),j(E.message)}},B=async()=>{try{j(null);const{data:E,error:D}=await wT();if(D)throw D;u(E||[])}catch(E){console.error("Error refreshing categories:",E),j(E.message)}},ge=async(E=!1)=>{try{const{data:D,error:K}=await jT(E);if(K)throw K;const{data:ce}=await av(),xe={};(ce||[]).forEach(be=>{xe[be.id]=be});const pe=(D||[]).map(be=>{const ye={},Oe=be.items?.map(Y=>(ye[Y.product.id]=Y.quantity,Y.product.id))||[];let qe=!1;for(const Y of Oe){const $e=xe[Y],Ce=ye[Y]||1,T=$e?.stock||0;if(T===0||T<Ce){qe=!0;break}}return qe&&be.is_active&&ae.from("combo_products").update({is_active:!1}).eq("id",be.id).then(()=>console.log(`Combo ${be.id} auto-deactivated due to insufficient stock`)),{id:be.id,name:be.name_es,description:be.description_es,image:be.image_url,products:Oe,productQuantities:ye,items:be.items||[],profitMargin:be.profit_margin,baseTotalPrice:be.base_total_price,is_active:qe?!1:be.is_active}});o(pe)}catch(D){console.error("Error refreshing combos:",D)}},ie=async(E=!1)=>{try{j(null);const{data:D,error:K}=await kT(E);if(K)throw K;h(D||[])}catch(D){console.error("Error refreshing testimonials:",D),j(D)}},X=async(E=!1)=>{try{j(null);const{data:D,error:K}=await gw(E);if(K)throw K;p(D||[])}catch(D){console.error("Error refreshing carousel slides:",D),j(D)}};b.useEffect(()=>{(async()=>{x(!0),await Promise.all([Z(),B(),ge(),ie(!1),X(!1)]),x(!1)})()},[]);const z=E=>r(D=>[...D,E]),ue=E=>r(D=>D.map(K=>K.id===E.id?E:K)),he=E=>{N(D=>D.find(ce=>ce.id===E.id)?D.map(ce=>ce.id===E.id?{...ce,quantity:ce.quantity+1}:ce):[...D,{...E,quantity:1}])},le=E=>N(D=>D.filter(K=>K.id!==E)),te={products:e,addProduct:z,updateProduct:ue,refreshProducts:Z,combos:s,setCombos:o,refreshCombos:ge,cart:C,addToCart:he,removeFromCart:le,updateCartQuantity:(E,D)=>{if(D<=0){le(E);return}N(K=>K.map(ce=>ce.id===E?{...ce,quantity:D}:ce))},clearCart:()=>N([]),categories:l,setCategories:u,refreshCategories:B,testimonials:d,setTestimonials:h,refreshTestimonials:ie,carouselSlides:m,setCarouselSlides:p,refreshCarouselSlides:X,zelleAccounts:O,setZelleAccounts:k,financialSettings:_,setFinancialSettings:A,notificationSettings:F,setNotificationSettings:M,visualSettings:I,setVisualSettings:W,loading:y,error:w,exchangeRate:_.currencies.find(E=>E.code==="USD")?.rate||1};return a.jsx(yw.Provider,{value:te,children:t})},Vt=()=>{const t=b.useContext(yw);if(t===void 0)throw new Error("useBusiness must be used within a BusinessProvider");return t},MT=()=>{const{visualSettings:t}=Vt();return a.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-50",style:{background:t.useGradient?`linear-gradient(to bottom right, ${t.primaryColor}, ${t.secondaryColor})`:t.primaryColor},children:a.jsxs("div",{className:"text-center",children:[a.jsx(me.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsxs(me.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-24 h-24 mx-auto mb-4 relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/20"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white border-t-transparent animate-spin"})]}),a.jsxs(me.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex justify-center space-x-4 mb-6",children:[a.jsx(me.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:0},children:a.jsx(Er,{className:"w-8 h-8 text-white"})}),a.jsx(me.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:.2},children:a.jsx(Cs,{className:"w-8 h-8 text-white"})}),a.jsx(me.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,delay:.4},children:a.jsx(V0,{className:"w-8 h-8 text-white"})})]})]})}),a.jsx(me.h1,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-4xl font-bold text-white mb-4",children:t.companyName||"PapuEnvos"}),a.jsx(me.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"text-xl text-white/80 mb-8",children:"Cargando tu plataforma de comercio digital..."}),a.jsx(me.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:2,delay:1},className:"w-64 h-2 rounded-full mx-auto overflow-hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:a.jsx(me.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"h-full w-1/3",style:{background:t.useGradient?`linear-gradient(to right, transparent, ${t.secondaryColor}, transparent)`:`linear-gradient(to right, transparent, ${t.primaryColor}, transparent)`}})})]})})};class IT extends Je.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-4",children:this.state.error?.message||"An unexpected error occurred"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Reload Page"})]})}):this.props.children}}var Ld={exports:{}},$d={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function DT(){if(cv)return $d;cv=1;var t=Jl();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function d(y,x){var w=x(),j=s({inst:{value:w,getSnapshot:x}}),C=j[0].inst,N=j[1];return l(function(){C.value=w,C.getSnapshot=x,h(C)&&N({inst:C})},[y,w,x]),o(function(){return h(C)&&N({inst:C}),y(function(){h(C)&&N({inst:C})})},[y]),u(w),w}function h(y){var x=y.getSnapshot;y=y.value;try{var w=x();return!r(y,w)}catch{return!0}}function m(y,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return $d.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,$d}var uv;function LT(){return uv||(uv=1,Ld.exports=DT()),Ld.exports}var $T=LT();function FT(){return $T.useSyncExternalStore(UT,()=>!0,()=>!1)}function UT(){return()=>{}}var ph="Avatar",[BT]=Zo(ph),[VT,vw]=BT(ph),xw=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[o,l]=b.useState("idle");return a.jsx(VT,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:a.jsx(Rt.span,{...s,ref:e})})});xw.displayName=ph;var ww="AvatarImage",bw=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...l}=t,u=vw(ww,r),d=zT(s,l),h=on(m=>{o(m),u.onImageLoadingStatusChange(m)});return pr(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?a.jsx(Rt.img,{...l,ref:e,src:s}):null});bw.displayName=ww;var Cw="AvatarFallback",_w=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=t,l=vw(Cw,r),[u,d]=b.useState(s===void 0);return b.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&l.imageLoadingStatus!=="loaded"?a.jsx(Rt.span,{...o,ref:e}):null});_w.displayName=Cw;function dv(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zT(t,{referrerPolicy:e,crossOrigin:r}){const s=FT(),o=b.useRef(null),l=s?(o.current||(o.current=new window.Image),o.current):null,[u,d]=b.useState(()=>dv(l,t));return pr(()=>{d(dv(l,t))},[l,t]),pr(()=>{const h=y=>()=>{d(y)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),u}var WT=xw,qT=bw,HT=_w,GT=Pv[" useId ".trim().toString()]||(()=>{}),KT=0;function QT(t){const[e,r]=b.useState(GT());return pr(()=>{r(s=>s??String(KT++))},[t]),e?`radix-${e}`:""}const XT=["top","right","bottom","left"],Bn=Math.min,rr=Math.max,Kl=Math.round,Pl=Math.floor,Vr=t=>({x:t,y:t}),YT={left:"right",right:"left",bottom:"top",top:"bottom"},JT={start:"end",end:"start"};function Nf(t,e,r){return rr(t,Bn(e,r))}function an(t,e){return typeof t=="function"?t(e):t}function ln(t){return t.split("-")[0]}function Ii(t){return t.split("-")[1]}function gh(t){return t==="x"?"y":"x"}function yh(t){return t==="y"?"height":"width"}const ZT=new Set(["top","bottom"]);function Ur(t){return ZT.has(ln(t))?"y":"x"}function vh(t){return gh(Ur(t))}function eA(t,e,r){r===void 0&&(r=!1);const s=Ii(t),o=vh(t),l=yh(o);let u=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Ql(u)),[u,Ql(u)]}function tA(t){const e=Ql(t);return[kf(t),e,kf(e)]}function kf(t){return t.replace(/start|end/g,e=>JT[e])}const fv=["left","right"],hv=["right","left"],rA=["top","bottom"],nA=["bottom","top"];function sA(t,e,r){switch(t){case"top":case"bottom":return r?e?hv:fv:e?fv:hv;case"left":case"right":return e?rA:nA;default:return[]}}function iA(t,e,r,s){const o=Ii(t);let l=sA(ln(t),r==="start",s);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(kf)))),l}function Ql(t){return t.replace(/left|right|bottom|top/g,e=>YT[e])}function oA(t){return{top:0,right:0,bottom:0,left:0,...t}}function jw(t){return typeof t!="number"?oA(t):{top:t,right:t,bottom:t,left:t}}function Xl(t){const{x:e,y:r,width:s,height:o}=t;return{width:s,height:o,top:r,left:e,right:e+s,bottom:r+o,x:e,y:r}}function mv(t,e,r){let{reference:s,floating:o}=t;const l=Ur(e),u=vh(e),d=yh(u),h=ln(e),m=l==="y",p=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let w;switch(h){case"top":w={x:p,y:s.y-o.height};break;case"bottom":w={x:p,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y};break;case"left":w={x:s.x-o.width,y};break;default:w={x:s.x,y:s.y}}switch(Ii(e)){case"start":w[u]-=x*(r&&m?-1:1);break;case"end":w[u]+=x*(r&&m?-1:1);break}return w}const aA=async(t,e,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:u}=r,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y}=mv(m,s,h),x=s,w={},j=0;for(let C=0;C<d.length;C++){const{name:N,fn:O}=d[C],{x:k,y:_,data:A,reset:F}=await O({x:p,y,initialPlacement:s,placement:x,strategy:o,middlewareData:w,rects:m,platform:u,elements:{reference:t,floating:e}});p=k??p,y=_??y,w={...w,[N]:{...w[N],...A}},F&&j<=50&&(j++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(m=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):F.rects),{x:p,y}=mv(m,x,h)),C=-1)}return{x:p,y,placement:x,strategy:o,middlewareData:w}};async function qo(t,e){var r;e===void 0&&(e={});const{x:s,y:o,platform:l,rects:u,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=an(e,t),j=jw(w),N=d[x?y==="floating"?"reference":"floating":y],O=Xl(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:h})),k=y==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),A=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},F=Xl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:k,offsetParent:_,strategy:h}):k);return{top:(O.top-F.top+j.top)/A.y,bottom:(F.bottom-O.bottom+j.bottom)/A.y,left:(O.left-F.left+j.left)/A.x,right:(F.right-O.right+j.right)/A.x}}const lA=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:o,rects:l,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:p=0}=an(t,e)||{};if(m==null)return{};const y=jw(p),x={x:r,y:s},w=vh(o),j=yh(w),C=await u.getDimensions(m),N=w==="y",O=N?"top":"left",k=N?"bottom":"right",_=N?"clientHeight":"clientWidth",A=l.reference[j]+l.reference[w]-x[w]-l.floating[j],F=x[w]-l.reference[w],M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let I=M?M[_]:0;(!I||!await(u.isElement==null?void 0:u.isElement(M)))&&(I=d.floating[_]||l.floating[j]);const W=A/2-F/2,Z=I/2-C[j]/2-1,B=Bn(y[O],Z),ge=Bn(y[k],Z),ie=B,X=I-C[j]-ge,z=I/2-C[j]/2+W,ue=Nf(ie,z,X),he=!h.arrow&&Ii(o)!=null&&z!==ue&&l.reference[j]/2-(z<ie?B:ge)-C[j]/2<0,le=he?z<ie?z-ie:z-X:0;return{[w]:x[w]+le,data:{[w]:ue,centerOffset:z-ue-le,...he&&{alignmentOffset:le}},reset:he}}}),cA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:C=!0,...N}=an(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const O=ln(o),k=Ur(d),_=ln(d)===d,A=await(h.isRTL==null?void 0:h.isRTL(m.floating)),F=x||(_||!C?[Ql(d)]:tA(d)),M=j!=="none";!x&&M&&F.push(...iA(d,C,j,A));const I=[d,...F],W=await qo(e,N),Z=[];let B=((s=l.flip)==null?void 0:s.overflows)||[];if(p&&Z.push(W[O]),y){const z=eA(o,u,A);Z.push(W[z[0]],W[z[1]])}if(B=[...B,{placement:o,overflows:Z}],!Z.every(z=>z<=0)){var ge,ie;const z=(((ge=l.flip)==null?void 0:ge.index)||0)+1,ue=I[z];if(ue&&(!(y==="alignment"?k!==Ur(ue):!1)||B.every(H=>Ur(H.placement)===k?H.overflows[0]>0:!0)))return{data:{index:z,overflows:B},reset:{placement:ue}};let he=(ie=B.filter(le=>le.overflows[0]<=0).sort((le,H)=>le.overflows[1]-H.overflows[1])[0])==null?void 0:ie.placement;if(!he)switch(w){case"bestFit":{var X;const le=(X=B.filter(H=>{if(M){const ee=Ur(H.placement);return ee===k||ee==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ee=>ee>0).reduce((ee,te)=>ee+te,0)]).sort((H,ee)=>H[1]-ee[1])[0])==null?void 0:X[0];le&&(he=le);break}case"initialPlacement":he=d;break}if(o!==he)return{reset:{placement:he}}}return{}}}};function pv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gv(t){return XT.some(e=>t[e]>=0)}const uA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...o}=an(t,e);switch(s){case"referenceHidden":{const l=await qo(e,{...o,elementContext:"reference"}),u=pv(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:gv(u)}}}case"escaped":{const l=await qo(e,{...o,altBoundary:!0}),u=pv(l,r.floating);return{data:{escapedOffsets:u,escaped:gv(u)}}}default:return{}}}}},Sw=new Set(["left","top"]);async function dA(t,e){const{placement:r,platform:s,elements:o}=t,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=ln(r),d=Ii(r),h=Ur(r)==="y",m=Sw.has(u)?-1:1,p=l&&h?-1:1,y=an(e,t);let{mainAxis:x,crossAxis:w,alignmentAxis:j}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof j=="number"&&(w=d==="end"?j*-1:j),h?{x:w*p,y:x*m}:{x:x*m,y:w*p}}const fA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:o,y:l,placement:u,middlewareData:d}=e,h=await dA(e,t);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:u}}}}},hA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:O,y:k}=N;return{x:O,y:k}}},...h}=an(t,e),m={x:r,y:s},p=await qo(e,h),y=Ur(ln(o)),x=gh(y);let w=m[x],j=m[y];if(l){const N=x==="y"?"top":"left",O=x==="y"?"bottom":"right",k=w+p[N],_=w-p[O];w=Nf(k,w,_)}if(u){const N=y==="y"?"top":"left",O=y==="y"?"bottom":"right",k=j+p[N],_=j-p[O];j=Nf(k,j,_)}const C=d.fn({...e,[x]:w,[y]:j});return{...C,data:{x:C.x-r,y:C.y-s,enabled:{[x]:l,[y]:u}}}}}},mA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:o,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=an(t,e),p={x:r,y:s},y=Ur(o),x=gh(y);let w=p[x],j=p[y];const C=an(d,e),N=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const _=x==="y"?"height":"width",A=l.reference[x]-l.floating[_]+N.mainAxis,F=l.reference[x]+l.reference[_]-N.mainAxis;w<A?w=A:w>F&&(w=F)}if(m){var O,k;const _=x==="y"?"width":"height",A=Sw.has(ln(o)),F=l.reference[y]-l.floating[_]+(A&&((O=u.offset)==null?void 0:O[y])||0)+(A?0:N.crossAxis),M=l.reference[y]+l.reference[_]+(A?0:((k=u.offset)==null?void 0:k[y])||0)-(A?N.crossAxis:0);j<F?j=F:j>M&&(j=M)}return{[x]:w,[y]:j}}}},pA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:o,rects:l,platform:u,elements:d}=e,{apply:h=()=>{},...m}=an(t,e),p=await qo(e,m),y=ln(o),x=Ii(o),w=Ur(o)==="y",{width:j,height:C}=l.floating;let N,O;y==="top"||y==="bottom"?(N=y,O=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(O=y,N=x==="end"?"top":"bottom");const k=C-p.top-p.bottom,_=j-p.left-p.right,A=Bn(C-p[N],k),F=Bn(j-p[O],_),M=!e.middlewareData.shift;let I=A,W=F;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(W=_),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(I=k),M&&!x){const B=rr(p.left,0),ge=rr(p.right,0),ie=rr(p.top,0),X=rr(p.bottom,0);w?W=j-2*(B!==0||ge!==0?B+ge:rr(p.left,p.right)):I=C-2*(ie!==0||X!==0?ie+X:rr(p.top,p.bottom))}await h({...e,availableWidth:W,availableHeight:I});const Z=await u.getDimensions(d.floating);return j!==Z.width||C!==Z.height?{reset:{rects:!0}}:{}}}};function hc(){return typeof window<"u"}function Di(t){return Nw(t)?(t.nodeName||"").toLowerCase():"#document"}function nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(Nw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Nw(t){return hc()?t instanceof Node||t instanceof nr(t).Node:!1}function Tr(t){return hc()?t instanceof Element||t instanceof nr(t).Element:!1}function zr(t){return hc()?t instanceof HTMLElement||t instanceof nr(t).HTMLElement:!1}function yv(t){return!hc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nr(t).ShadowRoot}const gA=new Set(["inline","contents"]);function ra(t){const{overflow:e,overflowX:r,overflowY:s,display:o}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!gA.has(o)}const yA=new Set(["table","td","th"]);function vA(t){return yA.has(Di(t))}const xA=[":popover-open",":modal"];function mc(t){return xA.some(e=>{try{return t.matches(e)}catch{return!1}})}const wA=["transform","translate","scale","rotate","perspective"],bA=["transform","translate","scale","rotate","perspective","filter"],CA=["paint","layout","strict","content"];function xh(t){const e=wh(),r=Tr(t)?Ar(t):t;return wA.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||bA.some(s=>(r.willChange||"").includes(s))||CA.some(s=>(r.contain||"").includes(s))}function _A(t){let e=Vn(t);for(;zr(e)&&!Ai(e);){if(xh(e))return e;if(mc(e))return null;e=Vn(e)}return null}function wh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jA=new Set(["html","body","#document"]);function Ai(t){return jA.has(Di(t))}function Ar(t){return nr(t).getComputedStyle(t)}function pc(t){return Tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vn(t){if(Di(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yv(t)&&t.host||Wr(t);return yv(e)?e.host:e}function kw(t){const e=Vn(t);return Ai(e)?t.ownerDocument?t.ownerDocument.body:t.body:zr(e)&&ra(e)?e:kw(e)}function Ho(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=kw(t),l=o===((s=t.ownerDocument)==null?void 0:s.body),u=nr(o);if(l){const d=Ef(u);return e.concat(u,u.visualViewport||[],ra(o)?o:[],d&&r?Ho(d):[])}return e.concat(o,Ho(o,[],r))}function Ef(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ew(t){const e=Ar(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=zr(t),l=o?t.offsetWidth:r,u=o?t.offsetHeight:s,d=Kl(r)!==l||Kl(s)!==u;return d&&(r=l,s=u),{width:r,height:s,$:d}}function bh(t){return Tr(t)?t:t.contextElement}function Ni(t){const e=bh(t);if(!zr(e))return Vr(1);const r=e.getBoundingClientRect(),{width:s,height:o,$:l}=Ew(e);let u=(l?Kl(r.width):r.width)/s,d=(l?Kl(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const SA=Vr(0);function Pw(t){const e=nr(t);return!wh()||!e.visualViewport?SA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NA(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==nr(t)?!1:e}function js(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=bh(t);let u=Vr(1);e&&(s?Tr(s)&&(u=Ni(s)):u=Ni(t));const d=NA(l,r,s)?Pw(l):Vr(0);let h=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,p=o.width/u.x,y=o.height/u.y;if(l){const x=nr(l),w=s&&Tr(s)?nr(s):s;let j=x,C=Ef(j);for(;C&&s&&w!==j;){const N=Ni(C),O=C.getBoundingClientRect(),k=Ar(C),_=O.left+(C.clientLeft+parseFloat(k.paddingLeft))*N.x,A=O.top+(C.clientTop+parseFloat(k.paddingTop))*N.y;h*=N.x,m*=N.y,p*=N.x,y*=N.y,h+=_,m+=A,j=nr(C),C=Ef(j)}}return Xl({width:p,height:y,x:h,y:m})}function gc(t,e){const r=pc(t).scrollLeft;return e?e.left+r:js(Wr(t)).left+r}function Tw(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-gc(t,r),o=r.top+e.scrollTop;return{x:s,y:o}}function kA(t){let{elements:e,rect:r,offsetParent:s,strategy:o}=t;const l=o==="fixed",u=Wr(s),d=e?mc(e.floating):!1;if(s===u||d&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Vr(1);const p=Vr(0),y=zr(s);if((y||!y&&!l)&&((Di(s)!=="body"||ra(u))&&(h=pc(s)),zr(s))){const w=js(s);m=Ni(s),p.x=w.x+s.clientLeft,p.y=w.y+s.clientTop}const x=u&&!y&&!l?Tw(u,h):Vr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+p.x+x.x,y:r.y*m.y-h.scrollTop*m.y+p.y+x.y}}function EA(t){return Array.from(t.getClientRects())}function PA(t){const e=Wr(t),r=pc(t),s=t.ownerDocument.body,o=rr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=rr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+gc(t);const d=-r.scrollTop;return Ar(s).direction==="rtl"&&(u+=rr(e.clientWidth,s.clientWidth)-o),{width:o,height:l,x:u,y:d}}const vv=25;function TA(t,e){const r=nr(t),s=Wr(t),o=r.visualViewport;let l=s.clientWidth,u=s.clientHeight,d=0,h=0;if(o){l=o.width,u=o.height;const p=wh();(!p||p&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const m=gc(s);if(m<=0){const p=s.ownerDocument,y=p.body,x=getComputedStyle(y),w=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(s.clientWidth-y.clientWidth-w);j<=vv&&(l-=j)}else m<=vv&&(l+=m);return{width:l,height:u,x:d,y:h}}const AA=new Set(["absolute","fixed"]);function RA(t,e){const r=js(t,!0,e==="fixed"),s=r.top+t.clientTop,o=r.left+t.clientLeft,l=zr(t)?Ni(t):Vr(1),u=t.clientWidth*l.x,d=t.clientHeight*l.y,h=o*l.x,m=s*l.y;return{width:u,height:d,x:h,y:m}}function xv(t,e,r){let s;if(e==="viewport")s=TA(t,r);else if(e==="document")s=PA(Wr(t));else if(Tr(e))s=RA(e,r);else{const o=Pw(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Xl(s)}function Aw(t,e){const r=Vn(t);return r===e||!Tr(r)||Ai(r)?!1:Ar(r).position==="fixed"||Aw(r,e)}function OA(t,e){const r=e.get(t);if(r)return r;let s=Ho(t,[],!1).filter(d=>Tr(d)&&Di(d)!=="body"),o=null;const l=Ar(t).position==="fixed";let u=l?Vn(t):t;for(;Tr(u)&&!Ai(u);){const d=Ar(u),h=xh(u);!h&&d.position==="fixed"&&(o=null),(l?!h&&!o:!h&&d.position==="static"&&!!o&&AA.has(o.position)||ra(u)&&!h&&Aw(t,u))?s=s.filter(p=>p!==u):o=d,u=Vn(u)}return e.set(t,s),s}function MA(t){let{element:e,boundary:r,rootBoundary:s,strategy:o}=t;const u=[...r==="clippingAncestors"?mc(e)?[]:OA(e,this._c):[].concat(r),s],d=u[0],h=u.reduce((m,p)=>{const y=xv(e,p,o);return m.top=rr(y.top,m.top),m.right=Bn(y.right,m.right),m.bottom=Bn(y.bottom,m.bottom),m.left=rr(y.left,m.left),m},xv(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function IA(t){const{width:e,height:r}=Ew(t);return{width:e,height:r}}function DA(t,e,r){const s=zr(e),o=Wr(e),l=r==="fixed",u=js(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Vr(0);function m(){h.x=gc(o)}if(s||!s&&!l)if((Di(e)!=="body"||ra(o))&&(d=pc(e)),s){const w=js(e,!0,l,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&m();l&&!s&&o&&m();const p=o&&!s&&!l?Tw(o,d):Vr(0),y=u.left+d.scrollLeft-h.x-p.x,x=u.top+d.scrollTop-h.y-p.y;return{x:y,y:x,width:u.width,height:u.height}}function Fd(t){return Ar(t).position==="static"}function wv(t,e){if(!zr(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Wr(t)===r&&(r=r.ownerDocument.body),r}function Rw(t,e){const r=nr(t);if(mc(t))return r;if(!zr(t)){let o=Vn(t);for(;o&&!Ai(o);){if(Tr(o)&&!Fd(o))return o;o=Vn(o)}return r}let s=wv(t,e);for(;s&&vA(s)&&Fd(s);)s=wv(s,e);return s&&Ai(s)&&Fd(s)&&!xh(s)?r:s||_A(t)||r}const LA=async function(t){const e=this.getOffsetParent||Rw,r=this.getDimensions,s=await r(t.floating);return{reference:DA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function $A(t){return Ar(t).direction==="rtl"}const FA={convertOffsetParentRelativeRectToViewportRelativeRect:kA,getDocumentElement:Wr,getClippingRect:MA,getOffsetParent:Rw,getElementRects:LA,getClientRects:EA,getDimensions:IA,getScale:Ni,isElement:Tr,isRTL:$A};function Ow(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function UA(t,e){let r=null,s;const o=Wr(t);function l(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:p,top:y,width:x,height:w}=m;if(d||e(),!x||!w)return;const j=Pl(y),C=Pl(o.clientWidth-(p+x)),N=Pl(o.clientHeight-(y+w)),O=Pl(p),_={rootMargin:-j+"px "+-C+"px "+-N+"px "+-O+"px",threshold:rr(0,Bn(1,h))||1};let A=!0;function F(M){const I=M[0].intersectionRatio;if(I!==h){if(!A)return u();I?u(!1,I):s=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!Ow(m,t.getBoundingClientRect())&&u(),A=!1}try{r=new IntersectionObserver(F,{..._,root:o.ownerDocument})}catch{r=new IntersectionObserver(F,_)}r.observe(t)}return u(!0),l}function BA(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=bh(t),p=o||l?[...m?Ho(m):[],...Ho(e)]:[];p.forEach(O=>{o&&O.addEventListener("scroll",r,{passive:!0}),l&&O.addEventListener("resize",r)});const y=m&&d?UA(m,r):null;let x=-1,w=null;u&&(w=new ResizeObserver(O=>{let[k]=O;k&&k.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(e)})),r()}),m&&!h&&w.observe(m),w.observe(e));let j,C=h?js(t):null;h&&N();function N(){const O=js(t);C&&!Ow(C,O)&&r(),C=O,j=requestAnimationFrame(N)}return r(),()=>{var O;p.forEach(k=>{o&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),y?.(),(O=w)==null||O.disconnect(),w=null,h&&cancelAnimationFrame(j)}}const VA=fA,zA=hA,WA=cA,qA=pA,HA=uA,bv=lA,GA=mA,KA=(t,e,r)=>{const s=new Map,o={platform:FA,...r},l={...o.platform,_c:s};return aA(t,e,{...o,platform:l})};var QA=typeof document<"u",XA=function(){},Il=QA?b.useLayoutEffect:XA;function Yl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Yl(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=r;s--!==0;){const l=o[s];if(!(l==="_owner"&&t.$$typeof)&&!Yl(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Mw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Cv(t,e){const r=Mw(t);return Math.round(e*r)/r}function Ud(t){const e=b.useRef(t);return Il(()=>{e.current=t}),e}function YA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[p,y]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=b.useState(s);Yl(x,s)||w(s);const[j,C]=b.useState(null),[N,O]=b.useState(null),k=b.useCallback(H=>{H!==M.current&&(M.current=H,C(H))},[]),_=b.useCallback(H=>{H!==I.current&&(I.current=H,O(H))},[]),A=l||j,F=u||N,M=b.useRef(null),I=b.useRef(null),W=b.useRef(p),Z=h!=null,B=Ud(h),ge=Ud(o),ie=Ud(m),X=b.useCallback(()=>{if(!M.current||!I.current)return;const H={placement:e,strategy:r,middleware:x};ge.current&&(H.platform=ge.current),KA(M.current,I.current,H).then(ee=>{const te={...ee,isPositioned:ie.current!==!1};z.current&&!Yl(W.current,te)&&(W.current=te,ac.flushSync(()=>{y(te)}))})},[x,e,r,ge,ie]);Il(()=>{m===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[m]);const z=b.useRef(!1);Il(()=>(z.current=!0,()=>{z.current=!1}),[]),Il(()=>{if(A&&(M.current=A),F&&(I.current=F),A&&F){if(B.current)return B.current(A,F,X);X()}},[A,F,X,B,Z]);const ue=b.useMemo(()=>({reference:M,floating:I,setReference:k,setFloating:_}),[k,_]),he=b.useMemo(()=>({reference:A,floating:F}),[A,F]),le=b.useMemo(()=>{const H={position:r,left:0,top:0};if(!he.floating)return H;const ee=Cv(he.floating,p.x),te=Cv(he.floating,p.y);return d?{...H,transform:"translate("+ee+"px, "+te+"px)",...Mw(he.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:te}},[r,d,he.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:X,refs:ue,elements:he,floatingStyles:le}),[p,X,ue,he,le])}const JA=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:o}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?bv({element:s.current,padding:o}).fn(r):{}:s?bv({element:s,padding:o}).fn(r):{}}}},ZA=(t,e)=>({...VA(t),options:[t,e]}),eR=(t,e)=>({...zA(t),options:[t,e]}),tR=(t,e)=>({...GA(t),options:[t,e]}),rR=(t,e)=>({...WA(t),options:[t,e]}),nR=(t,e)=>({...qA(t),options:[t,e]}),sR=(t,e)=>({...HA(t),options:[t,e]}),iR=(t,e)=>({...JA(t),options:[t,e]});var oR="Arrow",Iw=b.forwardRef((t,e)=>{const{children:r,width:s=10,height:o=5,...l}=t;return a.jsx(Rt.svg,{...l,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iw.displayName=oR;var aR=Iw;function lR(t){const[e,r]=b.useState(void 0);return pr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Ch="Popper",[Dw,Lw]=Zo(Ch),[cR,$w]=Dw(Ch),Fw=t=>{const{__scopePopper:e,children:r}=t,[s,o]=b.useState(null);return a.jsx(cR,{scope:e,anchor:s,onAnchorChange:o,children:r})};Fw.displayName=Ch;var Uw="PopperAnchor",Bw=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...o}=t,l=$w(Uw,r),u=b.useRef(null),d=Pr(e,u),h=b.useRef(null);return b.useEffect(()=>{const m=h.current;h.current=s?.current||u.current,m!==h.current&&l.onAnchorChange(h.current)}),s?null:a.jsx(Rt.div,{...o,ref:d})});Bw.displayName=Uw;var _h="PopperContent",[uR,dR]=Dw(_h),Vw=b.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:j,...C}=t,N=$w(_h,r),[O,k]=b.useState(null),_=Pr(e,be=>k(be)),[A,F]=b.useState(null),M=lR(A),I=M?.width??0,W=M?.height??0,Z=s+(l!=="center"?"-"+l:""),B=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ge=Array.isArray(m)?m:[m],ie=ge.length>0,X={padding:B,boundary:ge.filter(hR),altBoundary:ie},{refs:z,floatingStyles:ue,placement:he,isPositioned:le,middlewareData:H}=YA({strategy:"fixed",placement:Z,whileElementsMounted:(...be)=>BA(...be,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[ZA({mainAxis:o+W,alignmentAxis:u}),h&&eR({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?tR():void 0,...X}),h&&rR({...X}),nR({...X,apply:({elements:be,rects:ye,availableWidth:Oe,availableHeight:qe})=>{const{width:Y,height:$e}=ye.reference,Ce=be.floating.style;Ce.setProperty("--radix-popper-available-width",`${Oe}px`),Ce.setProperty("--radix-popper-available-height",`${qe}px`),Ce.setProperty("--radix-popper-anchor-width",`${Y}px`),Ce.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),A&&iR({element:A,padding:d}),mR({arrowWidth:I,arrowHeight:W}),x&&sR({strategy:"referenceHidden",...X})]}),[ee,te]=qw(he),E=on(j);pr(()=>{le&&E?.()},[le,E]);const D=H.arrow?.x,K=H.arrow?.y,ce=H.arrow?.centerOffset!==0,[xe,pe]=b.useState();return pr(()=>{O&&pe(window.getComputedStyle(O).zIndex)},[O]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:le?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(uR,{scope:r,placedSide:ee,onArrowChange:F,arrowX:D,arrowY:K,shouldHideArrow:ce,children:a.jsx(Rt.div,{"data-side":ee,"data-align":te,...C,ref:_,style:{...C.style,animation:le?void 0:"none"}})})})});Vw.displayName=_h;var zw="PopperArrow",fR={top:"bottom",right:"left",bottom:"top",left:"right"},Ww=b.forwardRef(function(e,r){const{__scopePopper:s,...o}=e,l=dR(zw,s),u=fR[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(aR,{...o,ref:r,style:{...o.style,display:"block"}})})});Ww.displayName=zw;function hR(t){return t!==null}var mR=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,p]=qw(r),y={start:"0%",center:"50%",end:"100%"}[p],x=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+h/2;let j="",C="";return m==="bottom"?(j=u?y:`${x}px`,C=`${-h}px`):m==="top"?(j=u?y:`${x}px`,C=`${s.floating.height+h}px`):m==="right"?(j=`${-h}px`,C=u?y:`${w}px`):m==="left"&&(j=`${s.floating.width+h}px`,C=u?y:`${w}px`),{data:{x:j,y:C}}}});function qw(t){const[e,r="center"]=t.split("-");return[e,r]}var pR=Fw,gR=Bw,yR=Vw,vR=Ww,[yc]=Zo("Tooltip",[Lw]),vc=Lw(),Hw="TooltipProvider",xR=700,Pf="tooltip.open",[wR,jh]=yc(Hw),Gw=t=>{const{__scopeTooltip:e,delayDuration:r=xR,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:l}=t,u=b.useRef(!0),d=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),a.jsx(wR,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:b.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:l})};Gw.displayName=Hw;var Go="Tooltip",[bR,na]=yc(Go),Kw=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:o,onOpenChange:l,disableHoverableContent:u,delayDuration:d}=t,h=jh(Go,t.__scopeTooltip),m=vc(e),[p,y]=b.useState(null),x=QT(),w=b.useRef(0),j=u??h.disableHoverableContent,C=d??h.delayDuration,N=b.useRef(!1),[O,k]=w0({prop:s,defaultProp:o??!1,onChange:I=>{I?(h.onOpen(),document.dispatchEvent(new CustomEvent(Pf))):h.onClose(),l?.(I)},caller:Go}),_=b.useMemo(()=>O?N.current?"delayed-open":"instant-open":"closed",[O]),A=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N.current=!1,k(!0)},[k]),F=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,k(!1)},[k]),M=b.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{N.current=!0,k(!0),w.current=0},C)},[C,k]);return b.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),a.jsx(pR,{...m,children:a.jsx(bR,{scope:e,contentId:x,open:O,stateAttribute:_,trigger:p,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?M():A()},[h.isOpenDelayedRef,M,A]),onTriggerLeave:b.useCallback(()=>{j?F():(window.clearTimeout(w.current),w.current=0)},[F,j]),onOpen:A,onClose:F,disableHoverableContent:j,children:r})})};Kw.displayName=Go;var Tf="TooltipTrigger",Qw=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=na(Tf,r),l=jh(Tf,r),u=vc(r),d=b.useRef(null),h=Pr(e,d,o.onTriggerChange),m=b.useRef(!1),p=b.useRef(!1),y=b.useCallback(()=>m.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),a.jsx(gR,{asChild:!0,...u,children:a.jsx(Rt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:St(t.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:St(t.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:St(t.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:St(t.onFocus,()=>{m.current||o.onOpen()}),onBlur:St(t.onBlur,o.onClose),onClick:St(t.onClick,o.onClose)})})});Qw.displayName=Tf;var Sh="TooltipPortal",[CR,_R]=yc(Sh,{forceMount:void 0}),Xw=t=>{const{__scopeTooltip:e,forceMount:r,children:s,container:o}=t,l=na(Sh,e);return a.jsx(CR,{scope:e,forceMount:r,children:a.jsx(lc,{present:r||l.open,children:a.jsx(sh,{asChild:!0,container:o,children:s})})})};Xw.displayName=Sh;var Ri="TooltipContent",Yw=b.forwardRef((t,e)=>{const r=_R(Ri,t.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...l}=t,u=na(Ri,t.__scopeTooltip);return a.jsx(lc,{present:s||u.open,children:u.disableHoverableContent?a.jsx(Jw,{side:o,...l,ref:e}):a.jsx(jR,{side:o,...l,ref:e})})}),jR=b.forwardRef((t,e)=>{const r=na(Ri,t.__scopeTooltip),s=jh(Ri,t.__scopeTooltip),o=b.useRef(null),l=Pr(e,o),[u,d]=b.useState(null),{trigger:h,onClose:m}=r,p=o.current,{onPointerInTransitChange:y}=s,x=b.useCallback(()=>{d(null),y(!1)},[y]),w=b.useCallback((j,C)=>{const N=j.currentTarget,O={x:j.clientX,y:j.clientY},k=ER(O,N.getBoundingClientRect()),_=PR(O,k),A=TR(C.getBoundingClientRect()),F=RR([..._,...A]);d(F),y(!0)},[y]);return b.useEffect(()=>()=>x(),[x]),b.useEffect(()=>{if(h&&p){const j=N=>w(N,p),C=N=>w(N,h);return h.addEventListener("pointerleave",j),p.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",C)}}},[h,p,w,x]),b.useEffect(()=>{if(u){const j=C=>{const N=C.target,O={x:C.clientX,y:C.clientY},k=h?.contains(N)||p?.contains(N),_=!AR(O,u);k?x():_&&(x(),m())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[h,p,u,m,x]),a.jsx(Jw,{...t,ref:l})}),[SR,NR]=yc(Go,{isInside:!1}),kR=Ok("TooltipContent"),Jw=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=t,h=na(Ri,r),m=vc(r),{onClose:p}=h;return b.useEffect(()=>(document.addEventListener(Pf,p),()=>document.removeEventListener(Pf,p)),[p]),b.useEffect(()=>{if(h.trigger){const y=x=>{x.target?.contains(h.trigger)&&p()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,p]),a.jsx(nh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:p,children:a.jsxs(yR,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(kR,{children:s}),a.jsx(SR,{scope:r,isInside:!0,children:a.jsx(nE,{id:h.contentId,role:"tooltip",children:o||s})})]})})});Yw.displayName=Ri;var Zw="TooltipArrow",eb=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=vc(r);return NR(Zw,r).isInside?null:a.jsx(vR,{...o,...s,ref:e})});eb.displayName=Zw;function ER(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(r,s,o,l)){case l:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function PR(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function TR(t){const{top:e,right:r,bottom:s,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:s},{x:o,y:s}]}function AR(t,e){const{x:r,y:s}=t;let o=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l],h=e[u],m=d.x,p=d.y,y=h.x,x=h.y;p>s!=x>s&&r<(y-m)*(s-p)/(x-p)+m&&(o=!o)}return o}function RR(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),OR(e)}function OR(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;r.length>=2;){const l=r[r.length-1],u=r[r.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var MR=Gw,IR=Kw,DR=Qw,LR=Xw,$R=Yw,FR=eb;function UR({user:t,className:e}){if(!t)return null;const r="https://api.dicebear.com/7.x/avataaars/svg?seed="+encodeURIComponent(t.email),s=t.user_metadata?.name||t.email,o=t.user_metadata?.avatar_url||r;return a.jsx(MR,{children:a.jsxs(IR,{children:[a.jsx(DR,{asChild:!0,children:a.jsxs(WT,{className:`relative inline-flex h-8 w-8 ${e}`,children:[a.jsx(qT,{src:o,className:"h-full w-full rounded-full object-cover",alt:s}),a.jsx(HT,{className:"flex h-full w-full items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:s.charAt(0).toUpperCase()})]})}),a.jsx(LR,{children:a.jsxs($R,{className:"rounded-md bg-white px-3 py-1.5 text-sm text-gray-900 shadow-md dark:bg-gray-800 dark:text-gray-100",sideOffset:5,children:[s,a.jsx(FR,{className:"fill-current text-white dark:text-gray-800"})]})})]})})}const BR=U0("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=Je.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...o},l)=>{const u=s?Ak:"button";return a.jsx(u,{className:Ps(BR({variant:e,size:r,className:t})),ref:l,...o})});ve.displayName="Button";const tb=b.createContext(),VR={es:{nav:{home:"Inicio",products:"Productos",remittances:"Remesas",admin:"Administracin",dashboard:"Panel de Control",settings:"Configuracin",cart:"Carrito",userPanel:"Mi Panel",userManagement:"Gestin de Usuarios"},home:{hero:{cta:{products:"Ver Productos"}},features:{title:"Funcionalidades Principales",subtitle:"Todo lo que necesitas para hacer crecer tu negocio digital",products:{title:"Venta de Productos",description:"Plataforma completa para vendedores independientes con clculo automtico de precios"},remittances:{title:"Remesas a Cuba",description:"Enva dinero a Cuba desde USA y Espaa de forma rpida y segura"},analytics:{title:"Panel de Ganancias",description:"Visualiza tus ganancias diarias y mensuales en tiempo real"},vendors:{title:"Gestin de Vendedores",description:"Herramientas completas para que vendedores independientes gestionen su inventario"}},testimonials:{title:"Lo que dicen nuestros clientes",subtitle:"Experiencias reales de usuarios satisfechos con nuestra plataforma."}},products:{title:"Catlogo de Productos",subtitle:"Descubre productos y combos para enviar a Cuba con precios competitivos",searchPlaceholder:"Buscar productos...",categories:{all:"Todas las Categoras"},exchangeRate:"Tasa de Cambio Actual",addToCart:"Agregar al Carrito",vendor:"Vendedor",noProducts:"No se encontraron productos",noProductsDesc:"Intenta con otros trminos de bsqueda o categoras",addProduct:"Agregar Producto",addedToCart:"Producto agregado",addedToCartDesc:"se agreg al carrito exitosamente",detail:{previous:"Anterior",next:"Siguiente",backToProducts:" Volver a Productos",backToCombos:" Volver a Combos",continueToProducts:"Continuar a Productos ",continueToCombos:"Continuar a Combos ",price:"Precio",basePrice:"Precio Base",category:"Categora",description:"Descripcin",stock:"Stock Disponible",expiryDate:"Fecha de Vencimiento",currency:"Moneda",includedProducts:"Productos Incluidos",profitMargin:"Margen de Ganancia",comboDetails:"Detalles del Combo",productDetails:"Detalles del Producto",inStock:"En Stock",outOfStock:"Agotado",units:"unidades"}},remittances:{title:"Remesas a Cuba",subtitle:"Enva dinero a Cuba desde USA y Espaa de forma rpida y segura",calculator:"Calculadora de Remesas",amount:"Cantidad a Enviar (USD)",country:"Pas de Destino",selectCountry:"Seleccionar pas...",currentRate:"Tasa Actual",popular:"Popular",rate:"Tasa",fee:"Comisin",time:"Tiempo",youReceive:"Recibes",send:"Enviar",howItWorks:"Cmo Funciona?",step1:{title:"Selecciona el Pas",description:"Elige el pas de destino y la cantidad a enviar"},step2:{title:"Confirma los Datos",description:"Verifica la informacin del destinatario"},step3:{title:"Recibe Confirmacin",description:"El dinero llega en el tiempo estimado"},recipient:{title:"Datos del Destinatario",deliveryMethod:"Mtodo de Entrega",cash:"Efectivo",transfer:"Transferencia",currency:"Moneda",fullName:"Nombre Completo",bankName:"Nombre del Banco",accountNumber:"Nmero de Cuenta",confirm:"Confirmar y Enviar"}},vendor:{title:"Gestin de la Plataforma",subtitle:"Gestiona productos, categoras, combos y ms.",tabs:{inventory:"Inventario",categories:"Categoras",combos:"Combos",management:"Gestin"},actions:{addProduct:"Agregar Producto",createCombo:"Crear Combo"},addProduct:{title:"Agregar Nuevo Producto",editTitle:"Editar Producto",cancel:"Cancelar",name:"Nombre del Producto",namePlaceholder:"Ej: iPhone 15 Pro Max",description:"Descripcin",descriptionPlaceholder:"Describe las caractersticas principales...",category:"Categora",basePrice:"Precio Base",currency:"Moneda",image:"Imagen del Producto",upload:"Subir archivo",finalPrice:"Precio Final",save:"Guardar Producto"},inventory:{product:"Producto",stock:"Existencias",price:"Precio Final",expiryDate:"Fecha de Caducidad"},categories:{manage:"Gestionar Categoras",new:"Nueva categora",name_es:"Nombre (ES)",name_en:"Nombre (EN)",id:"ID"},combos:{title:"Gestin de Combos",new:"Crear Nuevo Combo",edit:"Editar Combo",name:"Nombre del Combo",profitMargin:"Margen de Ganancia (%)",shipping:"Envo",free:"Gratis",discount:"Descuento (%)",paid:"Pagado",shippingCost:"Costo de Envo",products:"Productos en el Combo",addProduct:"Agregar Producto",basePrice:"Precio Base Total",finalPrice:"Precio Final",coverImage:"Imagen de Portada",save:"Guardar Combo"},management:{title:"Gestin General",payments:"Gestin de Pagos",testimonials:"Gestin de Testimonios",users:"Gestin de Usuarios",show:"Mostrar",hide:"Ocultar",activate:"Activar",deactivate:"Desactivar",delete:"Eliminar"},validation:{error:"Error de Validacin",fillFields:"Por favor completa todos los campos requeridos"},productAdded:"Producto agregado exitosamente",productUpdated:"Producto actualizado exitosamente",categoryAdded:"Categora agregada",categoryRemoved:"Categora eliminada",comboAdded:"Combo creado exitosamente",comboUpdated:"Combo actualizado exitosamente"},dashboard:{title:"Panel de Control",subtitle:"Visualizacin completa de ganancias y mtricas del negocio",privateAccess:"Acceso Privado",adminOnly:"Esta seccin es solo para administradores.",refresh:"Actualizar",stats:{dailyRevenue:"Ingresos Diarios",monthlyRevenue:"Ingresos Mensuales",dailyProfit:"Ganancia Diaria",monthlyProfit:"Ganancia Mensual",totalProducts:"Total de Productos",totalCombos:"Total de Combos",pendingOrders:"Pedidos Pendientes",completedOrders:"Pedidos Completados",totalUsers:"Total de Usuarios",activeProducts:"Productos Activos",siteVisits:"Visitas al Sitio"},profitBreakdown:"Desglose de Ganancias",dailyBreakdown:"Desglose Diario",monthlyBreakdown:"Desglose Mensual",grossRevenue:"Ingresos Brutos",costs:"Costos",netProfit:"Ganancia Neta",profitMargin:"Margen de Ganancia",orderSummary:"Resumen de Pedidos",pending:"Pendientes",completed:"Completados",analyticsTitle:"Anlisis y Estadsticas",selectCurrency:"Seleccionar Moneda",expirationWarning:{title:"Alerta de Caducidad",description:"Hay {count} producto(s) prximos a caducar en los siguientes 30 das."},visits:{title:"Visitas al Sitio",weekly:"Semanal",monthly:"Mensual",yearly:"Anual",total:"Total",thisWeek:"Esta Semana",thisMonth:"Este Mes",thisYear:"Este Ao",allTime:"Histrico"}},settings:{title:"Ajustes Generales",subtitle:"Gestiona la configuracin clave de tu plataforma.",financial:{title:"Ajustes Financieros",usdToLocal:"USD a Moneda Nacional",productProfit:"Ganancia Productos (%)",comboProfit:"Ganancia Combos (%)",remittanceProfit:"Ganancia Remesas (%)",save:"Guardar Ajustes",currencies:"Gestin de Monedas",addCurrency:"Agregar Moneda",code:"Cdigo (ej: USD, EUR, CUP)",nameES:"Nombre (Espaol)",nameEN:"Nombre (Ingls)",rate:"Tasa vs USD",symbol:"Smbolo",active:"Activa",updateCurrency:"Actualizar Moneda",currencyCreated:"Moneda creada",currencyUpdated:"Moneda actualizada",currencyDeleted:"Moneda eliminada"},zelle:{title:"Cuentas Zelle",add:"Agregar Cuenta Zelle",email:"Email",name:"Nombre",assignTo:"Asignar a",products:"Venta de Productos",remittances:"Remesas",active:"Activa"},visual:{title:"Ajustes Visuales",logo:"Logo del Sitio",favicon:"Favicon",slides:"Diapositivas de Portada",addSlide:"Agregar Diapositiva",image:"Imagen (URL o Archivo)",imageType:"Tipo de Imagen",url:"URL",upload:"Subir",mainText:"Texto Principal",secondaryText:"Texto Secundario",text_es:"Texto (ES)",text_en:"Texto (EN)",linkUrl:"Enlace (URL)",order:"Orden",active:"Activa",save:"Guardar Ajustes"},notifications:{title:"Ajustes de Notificacin",whatsapp:"Nmero de WhatsApp para Notificaciones",adminEmail:"Email de Administracin para Notificaciones",save:"Guardar Ajustes"},saveSuccess:"Ajustes guardados exitosamente"},cart:{title:"Tu Carrito de Compras",empty:"Tu carrito est vaco.",browse:"Explorar productos",summary:"Resumen del Pedido",subtotal:"Subtotal",shipping:"Envo",free:"Gratis",total:"Total",checkout:"Proceder al Pago",payment:{title:"Realizar Pago",instructionsTitle:"Instrucciones de Pago",instructions:"Copia el ID de la compra y pgalo en la descripcin de la transferencia Zelle. Enva el comprobante a info@papuenvios.com o sbelo directamente aqu. El pago estar sujeto a validacin.",accountInfo:"Datos de la Cuenta Zelle",purchaseId:"ID de la Compra",copy:"Copiado",amount:"Monto a Pagar",uploadProof:"Subir Comprobante de Pago",confirm:"Confirmar Pago",recipientTitle:"Datos de Entrega/Destinatario"}},auth:{login:"Iniciar Sesin",loginTitle:"Bienvenido de Nuevo",loginSubtitle:"Inicia sesin para acceder a tu cuenta.",email:"Correo Electrnico",password:"Contrasea",loginWithGoogle:"Iniciar Sesin con Google",or:"O",loginSuccess:"Inicio de sesin exitoso!",loginError:"Credenciales invlidas. Por favor, intenta de nuevo.",logoutSuccess:"Sesin cerrada exitosamente.",loginRequired:"Inicio de Sesin Requerido",loginToCheckout:"Por favor, inicia sesin para continuar con el pago."},userPanel:{title:"Mi Panel de Usuario",welcome:"Bienvenido, {name}",myOrders:"Mis Pedidos",noOrders:"An no tienes pedidos.",status:{pending:"Pendiente",validated:"Validado",rejected:"Rechazado"}},users:{management:"Gestin de Usuarios",managementDescription:"Administra roles y permisos de usuarios de la plataforma",fetchError:"Error al cargar usuarios",roleUpdated:"Rol actualizado",roleUpdatedSuccess:"El rol del usuario se actualiz correctamente",roleUpdateError:"Error al actualizar rol",userEnabled:"Usuario habilitado",userDisabled:"Usuario deshabilitado",statusUpdateSuccess:"El estado del usuario se actualiz correctamente",statusUpdateError:"Error al actualizar estado",cannotModifySuperAdmin:"No se puede modificar al super administrador",superAdmin:"Super Admin",noUsers:"No hay usuarios",enable:"Habilitar",disable:"Deshabilitar",delete:"Eliminar",deleteUser:"Eliminar usuario",enableUser:"Activar usuario",disableUser:"Desactivar usuario",userDeleted:"Usuario eliminado",userDeletedSuccess:"El usuario ha sido eliminado exitosamente.",deleteError:"Error al eliminar",confirmDelete:"Ests seguro de que deseas eliminar a {email}? Esta accin no se puede deshacer.",protected:"Protegido",refresh:"Actualizar",loadingUsers:"Cargando usuarios...",noUsersFound:"No se encontraron usuarios",total:"Total",rolesPermissions:{title:"Roles y Permisos",userDesc:"Acceso bsico al sistema",adminDesc:"Gestin de productos, combos e inventario",superAdminDesc:"Acceso total + gestin de usuarios"},securityNote:{title:"Nota de seguridad",superAdminProtected:"Los Super Admins estn protegidos y no pueden ser editados ni eliminados",onlySuperAdminManage:"Solo Super Admins pueden gestionar roles y eliminar usuarios",deletionPermanent:"La eliminacin de usuarios es permanente y no se puede deshacer"},roles:{user:"Usuario",admin:"Administrador",super_admin:"Super Administrador"},table:{email:"Correo Electrnico",name:"Nombre",role:"Rol",status:"Estado",actions:"Acciones",active:"Activo",inactive:"Inactivo",createdAt:"Fecha de Registro"}}},en:{nav:{home:"Home",products:"Products",remittances:"Remittances",admin:"Administration",dashboard:"Control Panel",settings:"Settings",cart:"Cart",userPanel:"My Panel",userManagement:"User Management"},home:{hero:{cta:{products:"View Products"}},features:{title:"Key Features",subtitle:"Everything you need to grow your digital business",products:{title:"Product Sales",description:"Complete platform for independent vendors with automatic price calculation"},remittances:{title:"Remittances to Cuba",description:"Send money to Cuba from USA and Spain quickly and securely"},analytics:{title:"Profit Dashboard",description:"View your daily and monthly profits in real-time"},vendors:{title:"Vendor Management",description:"Complete tools for independent vendors to manage their inventory"}},testimonials:{title:"What our customers say",subtitle:"Real experiences from users satisfied with our platform."}},products:{title:"Product Catalog",subtitle:"Discover exclusive products and combos to send to Cuba with competitive prices",searchPlaceholder:"Search products...",categories:{all:"All Categories"},exchangeRate:"Current Exchange Rate",addToCart:"Add to Cart",vendor:"Vendor",noProducts:"No products found",noProductsDesc:"Try different search terms or categories",addProduct:"Add Product",addedToCart:"Product added",addedToCartDesc:"was successfully added to cart",detail:{previous:"Previous",next:"Next",backToProducts:" Back to Products",backToCombos:" Back to Combos",continueToProducts:"Continue to Products ",continueToCombos:"Continue to Combos ",price:"Price",basePrice:"Base Price",category:"Category",description:"Description",stock:"Available Stock",expiryDate:"Expiry Date",currency:"Currency",includedProducts:"Included Products",profitMargin:"Profit Margin",comboDetails:"Combo Details",productDetails:"Product Details",inStock:"In Stock",outOfStock:"Out of Stock",units:"units"}},remittances:{title:"Remittances to Cuba",subtitle:"Send money to Cuba from USA and Spain quickly and securely",calculator:"Remittance Calculator",amount:"Amount to Send (USD)",country:"Destination Country",selectCountry:"Select country...",currentRate:"Current Rate",popular:"Popular",rate:"Rate",fee:"Fee",time:"Time",youReceive:"You Receive",send:"Send",howItWorks:"How It Works?",step1:{title:"Select Country",description:"Choose destination country and amount to send"},step2:{title:"Confirm Details",description:"Verify recipient information"},step3:{title:"Receive Confirmation",description:"Money arrives within estimated time"},recipient:{title:"Recipient Details",deliveryMethod:"Delivery Method",cash:"Cash",transfer:"Transfer",currency:"Currency",fullName:"Full Name",bankName:"Bank Name",accountNumber:"Account Number",confirm:"Confirm & Send"}},vendor:{title:"Platform Management",subtitle:"Manage products, categories, combos, and more.",tabs:{inventory:"Inventory",categories:"Categories",combos:"Combos",management:"Management"},actions:{addProduct:"Add Product",createCombo:"Create Combo"},addProduct:{title:"Add New Product",editTitle:"Edit Product",cancel:"Cancel",name:"Product Name",namePlaceholder:"Ex: iPhone 15 Pro Max",description:"Description",descriptionPlaceholder:"Describe main features...",category:"Category",basePrice:"Base Price",currency:"Currency",image:"Product Image",upload:"Upload file",finalPrice:"Final Price",save:"Save Product"},inventory:{product:"Product",stock:"Stock",price:"Final Price",expiryDate:"Expiry Date"},categories:{manage:"Manage Categories",new:"New category",name_es:"Name (ES)",name_en:"Name (EN)",id:"ID"},combos:{title:"Combo Management",new:"Create New Combo",edit:"Edit Combo",name:"Combo Name",profitMargin:"Profit Margin (%)",shipping:"Shipping",free:"Free",discount:"Discount (%)",paid:"Paid",shippingCost:"Shipping Cost",products:"Products in Combo",addProduct:"Add Product",basePrice:"Total Base Price",finalPrice:"Final Price",coverImage:"Cover Image",save:"Save Combo"},management:{title:"General Management",payments:"Payment Management",testimonials:"Testimonial Management",users:"User Management",show:"Show",hide:"Hide",activate:"Activate",deactivate:"Deactivate",delete:"Delete"},validation:{error:"Validation Error",fillFields:"Please fill all required fields"},productAdded:"Product added successfully",productUpdated:"Product updated successfully",categoryAdded:"Category added",categoryRemoved:"Category removed",comboAdded:"Combo created successfully",comboUpdated:"Combo updated successfully"},dashboard:{title:"Control Panel",subtitle:"Complete visualization of profits and business metrics",privateAccess:"Private Access",adminOnly:"This section is for administrators only.",refresh:"Refresh",stats:{dailyRevenue:"Daily Revenue",monthlyRevenue:"Monthly Revenue",dailyProfit:"Daily Profit",monthlyProfit:"Monthly Profit",totalProducts:"Total Products",totalCombos:"Total Combos",pendingOrders:"Pending Orders",completedOrders:"Completed Orders",totalUsers:"Total Users",activeProducts:"Active Products",siteVisits:"Site Visits"},profitBreakdown:"Profit Breakdown",dailyBreakdown:"Daily Breakdown",monthlyBreakdown:"Monthly Breakdown",grossRevenue:"Gross Revenue",costs:"Costs",netProfit:"Net Profit",profitMargin:"Profit Margin",orderSummary:"Order Summary",pending:"Pending",completed:"Completed",analyticsTitle:"Analytics & Statistics",selectCurrency:"Select Currency",expirationWarning:{title:"Expiration Alert",description:"There are {count} product(s) nearing expiration in the next 30 days."},visits:{title:"Site Visits",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",total:"Total",thisWeek:"This Week",thisMonth:"This Month",thisYear:"This Year",allTime:"All Time"}},settings:{title:"General Settings",subtitle:"Manage the key settings of your platform.",financial:{title:"Financial Settings",usdToLocal:"USD to Local Currency",productProfit:"Product Profit (%)",comboProfit:"Combo Profit (%)",remittanceProfit:"Remittance Profit (%)",save:"Save Settings",currencies:"Currency Management",addCurrency:"Add Currency",code:"Code (e.g: USD, EUR, CUP)",nameES:"Name (Spanish)",nameEN:"Name (English)",rate:"Rate vs USD",symbol:"Symbol",active:"Active",updateCurrency:"Update Currency",currencyCreated:"Currency created",currencyUpdated:"Currency updated",currencyDeleted:"Currency deleted"},zelle:{title:"Zelle Accounts",add:"Add Zelle Account",email:"Email",name:"Name",assignTo:"Assign to",products:"Product Sales",remittances:"Remittances",active:"Active"},visual:{title:"Visual Settings",logo:"Site Logo",favicon:"Favicon",slides:"Homepage Slides",addSlide:"Add Slide",image:"Image (URL or File)",imageType:"Image Type",url:"URL",upload:"Upload",mainText:"Main Text",secondaryText:"Secondary Text",text_es:"Text (ES)",text_en:"Text (EN)",active:"Active",save:"Save Settings"},notifications:{title:"Notification Settings",whatsapp:"WhatsApp Number for Notifications",adminEmail:"Admin Email for Notifications",save:"Save Settings"},saveSuccess:"Settings saved successfully"},cart:{title:"Your Shopping Cart",empty:"Your cart is empty.",browse:"Browse products",summary:"Order Summary",subtotal:"Subtotal",shipping:"Shipping",free:"Free",total:"Total",checkout:"Proceed to Checkout",payment:{title:"Make Payment",instructionsTitle:"Payment Instructions",instructions:"Copy the purchase ID and paste it into the Zelle transfer description. Send the receipt to info@papuenvios.com or upload it directly here. The payment will be subject to validation.",accountInfo:"Zelle Account Details",purchaseId:"Purchase ID",copy:"Copied",amount:"Amount to Pay",uploadProof:"Upload Payment Proof",confirm:"Confirm Payment",recipientTitle:"Delivery/Recipient Details"}},auth:{login:"Login",loginTitle:"Welcome Back",loginSubtitle:"Log in to access your account.",email:"Email",password:"Password",loginWithGoogle:"Login with Google",or:"Or",loginSuccess:"Login successful!",loginError:"Invalid credentials. Please try again.",logoutSuccess:"Logged out successfully.",loginRequired:"Login Required",loginToCheckout:"Please log in to continue to checkout."},userPanel:{title:"My User Panel",welcome:"Welcome, {name}",myOrders:"My Orders",noOrders:"You have no orders yet.",status:{pending:"Pending",validated:"Validated",rejected:"Rejected"}},users:{management:"User Management",managementDescription:"Manage platform user roles and permissions",fetchError:"Error loading users",roleUpdated:"Role updated",roleUpdatedSuccess:"User role was updated successfully",roleUpdateError:"Error updating role",userEnabled:"User enabled",userDisabled:"User disabled",statusUpdateSuccess:"User status was updated successfully",statusUpdateError:"Error updating status",cannotModifySuperAdmin:"Cannot modify super administrator",superAdmin:"Super Admin",noUsers:"No users",enable:"Enable",disable:"Disable",delete:"Delete",deleteUser:"Delete user",enableUser:"Enable user",disableUser:"Disable user",userDeleted:"User deleted",userDeletedSuccess:"User has been deleted successfully.",deleteError:"Error deleting",confirmDelete:"Are you sure you want to delete {email}? This action cannot be undone.",protected:"Protected",refresh:"Refresh",loadingUsers:"Loading users...",noUsersFound:"No users found",total:"Total",rolesPermissions:{title:"Roles & Permissions",userDesc:"Basic system access",adminDesc:"Product, combo and inventory management",superAdminDesc:"Full access + user management"},securityNote:{title:"Security Note",superAdminProtected:"Super Admins are protected and cannot be edited or deleted",onlySuperAdminManage:"Only Super Admins can manage roles and delete users",deletionPermanent:"User deletion is permanent and cannot be undone"},roles:{user:"User",admin:"Administrator",super_admin:"Super Administrator"},table:{email:"Email",name:"Name",role:"Role",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive",createdAt:"Registration Date"}}}},zR=({children:t})=>{const[e,r]=b.useState("es"),s=(o,l={})=>{const u=o.split(".");let d=VR[e];for(const h of u)d=d?.[h];return typeof d=="string"?Object.entries(l).reduce((h,[m,p])=>h.replace(`{${m}}`,p),d):d||o};return a.jsx(tb.Provider,{value:{language:e,setLanguage:r,t:s},children:t})},Yt=()=>{const t=b.useContext(tb);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},rb=()=>{const[t,e]=b.useState(null);b.useEffect(()=>{try{const d=localStorage.getItem("visualSettings");d&&e(JSON.parse(d))}catch(d){console.error("Error loading visual settings:",d)}},[]);const r=t?.primaryColor||"#2563eb",s=t?.secondaryColor||"#9333ea",o=t?.useGradient!==void 0?t.useGradient:!0,l=t?.pageBgColor||"#f9fafb",u=o?{background:`linear-gradient(to right, ${r}, ${s})`}:{backgroundColor:l};return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:u,children:a.jsx(me.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,ease:[0,.71,.2,1.01],scale:{type:"spring",damping:5,stiffness:100,restDelta:.001}},className:"p-8 rounded-2xl shadow-xl",style:{backgroundColor:t?.cardBgColor||"#ffffff"},children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin",style:{borderColor:`${r} transparent transparent transparent`}}),a.jsx("p",{className:"font-medium",style:{color:t?.textPrimaryColor||"#4b5563"},children:"Authenticating..."})]})})})},nb=b.createContext(),WR=5e3,qR=1e4,HR=({children:t})=>{const[e,r]=b.useState(null),[s,o]=b.useState(null),[l,u]=b.useState(!0),[d,h]=b.useState(!0),m=b.useRef(!0),p=async _=>{try{const{data:A,error:F}=await Promise.race([ae.from("user_profiles").select("role, is_enabled, avatar_url, full_name, email").eq("id",_).single(),new Promise((M,I)=>setTimeout(()=>I(new Error("Profile fetch timeout")),WR))]);return F?(console.warn("[Auth] Profile fetch error:",F),null):A}catch(A){return console.warn("[Auth] Profile fetch failed:",A.message),null}},y=async _=>{if(!_?.user){r(null),o(null),u(!0);return}const A=_.user.id;console.log("[Auth] Updating user state for:",_.user.email);const F=await p(A);if(!F){console.warn("[Auth] Profile not found, using session data as fallback"),r(_.user),o("user"),u(!0);return}if(F.is_enabled===!1){console.warn("[Auth] Account is disabled"),r(null),o(null),u(!1);try{await ae.auth.signOut(),se({title:"Cuenta deshabilitada",description:"Tu cuenta ha sido deshabilitada. Contacta al soporte.",variant:"destructive"})}catch(M){console.error("[Auth] Error signing out disabled user:",M)}return}r({..._.user,profile:F}),o(F.role||"user"),u(!0),console.log("[Auth] User state updated successfully. Role:",F.role),x(A,_.user,F)},x=async(_,A,F)=>{try{const M=A.user_metadata?.avatar_url||A.user_metadata?.picture,I=A.user_metadata?.full_name||A.user_metadata?.name,W={};if(M&&M!==F.avatar_url&&(W.avatar_url=M),I&&I!==F.full_name&&(W.full_name=I),Object.keys(W).length>0){const{error:Z}=await ae.from("user_profiles").update(W).eq("id",_);Z&&console.warn("[Auth] Metadata sync error (non-critical):",Z)}}catch(M){console.warn("[Auth] Metadata sync failed (non-critical):",M)}};b.useEffect(()=>{m.current=!0;const _=setTimeout(()=>{m.current&&d&&(console.warn("[Auth] Init timeout - clearing loading state"),h(!1))},qR),A=async()=>{console.log("[Auth] Initializing..."),h(!0);try{const{data:{session:M},error:I}=await ae.auth.getSession();if(I){console.error("[Auth] getSession error:",I),h(!1);return}M&&await y(M)}catch(M){console.error("[Auth] Init error:",M)}finally{clearTimeout(_),m.current&&h(!1)}},{data:F}=ae.auth.onAuthStateChange(async(M,I)=>{if(console.log("[Auth] State change:",M),!!m.current){if(M==="SIGNED_OUT"){r(null),o(null),u(!0);return}I&&await y(I)}});return A(),()=>{m.current=!1,clearTimeout(_),F?.subscription&&F.subscription.unsubscribe()}},[]);const w=async()=>{try{await ae.auth.signOut();const{data:_,error:A}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(A)throw A;_?.url&&window.location.replace(_.url)}catch(_){console.error("[Auth] signInWithGoogle error",_),se({title:"Error",description:_.message||String(_),variant:"destructive"})}},j=async()=>{try{const{error:_}=await ae.auth.signOut();if(_)throw _;r(null),o(null),u(!0)}catch(_){console.error("[Auth] logout error",_),se({title:"Error al cerrar sesin",description:_.message||String(_),variant:"destructive"})}},C=_=>_?s?s==="super_admin"||s==="admin"&&_!=="super_admin"?!0:s===_:!1:!0,O=["jtheoden@gmail.com","jtheoden@googlemail.com"].includes(e?.email),k={user:e,loading:d,isAuthenticated:!!e&&l,userRole:s,isEnabled:l,isSuperAdmin:s==="super_admin"||O,isAdmin:s==="admin"||s==="super_admin"||O,checkRole:C,signInWithGoogle:w,logout:j,supabaseClient:ae};return a.jsx(nb.Provider,{value:k,children:d?a.jsx(rb,{}):t})},gr=()=>{const t=b.useContext(nb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},GR=({currentPage:t,onNavigate:e})=>{const[r,s]=b.useState(!1),[o,l]=b.useState(!1),{language:u,setLanguage:d,t:h}=Yt(),{cart:m,visualSettings:p}=Vt(),{user:y,isAdmin:x,logout:w}=gr(),j=[{id:"home",icon:Er,label:h("nav.home")},{id:"products",icon:Er,label:h("nav.products")},{id:"remittances",icon:Cs,label:h("nav.remittances")}],C=[{id:"dashboard",icon:ff,label:h("nav.dashboard")},{id:"admin",icon:OE,label:h("nav.admin")},{id:"user-management",icon:dc,label:h("nav.userManagement")},{id:"settings",icon:qE,label:h("nav.settings")}],N=()=>{w(),se({title:h("auth.logoutSuccess")}),e("home")},O=()=>{e("login")},k=_=>{e(_),l(!1),s(!1)};return a.jsx(me.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-40 backdrop-blur-md shadow-sm",style:{backgroundColor:p.headerBgColor||"rgba(255, 255, 255, 0.8)",color:p.headerTextColor||"#1f2937"},children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(me.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 cursor-pointer",onClick:()=>k("home"),children:[p.logo?a.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:a.jsx("img",{src:p.logo,alt:p.companyName||"Logo",className:"max-w-full max-h-full object-contain"})}):a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:p.primaryColor||"#2563eb"},children:a.jsx(Er,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold",style:{backgroundImage:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.primaryColor||"#2563eb"})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:p.companyName||"PapuEnvos"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[j.map(_=>a.jsxs(ve,{variant:t===_.id?"default":"ghost",size:"sm",onClick:()=>k(_.id),className:"flex items-center space-x-2",style:t===_.id?{background:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:p.buttonBgColor||"#2563eb",color:p.buttonTextColor||"#ffffff",border:"none"}:{color:p.headerTextColor||"#1f2937"},children:[a.jsx(_.icon,{className:"w-4 h-4"}),a.jsx("span",{children:_.label})]},_.id)),x&&a.jsxs("div",{className:"relative",children:[a.jsxs(ve,{variant:C.some(_=>t===_.id)?"default":"ghost",size:"sm",onClick:()=>l(!o),className:"flex items-center space-x-2",style:C.some(_=>t===_.id)?{background:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:p.buttonBgColor||"#2563eb",color:p.buttonTextColor||"#ffffff",border:"none"}:{color:p.headerTextColor||"#1f2937"},children:[a.jsx(HE,{className:"w-4 h-4"}),a.jsx("span",{children:"Admin"}),a.jsx(EE,{className:`w-3 h-3 transition-transform ${o?"rotate-180":""}`})]}),a.jsx(Pi,{children:o&&a.jsx(me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 rounded-xl shadow-xl overflow-hidden backdrop-blur-md",style:{backgroundColor:p.headerBgColor||"rgba(255, 255, 255, 0.95)",color:p.headerTextColor||"#1f2937"},children:C.map(_=>{const F=p.headerBgColor==="#ffffff"||!p.headerBgColor?`${p.primaryColor}15`:`${p.headerBgColor}40`,M=t===_.id?{backgroundColor:F,color:p.primaryColor||"#2563eb"}:{};return a.jsxs(ve,{variant:"ghost",size:"sm",onClick:()=>k(_.id),className:"w-full justify-start flex items-center space-x-2 rounded-none hover:opacity-100",style:{...M,color:p.headerTextColor||"#1f2937"},onMouseEnter:I=>{t!==_.id&&(I.currentTarget.style.backgroundColor=F)},onMouseLeave:I=>{t!==_.id&&(I.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(_.icon,{className:"w-4 h-4"}),a.jsx("span",{children:_.label})]},_.id)})})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>d(u==="es"?"en":"es"),className:"hidden sm:flex items-center space-x-2",style:{borderColor:p.primaryColor||"#2563eb",color:p.primaryColor||"#2563eb"},children:[a.jsx(V0,{className:"w-4 h-4"}),a.jsx("span",{children:u.toUpperCase()})]}),a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>e("cart"),children:a.jsxs("div",{className:"relative",children:[a.jsx(zo,{className:"w-5 h-5"}),m.length>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:m.reduce((_,A)=>_+A.quantity,0)})]})}),y?a.jsxs(a.Fragment,{children:[a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>e("user-panel"),className:"relative",children:a.jsx(UR,{user:y})}),a.jsx(ve,{variant:"ghost",size:"icon",onClick:N,children:a.jsx(DE,{className:"w-5 h-5"})})]}):a.jsx(ve,{variant:"ghost",size:"icon",onClick:O,children:a.jsx(z0,{className:"w-5 h-5"})}),a.jsx(ve,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>s(!r),children:r?a.jsx(Un,{className:"w-5 h-5"}):a.jsx(FE,{className:"w-5 h-5"})})]})]}),a.jsx(Pi,{children:r&&a.jsx(me.nav,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-white/20 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[j.map(_=>a.jsxs(ve,{variant:t===_.id?"default":"ghost",size:"sm",onClick:()=>k(_.id),className:"flex items-center space-x-2 justify-start",style:t===_.id?{background:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:p.buttonBgColor||"#2563eb",color:p.buttonTextColor||"#ffffff",border:"none"}:{color:p.headerTextColor||"#1f2937"},children:[a.jsx(_.icon,{className:"w-4 h-4"}),a.jsx("span",{children:_.label})]},_.id)),x&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pt-2 pb-1 px-2 text-xs font-semibold uppercase opacity-70",style:{color:p.headerTextColor||"#6b7280"},children:"Administracin"}),C.map(_=>a.jsxs(ve,{variant:t===_.id?"default":"ghost",size:"sm",onClick:()=>k(_.id),className:"flex items-center space-x-2 justify-start",style:t===_.id?{background:p.useGradient?`linear-gradient(to right, ${p.primaryColor||"#2563eb"}, ${p.secondaryColor||"#9333ea"})`:p.buttonBgColor||"#2563eb",color:p.buttonTextColor||"#ffffff",border:"none"}:{color:p.headerTextColor||"#1f2937"},children:[a.jsx(_.icon,{className:"w-4 h-4"}),a.jsx("span",{children:_.label})]},_.id))]})]})})})]})})},KR=t=>t?{backgroundColor:t.appBgColor||"#f8f9fa"}:{},_v=t=>t?{backgroundColor:t.cardBgColor||"#ffffff",borderColor:t.borderColor||"#e5e7eb"}:{},ct=t=>t?{background:t.useGradient?`linear-gradient(to right, ${t.primaryColor||"#2563eb"}, ${t.secondaryColor||"#9333ea"})`:t.buttonBgColor||t.primaryColor||"#2563eb",color:t.buttonTextColor||"#ffffff",border:"none"}:{},Ye=t=>t?t.useHeadingGradient||t.useGradient?{backgroundImage:`linear-gradient(to right, ${t.primaryColor||"#2563eb"}, ${t.secondaryColor||"#9333ea"})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.headingColor||t.primaryColor||"#1f2937"}:{},gt=(t,e="primary")=>{if(!t)return{};const r={primary:{color:t.textPrimaryColor||"#1f2937"},secondary:{color:t.textSecondaryColor||"#6b7280"},muted:{color:t.textMutedColor||"#9ca3af"}};return r[e]||r.primary},Af=(t,e="default")=>{if(!t)return{};const r={default:{backgroundColor:t.pillBgColor||"#e5e7eb",color:t.pillTextColor||"#374151"},success:{backgroundColor:`${t.successColor||"#10b981"}20`,color:t.successColor||"#10b981",borderColor:t.successColor||"#10b981"},warning:{backgroundColor:`${t.warningColor||"#f59e0b"}20`,color:t.warningColor||"#f59e0b",borderColor:t.warningColor||"#f59e0b"},error:{backgroundColor:`${t.errorColor||"#ef4444"}20`,color:t.errorColor||"#ef4444",borderColor:t.errorColor||"#ef4444"},info:{backgroundColor:`${t.primaryColor||"#2563eb"}20`,color:t.primaryColor||"#2563eb",borderColor:t.primaryColor||"#2563eb"}};return r[e]||r.default},Bd=(t,e)=>{if(!e)return{};const s={validated:"success",pending:"warning",rejected:"error",cancelled:"default",processing:"info",completed:"success"}[t]||"default";return Af(e,s)},Eo=t=>t?{backgroundColor:t.inputBgColor||"#ffffff",borderColor:t.inputBorderColor||"#d1d5db",color:t.textPrimaryColor||"#1f2937"}:{},QR=(t,e="info")=>{if(!t)return{};const r={success:{backgroundColor:`${t.successColor||"#10b981"}10`,borderColor:t.successColor||"#10b981",color:t.successColor||"#10b981"},warning:{backgroundColor:`${t.warningColor||"#f59e0b"}10`,borderColor:t.warningColor||"#f59e0b",color:t.warningColor||"#f59e0b"},error:{backgroundColor:`${t.errorColor||"#ef4444"}10`,borderColor:t.errorColor||"#ef4444",color:t.errorColor||"#ef4444"},info:{backgroundColor:`${t.primaryColor||"#2563eb"}10`,borderColor:t.primaryColor||"#2563eb",color:t.primaryColor||"#2563eb"}};return r[e]||r.info},jv=({onNavigate:t})=>{const{t:e,language:r}=Yt(),{visualSettings:s,testimonials:o}=Vt(),{isAdmin:l}=gr(),[u,d]=b.useState([]),h=[{icon:Er,title:e("home.features.products.title"),description:e("home.features.products.description"),action:()=>t("products")},{icon:Cs,title:e("home.features.remittances.title"),description:e("home.features.remittances.description"),action:()=>t("remittances")},{icon:Ml,title:e("home.features.analytics.title"),description:e("home.features.analytics.description"),action:()=>t("dashboard"),admin:!0},{icon:dc,title:e("home.features.vendors.title"),description:e("home.features.vendors.description"),action:()=>t("admin"),admin:!0}].filter(w=>!w.admin||l),[m,p]=b.useState(0);b.useEffect(()=>{(async()=>{try{const{data:j,error:C}=await RT();if(C)throw C;d(j||[])}catch(j){console.error("Error loading carousel slides:",j),d([])}})()},[]);const y=()=>{p(w=>w===u.length-1?0:w+1)},x=()=>{p(w=>w===0?u.length-1:w-1)};return b.useEffect(()=>{if(u.length>1){const w=setInterval(y,5e3);return()=>clearInterval(w)}},[u.length]),a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"relative h-[60vh] md:h-[80vh] w-full overflow-hidden",children:u.length>0?a.jsxs(a.Fragment,{children:[a.jsx(Pi,{initial:!1,children:a.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},style:{backgroundImage:`url(${u[m]?.image_url||u[m]?.image_file})`},className:"absolute inset-0 bg-cover bg-center",children:a.jsx("div",{className:"absolute inset-0 bg-black/50"})},m)}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center text-white p-4",children:[a.jsx(me.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl md:text-6xl font-bold mb-4",children:r==="es"?u[m]?.title_es:u[m]?.title_en},`main-${m}`),a.jsx(me.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-lg md:text-xl max-w-2xl mx-auto mb-8",children:r==="es"?u[m]?.subtitle_es:u[m]?.subtitle_en},`secondary-${m}`),a.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsxs(ve,{size:"lg",onClick:()=>t("products"),className:"px-8 py-3 text-lg",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.buttonBgColor||"#2563eb",color:s.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(Er,{className:"w-5 h-5 mr-2"}),e("home.hero.cta.products")]})})]}),u.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 p-2 bg-white/20 rounded-full hover:bg-white/40 transition-colors",children:a.jsx(lh,{className:"h-6 w-6 text-white"})}),a.jsx("button",{onClick:y,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 p-2 bg-white/20 rounded-full hover:bg-white/40 transition-colors",children:a.jsx(ch,{className:"h-6 w-6 text-white"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:u.map((w,j)=>a.jsx("div",{onClick:()=>p(j),className:`w-3 h-3 rounded-full cursor-pointer transition-colors ${m===j?"bg-white":"bg-white/50"}`},j))})]})]}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.primaryColor||"#2563eb"},children:a.jsxs("div",{className:"text-center text-white p-4",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:e("home.hero.title")}),a.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto mb-8",children:e("home.hero.subtitle")}),a.jsxs(ve,{size:"lg",onClick:()=>t("products"),className:"px-8 py-3 text-lg",style:{backgroundColor:s.cardBgColor||"#ffffff",color:s.primaryColor||"#2563eb",border:"none"},children:[a.jsx(Er,{className:"w-5 h-5 mr-2"}),e("home.hero.cta.products")]})]})})}),a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",style:Ye(s),children:e("home.features.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("home.features.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:h.map((w,j)=>a.jsxs(me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"glass-effect p-6 rounded-2xl hover-lift cursor-pointer group",onClick:w.action,children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",style:{background:s.useGradient?`linear-gradient(to right, ${s.primaryColor||"#2563eb"}, ${s.secondaryColor||"#9333ea"})`:s.primaryColor||"#2563eb"},children:a.jsx(w.icon,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:w.title}),a.jsx("p",{className:"text-gray-600",children:w.description})]},j))})]})}),a.jsx("section",{className:"py-20 px-4 bg-slate-100/50",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",style:Ye(s),children:e("home.testimonials.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("home.testimonials.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.filter(w=>w.show).map(w=>a.jsxs(me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"glass-effect p-6 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{className:"w-12 h-12 rounded-full mr-4 object-cover",alt:w.author,src:"https://images.unsplash.com/photo-1578390432942-d323db577792"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:w.author}),a.jsxs("div",{className:"flex",children:[[...Array(w.rating)].map((j,C)=>a.jsx(Iy,{className:"w-4 h-4 text-yellow-400 fill-current"},C)),[...Array(5-w.rating)].map((j,C)=>a.jsx(Iy,{className:"w-4 h-4 text-gray-300"},C))]})]})]}),a.jsxs("p",{className:"text-gray-600 italic",children:['"',w.text,'"']})]},w.id))})]})})]})},Rf="product-images",XR=async(t,e)=>{try{const r=t.name.split(".").pop(),s=`${e}.${r}`,{error:o}=await ae.storage.from(Rf).upload(s,t,{cacheControl:"3600",upsert:!0});if(o)throw o;const{data:{publicUrl:l}}=ae.storage.from(Rf).getPublicUrl(s);return{publicUrl:l}}catch(r){throw console.error("Error uploading image:",r),r}},YR=async t=>{try{const{error:e}=await ae.storage.from(Rf).remove([t]);if(e)throw e}catch(e){throw console.error("Error deleting image:",e),e}},sb={product:{maxSizeMB:2,maxWidth:800,maxHeight:800,aspectRatio:1,quality:.85,formats:["image/jpeg","image/png","image/webp"]},combo:{maxSizeMB:2,maxWidth:800,maxHeight:800,aspectRatio:1,quality:.85,formats:["image/jpeg","image/png","image/webp"]},carousel:{maxSizeMB:3,maxWidth:1920,maxHeight:1080,aspectRatio:16/9,quality:.9,formats:["image/jpeg","image/png","image/webp"]},carouselMobile:{maxSizeMB:1.5,maxWidth:800,maxHeight:1200,aspectRatio:2/3,quality:.85,formats:["image/jpeg","image/png","image/webp"]},logo:{maxSizeMB:2,maxWidth:400,maxHeight:400,aspectRatio:1,quality:.95,formats:["image/png","image/svg+xml","image/webp"]},payment_proof:{maxSizeMB:5,maxWidth:2e3,maxHeight:2e3,aspectRatio:null,quality:.85,formats:["image/jpeg","image/png","image/webp"]}},ib=(t,e="product")=>{const r=sb[e],s=[];if(!t)return s.push("No se seleccion ningn archivo"),{valid:!1,errors:s};r.formats.includes(t.type)||s.push(`Formato no vlido. Use: ${r.formats.map(l=>l.split("/")[1]).join(", ")}`);const o=t.size/(1024*1024);return o>r.maxSizeMB&&s.push(`Tamao muy grande (${o.toFixed(2)}MB). Mximo: ${r.maxSizeMB}MB`),{valid:s.length===0,errors:s,sizeMB:o.toFixed(2)}},JR=t=>new Promise((e,r)=>{const s=new FileReader;s.onload=o=>{const l=new Image;l.onload=()=>e(l),l.onerror=r,l.src=o.target.result},s.onerror=r,s.readAsDataURL(t)}),ob=async(t,e="product")=>{const r=sb[e],s=ib(t,e);if(!s.valid)throw new Error(s.errors.join(`
`));try{if(t.type==="image/svg+xml"){const M=await new Promise((W,Z)=>{const B=new FileReader;B.onloadend=()=>W(B.result),B.onerror=Z,B.readAsDataURL(t)}),I=t.size/(1024*1024);return{success:!0,base64:M,blob:t,metadata:{originalSize:I.toFixed(2)+"MB",finalSize:I.toFixed(2)+"MB",compression:"0%",originalDimensions:"Vector",finalDimensions:"Vector",format:"SVG",quality:"100%"}}}const o=await JR(t);let{width:l,height:u}=o;const d=l/u,h=r.aspectRatio;let m=l,p=u,y=0,x=0;h&&Math.abs(d-h)>.01&&(d>h?(m=u*h,y=(l-m)/2):(p=l/h,x=(u-p)/2));let w=m,j=p;if(w>r.maxWidth){const M=r.maxWidth/w;w=r.maxWidth,j=j*M}if(j>r.maxHeight){const M=r.maxHeight/j;j=r.maxHeight,w=w*M}const C=document.createElement("canvas");C.width=w,C.height=j;const N=C.getContext("2d");N.imageSmoothingEnabled=!0,N.imageSmoothingQuality="high",N.drawImage(o,y,x,m,p,0,0,w,j);const O=await new Promise(M=>{C.toBlob(M,"image/jpeg",r.quality)}),k=await new Promise(M=>{const I=new FileReader;I.onloadend=()=>M(I.result),I.readAsDataURL(O)}),_=t.size/(1024*1024),A=O.size/(1024*1024),F=((1-A/_)*100).toFixed(1);return{success:!0,base64:k,blob:O,metadata:{originalSize:_.toFixed(2)+"MB",finalSize:A.toFixed(2)+"MB",compression:F+"%",originalDimensions:`${o.width}x${o.height}`,finalDimensions:`${w}x${j}`,format:"JPEG",quality:r.quality*100+"%"}}}catch(o){throw console.error("Error processing image:",o),new Error("Error al procesar la imagen: "+o.message)}},Ko=async(t,e="product",r=null)=>{try{r&&r({stage:"validating",progress:10});const s=ib(t,e);if(!s.valid)return{success:!1,errors:s.errors};r&&r({stage:"processing",progress:50});const o=await ob(t,e);return r&&r({stage:"complete",progress:100}),o}catch(s){return{success:!1,errors:[s.message]}}},ZR=({onNavigate:t})=>{const{t:e,language:r}=Yt(),{user:s,isAdmin:o}=gr(),{products:l,combos:u,categories:d,addToCart:h,financialSettings:m,refreshProducts:p,visualSettings:y}=Vt(),[x,w]=b.useState(""),[j,C]=b.useState("all"),[N,O]=b.useState([]),[k,_]=b.useState([]),[A,F]=b.useState(!1),[M,I]=b.useState(0),[W,Z]=b.useState(null),[B,ge]=b.useState(null),[ie,X]=b.useState([]),[z,ue]=b.useState(null),[he,le]=b.useState({}),H=b.useRef(null),[ee,te]=b.useState(!1),[E,D]=b.useState(!1),K=b.useCallback(async(Y,$e)=>{const Ce=Y.target.files[0];if(Ce)try{F(!0),I(0);const T=await Ko(Ce,"product",Ae=>I(Ae.progress));if(!T.success){se({title:"Error de validacin",description:T.errors.join(`
`),variant:"destructive"});return}ge(T.base64);const de=`product-${$e}-${Date.now()}.jpg`,{publicUrl:J}=await XR(T.blob,de),{error:Te}=await ae.from("products").update({image_url:J}).eq("id",$e);if(Te)throw Te;await p(),se({title:e("products.imageUploaded"),description:`${e("products.imageUploadedSuccess")} (${T.metadata.compression} compresin)`})}catch(T){console.error("Error uploading image:",T),se({title:e("products.imageUploadError"),description:T.message,variant:"destructive"})}finally{F(!1),I(0),ge(null)}},[e,p]),ce=b.useCallback(async(Y,$e)=>{if($e)try{const Ce=$e.split("/").pop();await YR(Ce);const{error:T}=await ae.from("products").update({image_url:null}).eq("id",Y);if(T)throw T;await p(),se({title:e("products.imageDeleted"),description:e("products.imageDeletedSuccess")})}catch(Ce){console.error("Error deleting image:",Ce),se({title:e("products.imageDeleteError"),description:Ce.message,variant:"destructive"})}},[e,p]);b.useEffect(()=>{(async()=>{try{const{data:$e,error:Ce}=await ae.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(Ce)throw Ce;X($e||[]);const T=$e?.find(Ae=>Ae.is_base);T&&ue(T.id);const{data:de,error:J}=await ae.from("exchange_rates").select("*").eq("is_active",!0);if(J)throw J;const Te={};(de||[]).forEach(Ae=>{Te[`${Ae.from_currency_id}-${Ae.to_currency_id}`]=Ae.rate}),le(Te)}catch($e){console.error("Error loading currencies:",$e)}})()},[]),b.useEffect(()=>{let Y=l;o||(Y=Y.filter(Ce=>(Ce.stock!==void 0?Ce.stock:0)>0)),x&&(Y=Y.filter(Ce=>(Ce.name_es||Ce.name||"").toLowerCase().includes(x.toLowerCase())||(Ce.name_en||"").toLowerCase().includes(x.toLowerCase()))),j!=="all"&&(Y=Y.filter(Ce=>Ce.category?.id===j||Ce.category_id===j)),O(Y);let $e=u||[];o||($e=$e.filter(Ce=>Ce.is_active!==!1)),x&&($e=$e.filter(Ce=>Ce.name.toLowerCase().includes(x.toLowerCase()))),_($e)},[l,u,x,j,o]);const xe=Y=>{h(Y),se({title:e("products.addedToCart"),description:`${Y.name_es||Y.name} ${e("products.addedToCartDesc")}`})},pe=Y=>{if(H.current){const Ce=Y==="left"?H.current.scrollLeft-400:H.current.scrollLeft+400;H.current.scrollTo({left:Ce,behavior:"smooth"})}},be=()=>{if(H.current){const{scrollLeft:Y,scrollWidth:$e,clientWidth:Ce}=H.current;te(Y>0),D(Y<$e-Ce-10)}};b.useEffect(()=>{be();const Y=H.current;if(Y)return Y.addEventListener("scroll",be),()=>Y.removeEventListener("scroll",be)},[k]);const ye=(Y,$e,Ce)=>{if(!Y||!$e||!Ce||$e===Ce)return Y;const T=`${$e}-${Ce}`,de=he[T];return de?parseFloat(Y)*de:Y},Oe=Y=>{if(!Y||!z)return"0.00";const $e=parseFloat(Y.final_price||Y.base_price||0),Ce=Y.base_currency_id;return Ce?ye($e,Ce,z).toFixed(2):$e.toFixed(2)},qe=Y=>{if(!Y||!z)return"0.00";let $e=0;(Y.products||[]).forEach(de=>{const J=l.find(Te=>Te.id===de);if(J){const Te=parseFloat(J.base_price||0),Ae=J.base_currency_id,Q=Y.productQuantities?.[de]||1;let ke=Te;Ae&&Ae!==z&&(ke=ye(Te,Ae,z)),$e+=ke*Q}});const Ce=parseFloat(Y.profitMargin||m.comboProfit)/100;return($e*(1+Ce)).toFixed(2)};return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(y),children:e("products.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("products.subtitle")})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-6 rounded-2xl mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(W0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:e("products.searchPlaceholder"),value:x,onChange:Y=>w(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(AE,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:j,onChange:Y=>C(Y.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:e("products.categories.all")}),d.map(Y=>a.jsx("option",{value:Y.id,children:r==="es"?Y.name_es:Y.name_en},Y.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:r==="es"?"Moneda:":"Currency:"}),a.jsx("select",{value:z||"",onChange:Y=>ue(Y.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:ie.map(Y=>a.jsxs("option",{value:Y.id,children:[Y.code," (",Y.symbol,")"]},Y.id))})]})]})}),k.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",style:Ye(y),children:" Combos Especiales"}),k.length>3&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ve,{variant:"outline",size:"sm",onClick:()=>pe("left"),disabled:!ee,className:"rounded-full w-10 h-10 p-0",children:a.jsx(lh,{className:"w-5 h-5"})}),a.jsx(ve,{variant:"outline",size:"sm",onClick:()=>pe("right"),disabled:!E,className:"rounded-full w-10 h-10 p-0",children:a.jsx(ch,{className:"w-5 h-5"})})]})]})}),a.jsx("style",{children:`
              .combos-carousel::-webkit-scrollbar {
                display: none;
              }
            `}),a.jsx("div",{ref:H,className:"combos-carousel flex gap-6 mb-12 overflow-x-auto pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:k.map((Y,$e)=>{const T=(()=>{let J=0;(Y.products||[]).forEach(ke=>{const Re=l.find(Ve=>Ve.id===ke);if(Re){const Ve=parseFloat(Re.base_price||0),it=ye(Ve,Re.base_currency_id,z),vt=Y.productQuantities?.[ke]||1,ht=parseFloat(m.productProfit||40)/100,De=it*(1+ht);J+=De*vt}});const Te=parseFloat(qe(Y)),Ae=J-Te,Q=J>0?(Ae/J*100).toFixed(0):0;return{savings:Ae.toFixed(2),percent:Q}})(),de=ie.find(J=>J.id===z)?.symbol||"$";return a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:$e*.1},className:"glass-effect rounded-2xl overflow-hidden hover-lift group border-2 border-purple-200 cursor-pointer flex-shrink-0",style:{width:"300px"},onClick:()=>t("product-detail",{itemId:Y.id,itemType:"combo"}),children:[a.jsxs("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-pink-100 relative",children:[Y.image?a.jsx("img",{src:Y.image,alt:Y.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(_s,{className:"w-20 h-20 text-purple-300"})}),T.savings>0&&a.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold px-3 py-2 rounded-lg shadow-lg animate-pulse",children:a.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[a.jsx("span",{className:"text-[10px] opacity-90",children:r==="es"?"AHORRA":"SAVE"}),a.jsxs("span",{className:"text-sm",children:[de,T.savings]}),a.jsxs("span",{className:"text-[10px] bg-white bg-opacity-20 px-2 rounded-full mt-0.5",children:["-",T.percent,"%"]})]})}),a.jsx("div",{className:"absolute top-2 right-2 bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"COMBO"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:Y.name}),a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[Y.products?.length||0," productos incluidos"]}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[ie.find(J=>J.id===z)?.symbol||"$",qe(Y)]}),a.jsx("p",{className:"text-xs text-gray-500",children:ie.find(J=>J.id===z)?.code||"USD"})]})}),a.jsxs(ve,{onClick:J=>{J.stopPropagation(),xe({...Y,type:"combo"})},className:"w-full",style:{background:y.useGradient?`linear-gradient(to right, ${y.primaryColor||"#2563eb"}, ${y.secondaryColor||"#9333ea"})`:y.buttonBgColor||"#2563eb",color:y.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(zo,{className:"w-4 h-4 mr-2"}),e("products.addToCart")]})]})]},`combo-${Y.id}`)})})]}),N.length>0&&a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:a.jsx("h2",{className:"text-2xl font-bold mb-4",style:Ye(y),children:" Productos"})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map((Y,$e)=>a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:$e*.1},className:"glass-effect rounded-2xl overflow-hidden hover-lift group cursor-pointer",onClick:()=>t("product-detail",{itemId:Y.id,itemType:"product"}),children:[a.jsxs("div",{className:"aspect-square bg-gray-100 relative group",children:[B&&W===Y.id?a.jsx("img",{className:"w-full h-full object-cover",alt:e("products.preview"),src:B}):a.jsx("img",{className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",alt:Y.name_es||Y.name,src:Y.image_url||"https://images.unsplash.com/photo-1646193186132-7976c1670e81"}),o&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center z-10",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ce=>{Ce.stopPropagation(),Z(Y.id),K(Ce,Y.id)}}),a.jsx(ve,{variant:"secondary",size:"sm",className:"bg-white hover:bg-gray-100",onClick:Ce=>Ce.stopPropagation(),children:a.jsx(q0,{className:"w-4 h-4"})})]}),Y.image_url&&a.jsx(ve,{variant:"destructive",size:"sm",onClick:Ce=>{Ce.stopPropagation(),ce(Y.id,Y.image_url)},children:a.jsx(Un,{className:"w-4 h-4"})})]})}),A&&W===Y.id&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:a.jsx("div",{className:"w-full max-w-[80%] bg-white rounded-lg p-4",children:a.jsx("div",{className:"h-2 bg-gray-200 rounded",children:a.jsx("div",{className:"h-full rounded transition-all duration-300",style:{width:`${M}%`,background:y.useGradient?`linear-gradient(to right, ${y.primaryColor}, ${y.secondaryColor})`:y.primaryColor}})})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:Y.name_es||Y.name}),Y.category&&a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:r==="es"?Y.category.name_es:Y.category.name_en}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-xl font-bold text-green-600",children:[ie.find(Ce=>Ce.id===z)?.symbol||"$",Oe(Y)]}),a.jsx("p",{className:"text-xs text-gray-500",children:ie.find(Ce=>Ce.id===z)?.code||"USD"})]})}),a.jsxs(ve,{onClick:Ce=>{Ce.stopPropagation(),xe(Y)},className:"w-full",style:{background:y.useGradient?`linear-gradient(to right, ${y.primaryColor||"#2563eb"}, ${y.secondaryColor||"#9333ea"})`:y.buttonBgColor||"#2563eb",color:y.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(zo,{className:"w-4 h-4 mr-2"}),e("products.addToCart")]})]})]},Y.id))}),N.length===0&&a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[a.jsx(_s,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:e("products.noProducts")}),a.jsx("p",{className:"text-gray-500",children:e("products.noProductsDesc")})]})]})})},eO=({product:t,selectedCurrency:e,currencySymbol:r,currencyCode:s,convertPrice:o,quantity:l=1})=>{const[u,d]=b.useState(!1),{language:h}=Yt(),{visualSettings:m}=Vt(),p=()=>{const x=parseFloat(t.final_price||t.base_price||0),w=t.base_currency_id;return!w||w===e?x.toFixed(2):o(x,w,e).toFixed(2)},y=()=>(parseFloat(p())*l).toFixed(2);return a.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-200 last:border-0",children:[a.jsx(me.div,{className:"flex-shrink-0 cursor-pointer relative",onClick:()=>d(!u),whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(me.div,{animate:{width:u?"120px":"60px",height:u?"120px":"60px"},transition:{duration:.3,ease:"easeInOut"},className:"rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:t.image_url||"https://images.unsplash.com/photo-1646193186132-7976c1670e81",alt:t.name_es||t.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-800",children:t.name_es||t.name}),t.category&&a.jsx("p",{className:"text-xs text-gray-500",children:h==="es"?t.category.name_es:t.category.name_en}),a.jsx("p",{className:"text-sm font-semibold",style:Ye(m),children:h==="es"?`Cantidad: ${l}`:`Quantity: ${l}`})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[r,p()," ",h==="es"?"c/u":"each"]}),a.jsxs("p",{className:"font-semibold text-gray-800",children:["Total:"," ",r,y()]}),a.jsx("p",{className:"text-xs text-gray-500",children:s})]})]})},tO=({onNavigate:t,itemId:e,itemType:r})=>{const{t:s,language:o}=Yt(),{products:l,combos:u,categories:d,addToCart:h,financialSettings:m,visualSettings:p}=Vt(),{isAdmin:y}=gr(),[x,w]=b.useState(null),[j,C]=b.useState(0),[N,O]=b.useState([]),[k,_]=b.useState(!1),[A,F]=b.useState([]),[M,I]=b.useState(null),[W,Z]=b.useState({});b.useEffect(()=>{(async()=>{try{const{data:D,error:K}=await ae.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(K)throw K;F(D||[]);const ce=D?.find(ye=>ye.is_base);ce&&I(ce.id);const{data:xe,error:pe}=await ae.from("exchange_rates").select("*").eq("is_active",!0);if(pe)throw pe;const be={};(xe||[]).forEach(ye=>{be[`${ye.from_currency_id}-${ye.to_currency_id}`]=ye.rate}),Z(be)}catch(D){console.error("Error loading currencies:",D)}})()},[]),b.useEffect(()=>{const E=r==="combo"?u:l;O(E);const D=E.findIndex(K=>K.id===e);D!==-1&&(C(D),w(E[D]))},[e,r,l,u]);const B=(E,D,K)=>{if(!E||!D||!K||D===K)return E;const ce=`${D}-${K}`,xe=W[ce];return xe?parseFloat(E)*xe:E},ge=(E,D)=>{if(!E||!M)return"0.00";if(D){const K=parseFloat(E.final_price||E.base_price||0),ce=E.base_currency_id;return ce?B(K,ce,M).toFixed(2):K.toFixed(2)}else{let K=0;(E.products||[]).forEach(xe=>{const pe=l.find(be=>be.id===xe);if(pe){const be=parseFloat(pe.base_price||0),ye=pe.base_currency_id,Oe=E.productQuantities?.[xe]||1;let qe=be;ye&&ye!==M&&(qe=B(be,ye,M)),K+=qe*Oe}});const ce=parseFloat(E.profitMargin||m.comboProfit)/100;return(K*(1+ce)).toFixed(2)}},ie=()=>{if(j>0){const E=N[j-1];C(j-1),w(E),_(!1)}else _(!0)},X=()=>{if(j<N.length-1){const E=N[j+1];C(j+1),w(E),_(!1)}else _(!0)},z=()=>{const E=!x?.products;if(E&&j===N.length-1){if(u.length>0){const D=u[0];O(u),C(0),w(D),_(!1)}}else if(E&&j===0){if(u.length>0){const D=u[u.length-1];O(u),C(u.length-1),w(D),_(!1)}}else if(!E&&j===N.length-1){if(l.length>0){const D=l[0];O(l),C(0),w(D),_(!1)}}else if(!E&&j===0&&l.length>0){const D=l[l.length-1];O(l),C(l.length-1),w(D),_(!1)}},ue=()=>{h(x),se({title:s("products.addedToCart"),description:`${x.name_es||x.name} ${s("products.addedToCartDesc")}`})},he=E=>{const D=d.find(K=>K.id===E);return D?o==="es"?D.name_es||D.es:D.name_en||D.en:""};if(!x)return a.jsx("div",{className:"min-h-screen py-8 px-4 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:s("products.noProducts")})});const le=!x.products,H=ge(x,le),ee=A.find(E=>E.id===M)?.symbol||"$",te=A.find(E=>E.id===M)?.code||"USD";return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsx(me.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("products"),className:"mb-6 flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:s(le?"products.detail.backToProducts":"products.detail.backToCombos")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[a.jsxs(me.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"relative",children:[a.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 relative",children:[x.image_url||x.image?a.jsx("img",{src:x.image_url||x.image,alt:x.name_es||x.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(_s,{className:"w-24 h-24 text-gray-300"})}),!le&&a.jsx("div",{className:"absolute top-4 right-4 bg-purple-600 text-white text-sm font-bold px-4 py-2 rounded-full",children:"COMBO"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs(ve,{onClick:ie,variant:"outline",size:"lg",disabled:j===0&&r==="combo"&&l.length===0,className:"flex items-center gap-2",children:[a.jsx(lh,{className:"w-5 h-5"}),s("products.detail.previous")]}),a.jsxs(ve,{onClick:X,variant:"outline",size:"lg",disabled:j===N.length-1&&r==="combo"&&l.length===0,className:"flex items-center gap-2",children:[s("products.detail.next"),a.jsx(ch,{className:"w-5 h-5"})]})]}),k&&(()=>{const E=!x?.products;return a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4",children:a.jsxs(ve,{onClick:z,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:[E&&(j===N.length-1||j===0)&&s("products.detail.continueToCombos"),!E&&(j===N.length-1||j===0)&&s("products.detail.continueToProducts"),a.jsx(jE,{className:"w-5 h-5 ml-2"})]})})})()]}),a.jsxs(me.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",style:Ye(p),children:x.name_es||x.name}),le&&(x.category_id||x.category)&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[a.jsx(GE,{className:"w-4 h-4"}),a.jsx("span",{children:he(x.category_id||x.category)})]})]}),a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:o==="es"?"Mostrar en:":"Display in:"}),a.jsx("select",{value:M||"",onChange:E=>I(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(E=>a.jsxs("option",{value:E.id,children:[E.code," (",E.symbol,")"]},E.id))})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-4xl font-bold",style:Ye(p),children:[ee,H]}),a.jsx("span",{className:"text-gray-500",children:te})]})]}),(x.description_es||x.description_en||x.description)&&a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:s("products.detail.description")}),a.jsx("p",{className:"text-gray-600",children:o==="es"?x.description_es||x.description:x.description_en||x.description})]}),le&&a.jsxs("div",{className:"space-y-4",children:[x.stock!==void 0&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[s("products.detail.stock"),":"]}),a.jsx("span",{className:`font-semibold ${x.stock>0?"text-green-600":"text-red-600"}`,children:x.stock>0?`${x.stock} ${s("products.detail.units")}`:s("products.detail.outOfStock")})]}),x.expiryDate&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Calendar,{className:"w-4 h-4"}),a.jsxs("span",{children:[s("products.detail.expiryDate"),":"]})]}),a.jsx("span",{className:"font-semibold",children:x.expiryDate})]})]}),!le&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"glass-effect p-6 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",style:Ye(p),children:o==="es"?" Ahorra con este combo!":" Save with this combo!"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white bg-opacity-50 p-3 rounded-lg space-y-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:o==="es"?"Comprando por separado:":"Buying separately:"}),(x.products||[]).map(E=>{const D=l.find(Oe=>Oe.id===E);if(!D)return null;const K=parseFloat(D.base_price||0),ce=B(K,D.base_currency_id,M),xe=x.productQuantities?.[E]||1,pe=parseFloat(m.productProfit||40)/100,ye=ce*(1+pe)*xe;return a.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[a.jsxs("span",{children:[D.name_es||D.name,"  ",xe]}),a.jsxs("span",{children:[ee,ye.toFixed(2)]})]},E)}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Total:"}),a.jsxs("span",{className:"text-lg font-semibold line-through text-gray-500",children:[ee,(()=>{let E=0;return(x.products||[]).forEach(D=>{const K=l.find(ce=>ce.id===D);if(K){const ce=parseFloat(K.base_price||0),xe=B(ce,K.base_currency_id,M),pe=x.productQuantities?.[D]||1,be=parseFloat(m.productProfit||40)/100,ye=xe*(1+be);E+=ye*pe}}),E.toFixed(2)})()]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-purple-200",children:[a.jsx("span",{className:"text-lg font-bold",style:Ye(p),children:o==="es"?"Precio del combo:":"Combo price:"}),a.jsxs("span",{className:"text-2xl font-bold",style:Ye(p),children:[ee,H]})]}),a.jsx("div",{className:"text-center pt-2",children:a.jsxs("span",{className:"inline-block bg-green-100 px-4 py-2 rounded-full text-sm font-semibold",style:Ye(p),children:[o==="es"?"Ahorras ":"You save ",ee,(()=>{let E=0;return(x.products||[]).forEach(K=>{const ce=l.find(xe=>xe.id===K);if(ce){const xe=parseFloat(ce.base_price||0),pe=B(xe,ce.base_currency_id,M),be=x.productQuantities?.[K]||1,ye=parseFloat(m.productProfit||40)/100,Oe=pe*(1+ye);E+=Oe*be}}),(E-parseFloat(H)).toFixed(2)})(),"!"]})})]})]}),a.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:s("products.detail.includedProducts")}),a.jsx("div",{className:"space-y-3",children:x.products?.map(E=>{const D=l.find(ce=>ce.id===E),K=x.productQuantities?.[E]||1;return D?a.jsx(eO,{product:D,selectedCurrency:M,currencySymbol:ee,currencyCode:te,convertPrice:B,quantity:K},E):null})})]}),y&&x.profitMargin&&a.jsxs("div",{className:"flex items-center justify-between glass-effect p-4 rounded-xl border-2 border-purple-200",children:[a.jsxs("span",{className:"text-gray-600",children:[s("products.detail.profitMargin"),":"]}),a.jsxs("span",{className:"font-semibold text-purple-600",children:[x.profitMargin,"%"]})]})]}),a.jsxs(ve,{onClick:ue,size:"lg",className:"w-full text-lg py-6",style:ct(p),children:[a.jsx(zo,{className:"w-5 h-5 mr-2"}),s("products.addToCart")]})]})]})]})})},Nh=async()=>{try{return{success:!0,configs:Sv()}}catch(t){return console.error("Error fetching remittance configs:",t),{success:!1,configs:Sv(),error:t.message}}},Sv=()=>[{id:"temp-mn",currency:"MN",name:"Moneda Nacional",enabled:!0,paymentMethods:[{id:"cash",name:"Efectivo",enabled:!0},{id:"transfer",name:"Transferencia",enabled:!0}],isNew:!0},{id:"temp-usd",currency:"USD",name:"Dlar Estadounidense",enabled:!0,paymentMethods:[{id:"cash",name:"Efectivo",enabled:!0},{id:"card_transfer",name:"Transferencia Tarjeta Clsica",enabled:!0}],isNew:!0},{id:"temp-mlc",currency:"MLC",name:"Moneda Libremente Convertible",enabled:!0,paymentMethods:[{id:"card",name:"Tarjeta MLC",enabled:!0}],isNew:!0}],rO=async t=>{try{return console.warn("Remittance config save not implemented yet"),{success:!0,config:t}}catch(e){return console.error("Error saving remittance config:",e),{success:!1,error:e.message}}},nO=async()=>{try{const t=await Nh();return t.success?{success:!0,configs:t.configs.filter(r=>r.enabled!==!1)}:t}catch(t){return console.error("Error fetching enabled remittance configs:",t),{success:!1,configs:[],error:t.message}}},sO=async t=>{try{const e=await Nh();if(!e.success)return{success:!1,methods:[],error:e.error};const r=e.configs.find(o=>o.currency===t);return r?{success:!0,methods:r.paymentMethods?.filter(o=>o.enabled!==!1)||[]}:{success:!1,methods:[],error:"Currency not found"}}catch(e){return console.error("Error fetching payment methods:",e),{success:!1,methods:[],error:e.message}}},iO=({onNavigate:t})=>{const{t:e,language:r}=Yt(),{visualSettings:s}=Vt(),[o,l]=b.useState(""),[u,d]=b.useState(""),[h,m]=b.useState("offers"),[p,y]=b.useState(null),[x,w]=b.useState({deliveryMethod:"transfer",currency:"USD",fullName:"",bankName:"",accountNumber:""}),[j,C]=b.useState([]),[N,O]=b.useState([]),[k,_]=b.useState(!1);b.useEffect(()=>{A()},[]),b.useEffect(()=>{x.currency&&F(x.currency)},[x.currency]);const A=async()=>{_(!0);try{const B=await nO();B.success&&(C(B.configs),B.configs.length>0&&!x.currency&&w(ge=>({...ge,currency:B.configs[0].currency})))}catch(B){console.error("Error loading remittance configs:",B)}finally{_(!1)}},F=async B=>{try{const ge=await sO(B);ge.success&&(O(ge.methods),ge.methods.length>0&&w(ie=>({...ie,deliveryMethod:ge.methods[0].id})))}catch(ge){console.error("Error loading payment methods:",ge)}},M=[{id:1,country:"Cuba",rate:120,fee:5,time:"2-4 hours",popular:!0,currency:"CUP"}],I=B=>{y(B),m("recipient")},W=()=>{se({title:" Esta funcionalidad no est implementada anpero no te preocupes! Puedes solicitarla en tu prximo prompt! "}),m("offers"),l("")},Z=B=>o?(parseFloat(o)*B.rate-B.fee).toFixed(2):0;return h==="recipient"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:Ye(s),children:e("remittances.recipient.title")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Moneda":"Currency"}),a.jsx("select",{value:x.currency,onChange:B=>w({...x,currency:B.target.value}),className:"input-style w-full",style:Eo(s),children:j.map(B=>a.jsxs("option",{value:B.currency,children:[B.currency," - ",B.name]},B.currency))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Mtodo de Pago":"Payment Method"}),a.jsx("select",{value:x.deliveryMethod,onChange:B=>w({...x,deliveryMethod:B.target.value}),className:"input-style w-full",style:Eo(s),children:N.map(B=>a.jsx("option",{value:B.id,children:B.name},B.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e("remittances.recipient.fullName")}),a.jsx("input",{type:"text",placeholder:e("remittances.recipient.fullName"),value:x.fullName,onChange:B=>w({...x,fullName:B.target.value}),className:"input-style w-full",style:Eo(s)})]}),(x.deliveryMethod==="transfer"||x.deliveryMethod==="card_transfer")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e("remittances.recipient.bankName")}),a.jsx("input",{type:"text",placeholder:e("remittances.recipient.bankName"),value:x.bankName,onChange:B=>w({...x,bankName:B.target.value}),className:"input-style w-full",style:Eo(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:x.deliveryMethod==="card_transfer"?r==="es"?"Nmero de Tarjeta":"Card Number":e("remittances.recipient.accountNumber")}),a.jsx("input",{type:"text",placeholder:x.deliveryMethod==="card_transfer"?r==="es"?"Nmero de Tarjeta":"Card Number":e("remittances.recipient.accountNumber"),value:x.accountNumber,onChange:B=>w({...x,accountNumber:B.target.value}),className:"input-style w-full",style:Eo(s)})]})]}),x.deliveryMethod==="cash"&&a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${s.primaryColor||"#2563eb"}10`,borderColor:s.primaryColor||"#2563eb",borderWidth:"1px",borderStyle:"solid"},children:a.jsx("p",{className:"text-sm",children:r==="es"?"El destinatario recoger el efectivo en el punto de entrega especificado.":"The recipient will pick up cash at the specified delivery point."})})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(ve,{variant:"outline",onClick:()=>m("offers"),children:e("vendor.addProduct.cancel")}),a.jsx(ve,{onClick:W,style:ct(s),children:e("remittances.recipient.confirm")})]})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(s),children:e("remittances.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("remittances.subtitle")})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-8 rounded-2xl mb-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("input",{type:"number",value:o,onChange:B=>l(B.target.value),placeholder:e("remittances.amount"),className:"input-style w-full"}),a.jsxs("select",{value:u,onChange:B=>d(B.target.value),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e("remittances.selectCountry")}),M.map(B=>a.jsx("option",{value:B.country,children:B.country},B.id))]})]})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map((B,ge)=>a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:ge*.1},className:`glass-effect rounded-2xl p-6 hover-lift relative ${B.popular?"ring-2 ring-blue-500":""}`,children:[B.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:e("remittances.popular")})}),a.jsx("h3",{className:"text-lg font-semibold text-center mb-4",children:B.country}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.rate"),":"]}),a.jsx("span",{className:"font-semibold",children:B.rate.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.fee"),":"]}),a.jsxs("span",{className:"font-semibold",children:["$",B.fee]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("remittances.time"),":"]}),a.jsxs("span",{className:"font-semibold flex items-center",children:[a.jsx(mf,{className:"w-4 h-4 mr-1"}),B.time]})]}),o&&a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",style:{color:s.accentColor||"#22c55e"},children:[a.jsxs("span",{children:[e("remittances.youReceive"),":"]}),a.jsxs("span",{children:[Z(B)," ",B.currency||"USD"]})]})})]}),a.jsxs(ve,{onClick:()=>I(B),className:"w-full",disabled:!o,style:ct(s),children:[a.jsx(zE,{className:"w-4 h-4 mr-2"}),e("remittances.send")]})]},B.id))})]})})},oO=({onNavigate:t})=>{const{t:e}=Yt(),{products:r,combos:s,financialSettings:o,visualSettings:l}=Vt(),{user:u,isAdmin:d,isSuperAdmin:h}=gr(),[m,p]=b.useState({totalProducts:0,totalCombos:0,totalUsers:0,pendingOrders:0,completedOrders:0,dailyRevenue:0,monthlyRevenue:0,loading:!0}),[y,x]=b.useState({weekly:0,monthly:0,yearly:0,total:0,loading:!0}),[w,j]=b.useState([]),[C,N]=b.useState(null),[O,k]=b.useState(1),_=X=>{if(!X.expiryDate)return!1;const z=new Date,he=new Date(X.expiryDate)-z,le=Math.ceil(he/(1e3*60*60*24));return le<=30&&le>0},A=r.filter(_);b.useEffect(()=>{(async()=>{const{data:z}=await ae.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(z){j(z);const ue=z.find(he=>he.is_base);ue&&(N(ue.id),k(1))}})()},[]),b.useEffect(()=>{if(C&&w.length>0){const X=w.find(z=>z.id===C);X&&k(X.exchange_rate||1)}},[C,w]);const F=async()=>{try{x(ue=>({...ue,loading:!0}));const{data:X,error:z}=await ae.from("site_visits").select("visit_time");if(z){console.warn("Visit tracking not configured:",z.message),x({weekly:0,monthly:0,yearly:0,total:0,loading:!1,unavailable:!0});return}if(X){const ue=new Date,he=new Date(ue-10080*60*1e3),le=new Date(ue-720*60*60*1e3),H=new Date(ue-365*24*60*60*1e3),ee=X.filter(K=>new Date(K.visit_time)>=he).length,te=X.filter(K=>new Date(K.visit_time)>=le).length,E=X.filter(K=>new Date(K.visit_time)>=H).length,D=X.length;x({weekly:ee,monthly:te,yearly:E,total:D,loading:!1,unavailable:!1})}}catch(X){console.error("Error fetching visit stats:",X),x({weekly:0,monthly:0,yearly:0,total:0,loading:!1,unavailable:!0})}},M=async()=>{try{p(ye=>({...ye,loading:!0}));const[X,z,ue,he]=await Promise.all([ae.from("products").select("id",{count:"exact",head:!0}),ae.from("combo_products").select("id",{count:"exact",head:!0}),ae.from("user_profiles").select("id",{count:"exact",head:!0}),ae.from("orders").select("id, status, total_amount, created_at")]),le=X.count||0,H=z.count||0,ee=ue.count||0,te=he.data||[],E=te.filter(ye=>ye.status==="pending").length,D=te.filter(ye=>["delivered","completed"].includes(ye.status)).length,K=new Date,ce=new Date(K-1440*60*1e3),xe=new Date(K-720*60*60*1e3),pe=te.filter(ye=>new Date(ye.created_at)>=ce&&["delivered","completed","processing"].includes(ye.status)).reduce((ye,Oe)=>ye+(parseFloat(Oe.total_amount)||0),0),be=te.filter(ye=>new Date(ye.created_at)>=xe&&["delivered","completed","processing"].includes(ye.status)).reduce((ye,Oe)=>ye+(parseFloat(Oe.total_amount)||0),0);p({totalProducts:le,totalCombos:H,totalUsers:ee,pendingOrders:E,completedOrders:D,dailyRevenue:pe,monthlyRevenue:be,loading:!1})}catch(X){console.error("Error fetching dashboard stats:",X),p(z=>({...z,loading:!1}))}};b.useEffect(()=>{u&&(d||h)&&(M(),F())},[u,d,h]);const I=m.dailyRevenue*(o.productProfit/100),W=m.monthlyRevenue*(o.productProfit/100),Z=w.find(X=>X.id===C),B=Z?.symbol||"$",ge=Z?.code||"USD",ie=X=>(X*O).toFixed(2);return!u||!d&&!h?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(YE,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",style:Ye(l),children:e("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:e("dashboard.adminOnly")})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"flex justify-between items-start mb-12",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:Ye(l),children:e("dashboard.title")}),a.jsx("p",{className:"text-xl text-gray-600",children:e("dashboard.subtitle")})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[e("dashboard.selectCurrency"),":"]}),a.jsx("select",{value:C||"",onChange:X=>N(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(X=>a.jsxs("option",{value:X.id,children:[X.code," (",X.symbol,")"]},X.id))})]}),a.jsxs("button",{onClick:()=>{M(),F()},disabled:m.loading,className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl shadow hover:shadow-md transition-shadow",children:[a.jsx(Mn,{className:`w-4 h-4 ${m.loading?"animate-spin":""}`}),a.jsx("span",{className:"text-sm font-medium",children:e("dashboard.refresh")})]})]})]}),A.length>0&&a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg mb-8",role:"alert",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"py-1",children:a.jsx(yi,{className:"h-6 w-6 text-yellow-500 mr-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("dashboard.expirationWarning.title")}),a.jsx("p",{className:"text-sm",children:e("dashboard.expirationWarning.description",{count:A.length})})]})]})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:e("dashboard.stats.dailyRevenue"),value:m.dailyRevenue,icon:Cs,color:"from-green-500 to-emerald-600"},{title:e("dashboard.stats.monthlyRevenue"),value:m.monthlyRevenue,icon:Ml,color:"from-blue-500 to-cyan-600"},{title:e("dashboard.stats.dailyProfit"),value:I,icon:ff,color:"from-purple-500 to-pink-600"},{title:e("dashboard.stats.monthlyProfit"),value:W,icon:Ml,color:"from-orange-500 to-red-600"}].map((X,z)=>a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:z*.1},className:"glass-effect p-6 rounded-2xl hover-lift",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${X.color} rounded-xl flex items-center justify-center`,children:a.jsx(X.icon,{className:"w-6 h-6 text-white"})})}),a.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[B,ie(X.value)," ",ge]}),a.jsx("p",{className:"text-gray-600 text-sm",children:X.title})]},z))}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:e("dashboard.stats.totalProducts"),value:m.totalProducts,icon:_s},{title:e("dashboard.stats.totalCombos"),value:m.totalCombos,icon:dc},{title:e("dashboard.stats.pendingOrders"),value:m.pendingOrders,icon:ff},{title:e("dashboard.stats.totalUsers"),value:m.totalUsers,icon:ql}].map((X,z)=>a.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4+z*.1},className:"glass-effect p-6 rounded-2xl hover-lift",children:a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mr-3",children:a.jsx(X.icon,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:X.value}),a.jsx("p",{className:"text-gray-600 text-sm",children:X.title})]})]})},z))}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6",children:e("dashboard.profitBreakdown")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e("dashboard.dailyBreakdown")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.grossRevenue"),":"]}),a.jsxs("span",{className:"font-semibold",children:[B,ie(m.dailyRevenue)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.costs"),":"]}),a.jsxs("span",{className:"font-semibold text-red-600",children:["-",B,ie(m.dailyRevenue-I)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2 mt-1",children:[a.jsxs("span",{children:[e("dashboard.netProfit"),":"]}),a.jsxs("span",{className:"font-bold text-green-600",children:[B,ie(I)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[e("dashboard.profitMargin"),":"]}),a.jsxs("span",{children:[o.productProfit,"%"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e("dashboard.monthlyBreakdown")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.grossRevenue"),":"]}),a.jsxs("span",{className:"font-semibold",children:[B,ie(m.monthlyRevenue)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e("dashboard.costs"),":"]}),a.jsxs("span",{className:"font-semibold text-red-600",children:["-",B,ie(m.monthlyRevenue-W)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2 mt-1",children:[a.jsxs("span",{children:[e("dashboard.netProfit"),":"]}),a.jsxs("span",{className:"font-bold text-green-600",children:[B,ie(W)," ",ge]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[e("dashboard.profitMargin"),":"]}),a.jsxs("span",{children:[o.productProfit,"%"]})]})]})]})]})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6",children:e("dashboard.orderSummary")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-yellow-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.pending")}),a.jsx("span",{className:"text-lg font-bold text-yellow-600",children:m.pendingOrders})]}),a.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.completed")}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:m.completedOrders})]}),a.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-3 rounded-lg border-t-2 border-blue-500",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.stats.totalUsers")}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:m.totalUsers})]}),a.jsxs("div",{className:"flex justify-between items-center bg-purple-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:e("dashboard.stats.activeProducts")}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:m.totalProducts})]})]})]})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",style:Ye(l),children:e("dashboard.analyticsTitle")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:e("dashboard.visits.title")}),a.jsx(ql,{className:"w-8 h-8 text-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisWeek")}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.weekly})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisMonth")}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.monthly})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.thisYear")}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:y.yearly})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border-2 border-green-500",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e("dashboard.visits.allTime")}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.total})]})]})]}),a.jsxs("div",{className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:e("dashboard.stats.siteVisits")}),a.jsx(Ml,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.weekly")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.thisWeek")})]}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:y.weekly})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.monthly")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.thisMonth")})]}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:y.monthly})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-500",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e("dashboard.visits.total")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.visits.allTime")})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:y.total})]})]})]})]})]})]})})},aO=()=>{const{t,language:e}=Yt(),{products:r,refreshProducts:s,financialSettings:o,categories:l,refreshCategories:u,combos:d,refreshCombos:h,testimonials:m,refreshTestimonials:p,visualSettings:y}=Vt(),[x,w]=b.useState([]),[j,C]=b.useState(null),[N,O]=b.useState(null),[k,_]=b.useState({});b.useEffect(()=>{const T=async()=>{const{data:J}=await ae.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(J){w(J);const Ae=J.find(Q=>Q.is_base);Ae&&(C(Ae.id),O(Ae.id))}const{data:Te}=await ae.from("exchange_rates").select("*").eq("is_active",!0);if(Te){const Ae={};Te.forEach(Q=>{Ae[`${Q.from_currency_id}-${Q.to_currency_id}`]=Q.rate}),_(Ae)}},de=async()=>{await p(!0),await h(!0)};T(),de()},[]);const[A,F]=b.useState("inventory"),[M,I]=b.useState(null),[W,Z]=b.useState(null),[B,ge]=b.useState({dbId:null,es:"",en:"",description_es:"",description_en:""}),[ie,X]=b.useState(null),z=(T,de,J,Te=null)=>{T==="product"?I(Ae=>({...Ae,[de]:J})):T==="combo"&&Z(Te?Ae=>({...Ae,[de]:{...Ae[de],[Te]:J}}):Ae=>({...Ae,[de]:J}))},ue=()=>{I({id:null,name:"",description_es:"",description_en:"",basePrice:"",base_currency_id:j||"",category:"",stock:"",min_stock_alert:"",expiryDate:"",image:""}),X(null)},he=T=>{I({id:T.id,name:T.name_es||T.name,description_es:T.description_es||"",description_en:T.description_en||"",basePrice:T.base_price||T.basePrice||"",profitMargin:T.profit_margin||40,base_currency_id:T.base_currency_id||j||"",category:T.category?.id||T.category_id||"",stock:T.stock||"",min_stock_alert:T.min_stock_alert||"",expiryDate:T.expiry_date||T.expiryDate||"",image:T.image_url||T.image_file||T.image||"",sku:T.sku||""}),X(T.image_url||T.image_file||T.image||null)},le=async T=>{const de=T.target.files?.[0];if(de)try{const J=await Ko(de,"product");if(!J.success){se({title:"Error de validacin",description:J.errors.join(`
`),variant:"destructive"});return}X(J.base64),I(Te=>({...Te,image:J.base64})),se({title:"Imagen optimizada",description:`${J.metadata.originalDimensions}  ${J.metadata.finalDimensions} (${J.metadata.compression} compresin)`})}catch(J){console.error("Error processing product image:",J),se({title:"Error al procesar imagen",description:J.message,variant:"destructive"})}},H=async()=>{if(!M.name||!M.basePrice||!M.category){se({title:t("vendor.validation.error"),description:t("vendor.validation.fillFields"),variant:"destructive"});return}if(!M.base_currency_id){se({title:"Error",description:e==="es"?"Debe seleccionar una moneda":"You must select a currency",variant:"destructive"});return}try{if(!l.find(J=>J.id===M.category)){se({title:"Error",description:"Categora no vlida",variant:"destructive"});return}const de={name:M.name,description_es:M.description_es||"",description_en:M.description_en||"",basePrice:parseFloat(M.basePrice),stock:parseInt(M.stock||0,10),min_stock_alert:parseInt(M.min_stock_alert||10,10),profitMargin:parseFloat(M.profitMargin||40),category_id:M.category,base_currency_id:M.base_currency_id,image:M.image||"",sku:M.sku||`SKU-${Date.now()}`,slug:M.name.toLowerCase().replace(/\s+/g,"-"),expiryDate:M.expiryDate||null};if(console.log(" Saving product with data:",de),console.log(" Stock value:",de.stock,typeof de.stock),console.log(" Category ID:",de.category_id,typeof de.category_id),console.log(" Expiry Date:",de.expiryDate,typeof de.expiryDate),M.id){const{error:J}=await xT(M.id,de);if(J)throw J;se({title:t("vendor.productUpdated")})}else{const{error:J}=await vT(de);if(J)throw J;se({title:t("vendor.productAdded")})}await s(),I(null),X(null)}catch(T){console.error("Error saving product:",T),se({title:"Error",description:T.message,variant:"destructive"})}},ee=async()=>{if(!B.es||!B.en){se({title:"Error",description:e==="es"?"Por favor complete los campos de nombre en ambos idiomas":"Please complete the name fields in both languages",variant:"destructive"});return}try{if(B.dbId){const{error:T}=await CT(B.dbId,{es:B.es,en:B.en,description_es:B.description_es,description_en:B.description_en});if(T)throw T;se({title:e==="es"?"Categora actualizada":"Category Updated",description:e==="es"?"La categora se actualiz exitosamente":"The category was successfully updated"})}else{const{error:T}=await bT({es:B.es,en:B.en,description_es:B.description_es,description_en:B.description_en});if(T)throw T;se({title:e==="es"?"Categora creada":"Category Created",description:e==="es"?"La categora se cre exitosamente":"The category was successfully created"})}await u(),ge({dbId:null,es:"",en:"",description_es:"",description_en:""})}catch(T){console.error("Error saving category:",T),se({title:"Error",description:T.message||(e==="es"?"Error al guardar la categora":"Error saving category"),variant:"destructive"})}},te=T=>{ge({dbId:T.id,es:T.name_es||T.es,en:T.name_en||T.en,description_es:T.description_es||"",description_en:T.description_en||""})},E=async T=>{if(confirm(e==="es"?"Est seguro de que desea eliminar esta categora?":"Are you sure you want to delete this category?"))try{const{error:J}=await _T(T);if(J)throw J;await u(),se({title:e==="es"?"Categora eliminada":"Category Deleted",description:e==="es"?"La categora se elimin exitosamente":"The category was successfully deleted"})}catch(J){console.error("Error deleting category:",J),se({title:"Error",description:J.message||(e==="es"?"Error al eliminar la categora":"Error deleting category"),variant:"destructive"})}},[D,K]=b.useState(null),ce=()=>{Z({id:null,name:"",profitMargin:"",shipping:{type:"paid",value:0},products:[],productQuantities:{},image:""}),K(null)},xe=T=>{const de={},J=[];T.items&&T.items.length>0&&T.items.forEach(Te=>{J.push(Te.product.id),de[Te.product.id]=Te.quantity||1}),Z({...T,products:J,productQuantities:de}),K(T.image_url||T.image||null)},pe=async T=>{const de=T.target.files?.[0];if(de)try{const J=await Ko(de,"combo");if(!J.success){se({title:"Error de validacin",description:J.errors.join(`
`),variant:"destructive"});return}K(J.base64),Z(Te=>({...Te,image:J.base64})),se({title:"Imagen optimizada",description:`${J.metadata.originalDimensions}  ${J.metadata.finalDimensions} (${J.metadata.compression} compresin)`})}catch(J){console.error("Error processing combo image:",J),se({title:"Error al procesar imagen",description:J.message,variant:"destructive"})}},be=T=>{Z(de=>{const J=de.products.includes(T),Te=J?de.products.filter(Q=>Q!==T):[...de.products,T],Ae={...de.productQuantities};return J?delete Ae[T]:Ae[T]=1,{...de,products:Te,productQuantities:Ae}})},ye=(T,de)=>{Z(J=>({...J,productQuantities:{...J.productQuantities,[T]:parseInt(de)||1}}))},Oe=async()=>{if(!W.name){se({title:t("vendor.validation.error"),description:t("vendor.validation.fillFields"),variant:"destructive"});return}try{const T=(W.products||[]).map(J=>({productId:J,quantity:W.productQuantities[J]||1})),de={name:W.name,description:W.description||"",image:W.image||"",productsWithQuantities:T,profitMargin:parseFloat(W.profitMargin||o.comboProfit),slug:W.name.toLowerCase().replace(/\s+/g,"-")};if(W.id){const{error:J}=await NT(W.id,de);if(J)throw J;se({title:t("vendor.comboUpdated")})}else{const{error:J}=await ST(de);if(J)throw J;se({title:t("vendor.comboAdded")})}await h(!0),Z(null),K(null)}catch(T){console.error("Error saving combo:",T),se({title:"Error",description:T.message,variant:"destructive"})}},qe=(T,de,J)=>{if(!T||!de||!J||de===J)return T;const Te=`${de}-${J}`,Ae=k[Te];return Ae?parseFloat(T)*Ae:T},Y=T=>{if(!T||!N)return{base:0,final:0};let de=0;(T.products||[]).forEach(Ae=>{const Q=r.find(ke=>ke.id===Ae);if(Q){const ke=parseFloat(Q.base_price||0),Re=Q.base_currency_id,Ve=T.productQuantities?.[Ae]||1;let it=ke;Re&&Re!==N&&(it=qe(ke,Re,N)),de+=it*Ve}});const J=parseFloat(T.profitMargin||o.comboProfit)/100,Te=de*(1+J);return{base:de.toFixed(2),final:Te.toFixed(2)}},$e=async(T,de)=>{try{const{error:J}=await ET(T,!de);if(J)throw J;se({title:e==="es"?"Actualizado":"Updated",description:e==="es"?`Testimonio ${de?"oculto":"visible"}`:`Testimonial ${de?"hidden":"visible"}`}),await p(!0)}catch(J){console.error("Error toggling testimonial visibility:",J),se({title:"Error",description:J.message||(e==="es"?"Error al actualizar testimonio":"Error updating testimonial"),variant:"destructive"})}},Ce=async(T,de)=>{try{const{error:J}=await PT(T,!de);if(J)throw J;se({title:e==="es"?"Actualizado":"Updated",description:e==="es"?`Testimonio ${de?"normal":"destacado"}`:`Testimonial ${de?"unfeatured":"featured"}`}),await p(!0)}catch(J){console.error("Error toggling testimonial featured status:",J),se({title:"Error",description:J.message||(e==="es"?"Error al destacar testimonio":"Error featuring testimonial"),variant:"destructive"})}};return a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(y),children:t("vendor.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t("vendor.subtitle")})]}),a.jsxs("div",{className:"flex justify-center mb-8 border-b",children:[a.jsxs(ve,{variant:A==="inventory"?"default":"ghost",onClick:()=>F("inventory"),className:"rounded-b-none",style:A==="inventory"?ct(y):{},children:[a.jsx(_s,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.inventory")]}),a.jsxs(ve,{variant:A==="categories"?"default":"ghost",onClick:()=>F("categories"),className:"rounded-b-none",style:A==="categories"?ct(y):{},children:[a.jsx(ME,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.categories")]}),a.jsxs(ve,{variant:A==="combos"?"default":"ghost",onClick:()=>F("combos"),className:"rounded-b-none",style:A==="combos"?ct(y):{},children:[a.jsx(kE,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.combos")]}),a.jsxs(ve,{variant:A==="management"?"default":"ghost",onClick:()=>F("management"),className:"rounded-b-none",style:A==="management"?ct(y):{},children:[a.jsx(WE,{className:"mr-2 h-4 w-4"}),t("vendor.tabs.management")]})]}),A==="inventory"&&a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs(ve,{onClick:ue,style:ct(y),children:[a.jsx(bs,{className:"mr-2 h-4 w-4"}),t("vendor.actions.addProduct")]})}),M&&a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:M.id?t("vendor.addProduct.editTitle"):t("vendor.addProduct.title")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.name")," *"]}),a.jsx("input",{type:"text",value:M.name,onChange:T=>z("product","name",T.target.value),placeholder:t("vendor.addProduct.namePlaceholder"),className:"w-full input-style",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.category")," *"]}),a.jsxs("select",{value:M.category,onChange:T=>z("product","category",T.target.value),className:"w-full input-style",required:!0,children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar categora":"Select category"}),l.map(T=>a.jsx("option",{value:T.id,children:e==="es"?T.name_es:T.name_en},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripcin (Espaol)":"Description (Spanish)"}),a.jsx("textarea",{value:M.description_es,onChange:T=>z("product","description_es",T.target.value),placeholder:e==="es"?"Descripcin del producto en espaol":"Product description in Spanish",rows:3,className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripcin (Ingls)":"Description (English)"}),a.jsx("textarea",{value:M.description_en,onChange:T=>z("product","description_en",T.target.value),placeholder:e==="es"?"Descripcin del producto en ingls":"Product description in English",rows:3,className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("vendor.addProduct.basePrice")," *"]}),a.jsx("input",{type:"number",step:"0.01",value:M.basePrice,onChange:T=>z("product","basePrice",T.target.value),placeholder:"0.00",className:"w-full input-style",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.addProduct.currency")}),a.jsx("select",{value:M.base_currency_id,onChange:T=>z("product","base_currency_id",T.target.value),className:"w-full input-style",children:x.map(T=>a.jsxs("option",{value:T.id,children:[T.code," - ",e==="es"?T.name_es:T.name_en]},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.inventory.stock")}),a.jsx("input",{type:"number",value:M.stock,onChange:T=>z("product","stock",T.target.value),placeholder:"0",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Alerta de Stock Mnimo":"Minimum Stock Alert"}),a.jsx("input",{type:"number",value:M.min_stock_alert,onChange:T=>z("product","min_stock_alert",T.target.value),placeholder:"10",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.inventory.expiryDate")}),a.jsx("input",{type:"date",value:M.expiryDate,onChange:T=>z("product","expiryDate",T.target.value),className:"w-full input-style"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.addProduct.image")}),ie&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"aspect-square max-w-sm mx-auto rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:ie,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:le,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: imagen cuadrada (1:1), mx 5MB":"Recommended: square image (1:1), max 5MB"})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx(ve,{variant:"outline",onClick:()=>I(null),children:t("vendor.addProduct.cancel")}),a.jsxs(ve,{onClick:H,style:ct(y),children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),t("vendor.addProduct.save")]})]})]}),a.jsx("div",{className:"glass-effect rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:t("vendor.inventory.product")}),a.jsx("th",{className:"p-4",children:e==="es"?"Categora":"Category"}),a.jsx("th",{className:"p-4",children:e==="es"?"Moneda":"Currency"}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.stock")}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.price")}),a.jsx("th",{className:"p-4",children:t("vendor.inventory.expiryDate")}),a.jsx("th",{})]})}),a.jsx("tbody",{children:r.map(T=>{const de=x.find(Ve=>Ve.id===T.base_currency_id),J=T.stock!==void 0?T.stock:0,Te=T.min_stock_alert||10,Ae=J===0,Q=J>0&&J<=Te,Re=(Ve=>{if(!Ve)return null;const it=new Date,vt=new Date(Ve),ht=Math.ceil((vt-it)/(1e3*60*60*24)),De=ht/30;return ht<0?{status:"expired",color:"bg-red-50",icon:gi,iconColor:"text-red-600",days:ht}:De<=1?{status:"critical",color:"bg-pink-50",icon:gi,iconColor:"text-red-500",days:ht}:De<=3?{status:"warning",color:"bg-yellow-50",icon:yi,iconColor:"text-yellow-600",days:ht}:{status:"ok",color:"",icon:null,iconColor:"",days:ht}})(T.expiry_date||T.expiryDate);return a.jsxs("tr",{className:`border-b last:border-none ${Re?.color||""} ${Ae?"opacity-60":""}`,children:[a.jsx("td",{className:`p-4 font-medium ${Ae?"line-through text-gray-400":""}`,children:T.name_es||T.name||"Sin nombre"}),a.jsx("td",{className:"p-4 text-gray-600",children:T.category?e==="es"?T.category.name_es:T.category.name_en:"Sin categora"}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:de?.code||"USD"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Ae?"line-through text-gray-400":"",children:J}),Ae&&a.jsx(gi,{className:"h-4 w-4 text-red-600",title:e==="es"?"Sin stock":"Out of stock"}),Q&&a.jsx(yi,{className:"h-4 w-4 text-orange-500",title:e==="es"?"Stock bajo":"Low stock"})]})}),a.jsxs("td",{className:"p-4",children:[de?.symbol||"$",T.final_price?Number(T.final_price).toFixed(2):T.base_price?Number(T.base_price).toFixed(2):"0.00"]}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:T.expiry_date||T.expiryDate?new Date(T.expiry_date||T.expiryDate).toLocaleDateString():"N/A"}),Re?.icon&&a.jsx(Re.icon,{className:`h-4 w-4 ${Re.iconColor}`,title:Re.status==="expired"?e==="es"?"Expirado":"Expired":e==="es"?`${Re.days} das restantes`:`${Re.days} days left`})]})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>he(T),children:a.jsx(Ol,{className:"h-4 w-4"})})})]},T.id)})})]})})]}),A==="categories"&&a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"glass-effect p-8 rounded-2xl mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:B.dbId?e==="es"?"Editar Categora":"Edit Category":e==="es"?"Nueva Categora":"New Category"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre (Espaol) *":"Name (Spanish) *"}),a.jsx("input",{type:"text",value:B.es,onChange:T=>ge({...B,es:T.target.value}),placeholder:e==="es"?"Ej: Electrnica":"Ex: Electronics",className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre (Ingls) *":"Name (English) *"}),a.jsx("input",{type:"text",value:B.en,onChange:T=>ge({...B,en:T.target.value}),placeholder:e==="es"?"Ej: Electronics":"Ex: Electronics",className:"input-style w-full",required:!0})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripcin (Espaol)":"Description (Spanish)"}),a.jsx("textarea",{value:B.description_es,onChange:T=>ge({...B,description_es:T.target.value}),placeholder:e==="es"?"Descripcin opcional...":"Optional description...",className:"input-style w-full",rows:"3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Descripcin (Ingls)":"Description (English)"}),a.jsx("textarea",{value:B.description_en,onChange:T=>ge({...B,description_en:T.target.value}),placeholder:e==="es"?"Descripcin opcional...":"Optional description...",className:"input-style w-full",rows:"3"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ve,{onClick:ee,style:ct(y),children:B.dbId?a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),e==="es"?"Actualizar Categora":"Update Category"]}):a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-4 w-4"}),e==="es"?"Crear Categora":"Create Category"]})}),B.dbId&&a.jsxs(ve,{variant:"outline",onClick:()=>ge({dbId:null,es:"",en:"",description_es:"",description_en:""}),children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),e==="es"?"Cancelar":"Cancel"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="es"?"Categoras Existentes":"Existing Categories"}),l.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:e==="es"?"No hay categoras an":"No categories yet"}):a.jsx("ul",{className:"space-y-2",children:l.map(T=>a.jsxs("li",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("span",{className:"font-semibold",children:e==="es"?T.name_es||T.es:T.name_en||T.en}),a.jsxs("span",{className:"text-gray-500 text-sm",children:["(",T.slug,")"]})]}),(T.description_es||T.description_en)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e==="es"?T.description_es:T.description_en})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>te(T),children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsx(ve,{variant:"destructive",size:"icon",onClick:()=>E(T.id),style:{backgroundColor:y.destructiveBgColor||"#dc2626",color:y.destructiveTextColor||"#ffffff"},onMouseEnter:de=>de.currentTarget.style.backgroundColor=y.destructiveHoverBgColor||"#b91c1c",onMouseLeave:de=>de.currentTarget.style.backgroundColor=y.destructiveBgColor||"#dc2626",children:a.jsx(Do,{className:"h-4 w-4"})})]})]},T.id))})]})]}),A==="combos"&&a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:e==="es"?"Moneda:":"Currency:"}),a.jsx("select",{value:N||"",onChange:T=>O(T.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(T=>a.jsxs("option",{value:T.id,children:[T.code," (",T.symbol,")"]},T.id))})]}),a.jsxs(ve,{onClick:ce,style:ct(y),children:[a.jsx(bs,{className:"mr-2 h-4 w-4"}),t("vendor.combos.new")]})]}),W&&a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:W.id?t("vendor.combos.edit"):t("vendor.combos.new")}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("input",{type:"text",value:W.name,onChange:T=>z("combo","name",T.target.value),placeholder:t("vendor.combos.name"),className:"w-full input-style mb-4"}),a.jsx("input",{type:"number",value:W.profitMargin,onChange:T=>z("combo","profitMargin",T.target.value),placeholder:`${t("vendor.combos.profitMargin")} (def: ${o.comboProfit}%)`,className:"w-full input-style mb-4"}),D&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"aspect-square max-w-sm mx-auto rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("vendor.combos.coverImage")}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:pe,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:t("vendor.combos.products")}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 p-2 border rounded-lg",children:r.map(T=>{const de=T.stock!==void 0?T.stock:0,J=T.min_stock_alert||10,Te=de===0,Ae=de>0&&de<=J,Q=W.productQuantities[T.id]||1,ke=W.products.includes(T.id)&&de<Q;return a.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${Te?"bg-red-50 border border-red-200":Ae||ke?"bg-yellow-50 border border-yellow-200":"border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",id:`p-${T.id}`,checked:W.products.includes(T.id),onChange:()=>be(T.id),disabled:Te,className:"flex-shrink-0"}),a.jsx("label",{htmlFor:`p-${T.id}`,className:`cursor-pointer flex-1 ${Te?"text-gray-400 line-through":""}`,children:T.name_es||T.name}),Te&&a.jsx(gi,{className:"h-4 w-4 text-red-600 flex-shrink-0",title:e==="es"?"Sin stock":"Out of stock"}),Ae&&!Te&&a.jsx(yi,{className:"h-4 w-4 text-orange-500 flex-shrink-0",title:e==="es"?`Stock: ${de}`:`Stock: ${de}`}),ke&&a.jsx(yi,{className:"h-4 w-4 text-orange-600 flex-shrink-0",title:e==="es"?`Insuficiente: ${de} disponible, ${Q} requerido`:`Insufficient: ${de} available, ${Q} required`}),W.products.includes(T.id)&&a.jsx("input",{type:"number",min:"1",value:W.productQuantities[T.id]||1,onChange:Re=>ye(T.id,Re.target.value),className:"w-16 px-2 py-1 border rounded text-sm",placeholder:"Cant."})]},T.id)})})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"glass-effect p-3 rounded-lg text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[t("vendor.combos.basePrice"),":"]}),a.jsxs("span",{className:"font-semibold",children:[x.find(T=>T.id===N)?.symbol||"$",Y(W).base," ",x.find(T=>T.id===N)?.code||"USD"]})]}),a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsxs("span",{children:[t("vendor.combos.finalPrice"),":"]}),a.jsxs("span",{className:"text-blue-600",children:[x.find(T=>T.id===N)?.symbol||"$",Y(W).final," ",x.find(T=>T.id===N)?.code||"USD"]})]})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx(ve,{variant:"outline",onClick:()=>Z(null),children:t("vendor.addProduct.cancel")}),a.jsxs(ve,{onClick:Oe,style:ct(y),children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),t("vendor.combos.save")]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(T=>{const de=(T.products||[]).reduce((Re,Ve)=>{const it=T.productQuantities?.[Ve]||1;return Re+it},0),J=[];(T.products||[]).forEach(Re=>{const Ve=r.find(ht=>ht.id===Re),it=T.productQuantities?.[Re]||1,vt=Ve?.stock||0;vt===0?J.push({productName:Ve?.name_es||Ve?.name||"Unknown",issue:"out_of_stock",required:it,available:0}):vt<it&&J.push({productName:Ve?.name_es||Ve?.name||"Unknown",issue:"insufficient",required:it,available:vt})});const Te=T.is_active===!1||J.length>0,Ae=Y(T),Q=x.find(Re=>Re.id===N)?.symbol||"$",ke=x.find(Re=>Re.id===N)?.code||"USD";return a.jsxs("div",{className:`glass-effect p-4 rounded-lg relative ${Te?"border-2 border-red-300":""}`,children:[Te&&a.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(gi,{className:"h-3 w-3"}),e==="es"?"DESACTIVADO":"DEACTIVATED"]}),a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>xe(T),className:"absolute top-2 right-2",children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsx("h3",{className:`font-bold pr-8 ${Te?"line-through text-gray-500 mt-8":""}`,children:T.name_es||T.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[de," ",e==="es"?"elementos":"items"," (",T.products?.length||0," ",e==="es"?"productos":"products",")"]}),Te&&J.length>0&&a.jsxs("div",{className:"mt-2 p-2 bg-red-100 border border-red-300 rounded text-xs",children:[a.jsx("p",{className:"font-semibold text-red-800 mb-1",children:e==="es"?"Problemas de stock:":"Stock issues:"}),a.jsx("ul",{className:"space-y-1",children:J.map((Re,Ve)=>a.jsxs("li",{className:"flex items-start gap-1 text-red-700",children:[a.jsx(yi,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsxs("strong",{children:[Re.productName,":"]})," ",Re.issue==="out_of_stock"?e==="es"?"Sin stock":"Out of stock":`Insuf. (Req: ${Re.required}, ${e==="es"?"Disp:":"Avail:"} ${Re.available})`]})]},Ve))})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:`text-sm ${Te?"text-gray-400 line-through":"text-gray-500"}`,children:["Base:"," ",Q,Ae.base," ",ke]}),a.jsxs("p",{className:`text-lg font-bold ${Te?"text-gray-400 line-through":"text-green-600"}`,children:["Final:"," ",Q,Ae.final," ",ke]})]})]},T.id)})})]}),A==="management"&&a.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:t("vendor.management.testimonials")}),a.jsx("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:m.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:e==="es"?"No hay testimonios an":"No testimonials yet"}):m.map(T=>a.jsxs("div",{className:"flex justify-between items-center p-3 border-b hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("p",{className:"font-semibold",children:[e==="es"?"Usuario":"User"," #",T.user_id?.substring(0,8)]}),T.is_featured&&a.jsx(hf,{className:"w-4 h-4 text-purple-500",title:e==="es"?"Destacado":"Featured"}),a.jsx("span",{className:"text-yellow-500",children:"".repeat(T.rating)})]}),a.jsxs("p",{className:"text-sm italic text-gray-600",children:['"',T.comment,'"']}),T.user_photo&&a.jsx("img",{src:T.user_photo,alt:"User",className:"w-8 h-8 rounded-full mt-2"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ve,{size:"sm",variant:T.is_featured?"default":"outline",onClick:()=>Ce(T.id,T.is_featured),title:e==="es"?"Destacar/Quitar destaque":"Feature/Unfeature",children:T.is_featured?a.jsxs(a.Fragment,{children:[a.jsx(hf,{className:"mr-2 h-4 w-4"}),e==="es"?"Destacado":"Featured"]}):a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),"Normal"]})}),a.jsx(ve,{size:"sm",variant:T.is_visible?"default":"outline",onClick:()=>$e(T.id,T.is_visible),children:T.is_visible?a.jsxs(a.Fragment,{children:[a.jsx(ql,{className:"mr-2 h-4 w-4"}),t("vendor.management.hide")]}):a.jsxs(a.Fragment,{children:[a.jsx(TE,{className:"mr-2 h-4 w-4"}),t("vendor.management.show")]})})]})]},T.id))})]})})]})},lO=({onNavigate:t})=>{const{t:e}=Yt(),{user:r,isAdmin:s,isSuperAdmin:o,userRole:l}=gr();return console.log("AdminPage Access Check:",{user:r?.email,isAdmin:s,isSuperAdmin:o,userRole:l}),!r||!s&&!o?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:e("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:e("dashboard.adminOnly")})]})}):a.jsx("div",{children:a.jsx(aO,{onNavigate:t})})},ab=async()=>{try{const{data:t,error:e}=await ae.from("currencies").select("*").eq("is_active",!0).order("code",{ascending:!0});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching currencies:",t),{data:[],error:t}}},cO=async t=>{try{const{data:e,error:r}=await ae.from("currencies").insert([{code:t.code.toUpperCase(),name_es:t.name_es,name_en:t.name_en,symbol:t.symbol,is_base:t.is_base||!1,is_active:!0}]).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error creating currency:",e),{data:null,error:e}}},uO=async(t,e)=>{try{const{data:r,error:s}=await ae.from("currencies").update({name_es:e.name_es,name_en:e.name_en,symbol:e.symbol,is_base:e.is_base!==void 0?e.is_base:!1,is_active:e.is_active!==void 0?e.is_active:!0,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error updating currency:",r),{data:null,error:r}}},dO=async t=>{try{const{error:e}=await ae.from("currencies").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting currency:",e),{data:!1,error:e}}},fO=async(t,e)=>{try{if(t===e)return{data:1,error:null};const{data:r,error:s}=await ae.from("currencies").select("id, code").in("code",[t,e]).eq("is_active",!0);if(s)throw s;if(!r||r.length!==2)throw new Error("One or both currencies not found");const o=r.find(p=>p.code===t),l=r.find(p=>p.code===e),{data:u,error:d}=await ae.from("exchange_rates").select("rate").eq("from_currency_id",o.id).eq("to_currency_id",l.id).eq("is_active",!0).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(d)throw d;if(u)return{data:parseFloat(u.rate),error:null};const{data:h,error:m}=await ae.from("exchange_rates").select("rate").eq("from_currency_id",l.id).eq("to_currency_id",o.id).eq("is_active",!0).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(m)throw m;return h?{data:1/parseFloat(h.rate),error:null}:(console.warn(`No exchange rate found for ${t} to ${e}, using 1:1`),{data:1,error:null})}catch(r){return console.error("Error getting exchange rate:",r),{data:null,error:r}}},Nv=async(t,e,r)=>{try{const{data:s,error:o}=await fO(e,r);if(o)throw o;return{data:t*s,error:null}}catch(s){return console.error("Error converting currency:",s),{data:null,error:s}}},hO=async()=>{try{const t=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!t.ok)throw new Error("Failed to fetch exchange rates");const e=await t.json();return{data:{EUR:1/(e.rates.EUR||1),GBP:1/(e.rates.GBP||1),CAD:1/(e.rates.CAD||1),MXN:1/(e.rates.MXN||1),USD:1},error:null}}catch(t){return console.error("Error fetching official rates:",t),{data:null,error:t}}},mO=async()=>{try{const{data:t,error:e}=await ae.from("exchange_rates").select(`
        id,
        rate,
        effective_date,
        is_active,
        from_currency:from_currency_id(id, code, name_es, name_en, symbol),
        to_currency:to_currency_id(id, code, name_es, name_en, symbol)
      `).eq("is_active",!0).order("effective_date",{ascending:!1});if(e)throw e;return{data:t||[],error:null}}catch(t){return console.error("Error fetching exchange rates:",t),{data:[],error:t}}},kv=async t=>{try{const{data:e,error:r}=await ae.from("exchange_rates").upsert({from_currency_id:t.fromCurrencyId,to_currency_id:t.toCurrencyId,rate:parseFloat(t.rate),effective_date:t.effectiveDate||new Date().toISOString().split("T")[0],is_active:!0},{onConflict:"from_currency_id,to_currency_id,effective_date"}).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error saving exchange rate:",e),{data:null,error:e}}},pO=async t=>{try{const{error:e}=await ae.from("exchange_rates").update({is_active:!1}).eq("id",t);if(e)throw e;return{data:!0,error:null}}catch(e){return console.error("Error deleting exchange rate:",e),{data:!1,error:e}}},gO=async()=>{try{const{data:t,error:e}=await ae.from("shipping_zones").select("*").eq("is_active",!0).order("province_name",{ascending:!0});if(e)throw e;return{success:!0,zones:t||[]}}catch(t){return console.error("Error fetching active shipping zones:",t),{success:!1,error:t.message,zones:[]}}},yO=async()=>{try{const{data:t,error:e}=await ae.from("shipping_zones").select("*").order("province_name",{ascending:!0});if(e)throw e;return{success:!0,zones:t||[]}}catch(t){return console.error("Error fetching all shipping zones:",t),{success:!1,error:t.message,zones:[]}}},vO=async t=>{try{const{data:e,error:r}=await ae.from("shipping_zones").select("*").eq("province_name",t).eq("is_active",!0).single();if(r)throw r;return{success:!0,zone:e}}catch(e){return console.error("Error fetching shipping zone by province:",e),{success:!1,error:e.message}}},xO=async(t,e=0)=>{try{const r=await vO(t);if(!r.success)return{success:!1,error:"Province not found",cost:0,freeShipping:!1};const s=r.zone;return s.free_shipping?{success:!0,cost:0,freeShipping:!0,zone:s}:{success:!0,cost:parseFloat(s.shipping_cost),freeShipping:!1,zone:s}}catch(r){return console.error("Error calculating shipping cost:",r),{success:!1,error:r.message,cost:0,freeShipping:!1}}},wO=async t=>{try{const e={province_name:t.provinceName,shipping_cost:parseFloat(t.shippingCost||0),is_active:t.isActive!==void 0?t.isActive:!0,free_shipping:t.freeShipping||!1},{data:r,error:s}=await ae.from("shipping_zones").insert(e).select().single();if(s)throw s;return{success:!0,zone:r}}catch(e){return console.error("Error creating shipping zone:",e),{success:!1,error:e.message}}},bO=async(t,e)=>{try{const r={};e.provinceName!==void 0&&(r.province_name=e.provinceName),e.shippingCost!==void 0&&(r.shipping_cost=parseFloat(e.shippingCost)),e.isActive!==void 0&&(r.is_active=e.isActive),e.freeShipping!==void 0&&(r.free_shipping=e.freeShipping),r.updated_at=new Date().toISOString();const{data:s,error:o}=await ae.from("shipping_zones").update(r).eq("id",t).select().single();if(o)throw o;return{success:!0,zone:s}}catch(r){return console.error("Error updating shipping zone:",r),{success:!1,error:r.message}}},lb=[{id:"pinar_del_rio",name:"Pinar del Ro",municipalities:["Consolacin del Sur","Guane","La Palma","Los Palacios","Mantua","Minas de Matahambre","Pinar del Ro","San Juan y Martnez","San Luis","Sandino","Viales"]},{id:"artemisa",name:"Artemisa",municipalities:["Alquzar","Artemisa","Baha Honda","Bauta","Caimito","Candelaria","Guanajay","Gira de Melena","Mariel","San Antonio de los Baos","San Cristbal"]},{id:"la_habana",name:"La Habana",municipalities:["Arroyo Naranjo","Boyeros","Centro Habana","Cerro","Cotorro","Diez de Octubre","Guanabacoa","Habana del Este","Habana Vieja","La Lisa","Marianao","Playa","Plaza de la Revolucin","Regla","San Miguel del Padrn"]},{id:"mayabeque",name:"Mayabeque",municipalities:["Bataban","Bejucal","Gines","Jaruco","Madruga","Melena del Sur","Nueva Paz","Quivicn","San Jos de las Lajas","San Nicols","Santa Cruz del Norte"]},{id:"matanzas",name:"Matanzas",municipalities:["Calimete","Crdenas","Cinaga de Zapata","Coln","Jagey Grande","Jovellanos","Limonar","Los Arabos","Mart","Matanzas","Pedro Betancourt","Perico","Unin de Reyes"]},{id:"cienfuegos",name:"Cienfuegos",municipalities:["Abreus","Aguada de Pasajeros","Cienfuegos","Cruces","Cumanayagua","Palmira","Rodas","Santa Isabel de las Lajas"]},{id:"villa_clara",name:"Villa Clara",municipalities:["Caibarin","Camajuan","Cifuentes","Corralillo","Encrucijada","Manicaragua","Placetas","Quemado de Gines","Ranchuelo","Remedios","Sagua la Grande","Santa Clara","Santo Domingo"]},{id:"sancti_spiritus",name:"Sancti Spritus",municipalities:["Cabaigun","Fomento","Jatibonico","La Sierpe","Sancti Spritus","Taguasco","Trinidad","Yaguajay"]},{id:"ciego_de_avila",name:"Ciego de vila",municipalities:["Baragu","Bolivia","Chambas","Ciego de vila","Ciro Redondo","Florencia","Majagua","Morn","Primero de Enero","Venezuela"]},{id:"camaguey",name:"Camagey",municipalities:["Camagey","Carlos Manuel de Cspedes","Esmeralda","Florida","Guimaro","Jimagay","Minas","Najasa","Nuevitas","Santa Cruz del Sur","Sibanic","Sierra de Cubitas","Vertientes"]},{id:"las_tunas",name:"Las Tunas",municipalities:["Amancio","Colombia","Jess Menndez","Jobabo","Las Tunas","Majibacoa","Manat","Puerto Padre"]},{id:"holguin",name:"Holgun",municipalities:["Antilla","Bguanos","Banes","Cacocum","Calixto Garca","Cueto","Frank Pas","Gibara","Holgun","Mayar","Moa","Rafael Freyre","Sagua de Tnamo","Urbano Noris"]},{id:"granma",name:"Granma",municipalities:["Bartolom Mas","Bayamo","Buey Arriba","Campechuela","Cauto Cristo","Guisa","Jiguan","Manzanillo","Media Luna","Niquero","Piln","Ro Cauto","Yara"]},{id:"santiago_de_cuba",name:"Santiago de Cuba",municipalities:["Contramaestre","Guam","Mella","Palma Soriano","San Luis","Santiago de Cuba","Segundo Frente","Songo-La Maya","Tercer Frente"]},{id:"guantanamo",name:"Guantnamo",municipalities:["Baracoa","Caimanera","El Salvador","Guantnamo","Imas","Mais","Manuel Tames","Niceto Prez","San Antonio del Sur","Yateras"]},{id:"isla_de_la_juventud",name:"Isla de la Juventud",municipalities:["Isla de la Juventud"]}],CO=t=>{const e=lb.find(r=>r.name===t);return e?e.municipalities:[]},_O=()=>lb.map(t=>t.name),jO=()=>{const{t,language:e}=Yt(),{financialSettings:r,setFinancialSettings:s,notificationSettings:o,setNotificationSettings:l,visualSettings:u,setVisualSettings:d,zelleAccounts:h,setZelleAccounts:m}=Vt(),{user:p,isAdmin:y}=gr(),[x,w]=b.useState(r),[j,C]=b.useState(o),[N,O]=b.useState(u),[k,_]=b.useState({companyName:u.companyName||"PapuEnvos",logo:u.logo||"",primaryColor:u.primaryColor||"#2563eb",secondaryColor:u.secondaryColor||"#9333ea",useGradient:u.useGradient!==void 0?u.useGradient:!0,headerBgColor:u.headerBgColor||"#ffffff",headerTextColor:u.headerTextColor||"#1f2937",headingColor:u.headingColor||"#1f2937",useHeadingGradient:u.useHeadingGradient!==void 0?u.useHeadingGradient:!0,buttonBgColor:u.buttonBgColor||"#2563eb",buttonTextColor:u.buttonTextColor||"#ffffff",buttonHoverBgColor:u.buttonHoverBgColor||"#1d4ed8",destructiveBgColor:u.destructiveBgColor||"#dc2626",destructiveTextColor:u.destructiveTextColor||"#ffffff",destructiveHoverBgColor:u.destructiveHoverBgColor||"#b91c1c",accentColor:u.accentColor||"#9333ea",pageBgColor:u.pageBgColor||"#f9fafb",cardBgColor:u.cardBgColor||"#ffffff"}),[A,F]=b.useState(u.logo||""),[M,I]=b.useState([]),[W,Z]=b.useState(null),[B,ge]=b.useState(null),[ie,X]=b.useState(!1),[z,ue]=b.useState({code:"",name_es:"",name_en:"",symbol:"",is_base:!1}),[he,le]=b.useState({}),[H,ee]=b.useState([]),[te,E]=b.useState(!1),[D,K]=b.useState(null),[ce,xe]=b.useState(null),[pe,be]=b.useState({}),[ye,Oe]=b.useState([]),[qe,Y]=b.useState(!1),[$e,Ce]=b.useState(null),[T,de]=b.useState([]),[J,Te]=b.useState(!1),[Ae,Q]=b.useState(null),[ke,Re]=b.useState([]),[Ve,it]=b.useState(!1),[vt,ht]=b.useState(!1),[De,yr]=b.useState({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]});b.useEffect(()=>{As(),qn(),Ds(),Rs(),Ms(),Rr()},[]);const qn=async()=>{X(!0);try{const{data:P,error:U}=await hO();if(U)throw U;ge(P)}catch(P){console.error("Error loading official rates:",P)}finally{X(!1)}};if(!p||!y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",style:Ye(u),children:t("dashboard.privateAccess")}),a.jsx("p",{className:"text-gray-600",children:t("dashboard.adminOnly")})]})});const As=async()=>{try{const{data:P,error:U}=await ab();if(U)throw U;I(P||[])}catch(P){console.error("Error loading currencies:",P),se({title:"Error",description:e==="es"?"Error al cargar monedas":"Error loading currencies",variant:"destructive"})}},Hn=()=>{s(x),se({title:t("settings.saveSuccess")})},Gn=async()=>{if(!z.code||!z.name_es||!z.name_en||!z.symbol){se({title:"Error",description:e==="es"?"Por favor complete todos los campos":"Please fill all fields",variant:"destructive"});return}try{const{supabase:P}=await Oi(async()=>{const{supabase:we}=await Promise.resolve().then(()=>yT);return{supabase:we}},void 0);z.is_base&&await P.from("currencies").update({is_base:!1}).eq("is_base",!0).neq("id",W?.id||"00000000-0000-0000-0000-000000000000");let U;if(W){const{data:we,error:Ue}=await uO(W.id,z);if(Ue)throw Ue;U=we,se({title:e==="es"?"Moneda actualizada":"Currency Updated",description:e==="es"?"La moneda se actualiz exitosamente":"Currency was updated successfully"})}else{const{data:we,error:Ue}=await cO(z);if(Ue)throw Ue;U=we,se({title:e==="es"?"Moneda creada":"Currency Created",description:e==="es"?"La moneda se cre exitosamente":"Currency was created successfully"})}ue({code:"",name_es:"",name_en:"",symbol:"",is_base:!1}),Z(null),await As()}catch(P){console.error("Error saving currency:",P),se({title:"Error",description:P.message,variant:"destructive"})}},xc=async P=>{Z(P),ue({code:P.code,name_es:P.name_es,name_en:P.name_en,symbol:P.symbol,is_base:P.is_base||!1})},ia=async P=>{if(confirm(e==="es"?"Est seguro de que desea eliminar esta moneda? Esto tambin eliminar sus tasas de cambio.":"Are you sure you want to delete this currency? This will also remove its exchange rates."))try{await ae.from("exchange_rates").update({is_active:!1}).or(`from_currency_id.eq.${P},to_currency_id.eq.${P}`);const{error:we}=await dO(P);if(we)throw we;se({title:e==="es"?"Moneda eliminada":"Currency Deleted",description:e==="es"?"La moneda y sus tasas de cambio se eliminaron exitosamente":"Currency and its exchange rates were deleted successfully"}),await As()}catch(we){console.error("Error deleting currency:",we),se({title:"Error",description:we.message,variant:"destructive"})}},oa=()=>{Z(null),ue({code:"",name_es:"",name_en:"",symbol:"",is_base:!1})},wc=()=>{l(j),se({title:t("settings.saveSuccess")})},Rs=async()=>{Y(!0);try{const P=await yO();if(P.success){const U=_O(),we=P.zones.map(dt=>dt.province_name),Ue=U.filter(dt=>!we.includes(dt)),Ge=[...P.zones,...Ue.map(dt=>({id:`temp-${dt}`,province_name:dt,shipping_cost:0,is_active:!1,free_shipping:!1,is_new:!0}))];Oe(Ge.sort((dt,bc)=>dt.province_name.localeCompare(bc.province_name)))}}catch(P){console.error("Error loading shipping zones:",P),se({title:e==="es"?"Error al cargar zonas":"Error loading zones",description:P.message,variant:"destructive"})}finally{Y(!1)}},Os=async(P,U)=>{Ce(P);try{const we=ye.find(Ue=>Ue.id===P);we.is_new?(await wO({provinceName:we.province_name,shippingCost:U.shipping_cost??we.shipping_cost,isActive:U.is_active??we.is_active??!0,freeShipping:U.free_shipping??we.free_shipping??!1})).success&&(await Rs(),se({title:e==="es"?" Zona creada":" Zone created"})):(await bO(P,{shippingCost:U.shipping_cost,isActive:U.is_active,freeShipping:U.free_shipping})).success&&(Oe(Ge=>Ge.map(dt=>dt.id===P?{...dt,...U}:dt)),se({title:e==="es"?" Zona actualizada":" Zone updated"}))}catch(we){console.error("Error updating shipping zone:",we),se({title:e==="es"?"Error al guardar":"Save error",description:we.message,variant:"destructive"})}finally{Ce(null)}},Ms=async()=>{Te(!0);try{const P=await Nh();P.success&&de(P.configs)}catch(P){console.error("Error loading remittance configs:",P),se({title:e==="es"?"Error al cargar configuracin":"Error loading config",description:P.message,variant:"destructive"})}finally{Te(!1)}},Is=async(P,U)=>{Q(P);try{const Ue={...T.find(dt=>dt.id===P),...U};(await rO(Ue)).success&&(await Ms(),se({title:e==="es"?" Configuracin guardada":" Configuration saved"}))}catch(we){console.error("Error updating remittance config:",we),se({title:e==="es"?"Error al guardar":"Save error",description:we.message,variant:"destructive"})}finally{Q(null)}},Li=async(P,U)=>{const Ue=T.find(Ge=>Ge.id===P).paymentMethods.map(Ge=>Ge.id===U?{...Ge,enabled:!Ge.enabled}:Ge);await Is(P,{paymentMethods:Ue})},Rr=async()=>{it(!0);try{const{data:P,error:U}=await mO();!U&&P&&Re(P)}catch(P){console.error("Error loading exchange rates:",P)}finally{it(!1)}},cn=async()=>{if(!De.fromCurrencyId||!De.toCurrencyId||!De.rate){se({title:e==="es"?"Datos incompletos":"Incomplete data",description:e==="es"?"Por favor complete todos los campos":"Please fill all fields",variant:"destructive"});return}if(De.fromCurrencyId===De.toCurrencyId){se({title:"Error",description:e==="es"?"Las monedas deben ser diferentes":"Currencies must be different",variant:"destructive"});return}try{const P=await kv(De);if(P.error)throw P.error;const U={fromCurrencyId:De.toCurrencyId,toCurrencyId:De.fromCurrencyId,rate:(1/parseFloat(De.rate)).toString(),effectiveDate:De.effectiveDate},we=await kv(U);if(we.error)throw we.error;await Rr(),ht(!1),yr({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]}),se({title:e==="es"?" Tasas guardadas":" Rates saved",description:e==="es"?"La tasa de cambio y su inversa se guardaron correctamente":"Exchange rate and its inverse saved successfully"})}catch(P){console.error("Error saving rate:",P),se({title:e==="es"?"Error al guardar":"Save error",description:P.message,variant:"destructive"})}},aa=async P=>{if(confirm(e==="es"?"Eliminar esta tasa?":"Delete this rate?"))try{const U=await pO(P);if(U.error)throw U.error;await Rr(),se({title:e==="es"?" Tasa eliminada":" Rate deleted"})}catch(U){console.error("Error deleting rate:",U),se({title:"Error",description:U.message,variant:"destructive"})}},la=async P=>{const U=P.target.files?.[0];if(U)try{const we=await Ko(U,"logo");if(!we.success){se({title:e==="es"?"Error de validacin":"Validation error",description:we.errors.join(`
`),variant:"destructive"});return}F(we.base64),_(Ue=>({...Ue,logo:we.base64})),se({title:e==="es"?"Logo cargado":"Logo uploaded",description:e==="es"?`${we.metadata.originalDimensions}  ${we.metadata.finalDimensions}`:`${we.metadata.originalDimensions}  ${we.metadata.finalDimensions}`})}catch(we){console.error("Error processing logo:",we),se({title:e==="es"?"Error al procesar imagen":"Error processing image",description:we.message,variant:"destructive"})}},ca=()=>{d({...u,...k}),document.title=k.companyName,se({title:t("settings.saveSuccess"),description:e==="es"?"Personalizacin guardada. Recarga la pgina para ver todos los cambios.":"Customization saved. Reload the page to see all changes."})},Ds=async()=>{E(!0);try{const{data:P,error:U}=await gw();if(U)throw U;ee(P||[])}catch(P){console.error("Error loading carousel slides:",P),se({title:"Error al cargar diapositivas",description:P.message,variant:"destructive"})}finally{E(!1)}},ua=async()=>{try{const{data:P,error:U}=await TT({title_es:"",title_en:"",subtitle_es:"",subtitle_en:"",image_url:"",link_url:"",is_active:!1});if(U)throw U;await Ds(),se({title:e==="es"?"Diapositiva creada":"Slide created",description:e==="es"?"Nueva diapositiva agregada exitosamente":"New slide added successfully"})}catch(P){console.error("Error creating slide:",P),se({title:"Error",description:P.message,variant:"destructive"})}},qr=async(P,U)=>{try{K(P),xe(null);const{error:we}=await lv(P,U);if(we)throw we;ee(Ue=>Ue.map(Ge=>Ge.id===P?{...Ge,...U}:Ge)),K(null),xe(P),setTimeout(()=>xe(null),1500)}catch(we){console.error("Error updating slide:",we),K(null),se({title:"Error al actualizar",description:we.message,variant:"destructive"})}},Kn=(P,U,we)=>{ee(Ge=>Ge.map(dt=>dt.id===P?{...dt,[U]:we}:dt)),pe[P]&&clearTimeout(pe[P]);const Ue=setTimeout(()=>{qr(P,{[U]:we})},800);be(Ge=>({...Ge,[P]:Ue}))},Qn=async P=>{if(confirm(e==="es"?"Eliminar esta diapositiva?":"Delete this slide?"))try{const{error:U}=await AT(P);if(U)throw U;await Ds(),le(we=>{const Ue={...we};return delete Ue[P],Ue}),se({title:e==="es"?"Diapositiva eliminada":"Slide deleted",description:e==="es"?"La diapositiva fue eliminada exitosamente":"Slide was deleted successfully"})}catch(U){console.error("Error deleting slide:",U),se({title:"Error",description:U.message,variant:"destructive"})}},$i=async(P,U)=>{try{K(P),xe(null);const{error:we}=await lv(P,{display_order:parseInt(U)});if(we)throw we;ee(Ue=>Ue.map(Ge=>Ge.id===P?{...Ge,display_order:parseInt(U)}:Ge).sort((Ge,dt)=>(Ge.display_order??0)-(dt.display_order??0))),K(null),xe(P),setTimeout(()=>xe(null),1500)}catch(we){console.error("Error updating slide order:",we),K(null),se({title:"Error",description:we.message,variant:"destructive"})}},Xn=async(P,U)=>{const we=U.target.files?.[0];if(we)try{const Ue=await Ko(we,"carousel");if(!Ue.success){se({title:"Error de validacin",description:Ue.errors.join(`
`),variant:"destructive"});return}await qr(P,{image_url:Ue.base64}),le(Ge=>({...Ge,[P]:Ue.base64})),se({title:"Imagen optimizada",description:`${Ue.metadata.originalDimensions}  ${Ue.metadata.finalDimensions} (${Ue.metadata.compression} compresin)`})}catch(Ue){console.error("Error processing slide image:",Ue),se({title:"Error al procesar imagen",description:Ue.message,variant:"destructive"})}};return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(u),children:t("settings.title")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t("settings.subtitle")})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(Cs,{className:"mr-3 text-blue-600"}),t("settings.financial.title")]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("input",{type:"number",value:x.usdToLocal,onChange:P=>w({...x,usdToLocal:parseFloat(P.target.value)}),placeholder:t("settings.financial.usdToLocal"),className:"input-style"}),a.jsx("input",{type:"number",value:x.productProfit,onChange:P=>w({...x,productProfit:parseFloat(P.target.value)}),placeholder:t("settings.financial.productProfit"),className:"input-style"}),a.jsx("input",{type:"number",value:x.comboProfit,onChange:P=>w({...x,comboProfit:parseFloat(P.target.value)}),placeholder:t("settings.financial.comboProfit"),className:"input-style"}),a.jsx("input",{type:"number",value:x.remittanceProfit,onChange:P=>w({...x,remittanceProfit:parseFloat(P.target.value)}),placeholder:t("settings.financial.remittanceProfit"),className:"input-style"})]}),a.jsxs("div",{className:"border-t pt-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:e==="es"?"Configuracin de Envo":"Shipping Configuration"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Tipo de Envo":"Shipping Type"}),a.jsxs("select",{value:x.shippingType||"undetermined",onChange:P=>w({...x,shippingType:P.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"free",children:e==="es"?"Gratis":"Free"}),a.jsx("option",{value:"fixed",children:e==="es"?"Tarifa Fija":"Fixed Rate"}),a.jsx("option",{value:"undetermined",children:e==="es"?"Por Determinar (segn ubicacin)":"To Be Determined (based on location)"}),a.jsx("option",{value:"calculated",children:e==="es"?"Calculado (con umbral gratis)":"Calculated (with free threshold)"})]})]}),x.shippingType==="fixed"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Costo Fijo de Envo ($)":"Fixed Shipping Cost ($)"}),a.jsx("input",{type:"number",step:"0.01",value:x.shippingFixedAmount||0,onChange:P=>w({...x,shippingFixedAmount:parseFloat(P.target.value)}),placeholder:"0.00",className:"input-style w-full"})]}),(x.shippingType==="calculated"||x.shippingType==="undetermined")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:e==="es"?"Umbral para Envo Gratis ($)":"Free Shipping Threshold ($)"}),a.jsx("input",{type:"number",step:"0.01",value:x.shippingFreeThreshold||100,onChange:P=>w({...x,shippingFreeThreshold:parseFloat(P.target.value)}),placeholder:"100.00",className:"input-style w-full"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Pedidos superiores a este monto tendrn envo gratis":"Orders above this amount will have free shipping"})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gray-700",children:[x.shippingType==="free"&&(e==="es"?" Envo gratis: No se cobrar envo en ningn pedido":" Free shipping: No shipping charge on any order"),x.shippingType==="fixed"&&(e==="es"?" Tarifa fija: Se cobrar el mismo monto de envo en todos los pedidos":" Fixed rate: Same shipping amount will be charged on all orders"),x.shippingType==="undetermined"&&(e==="es"?' Por determinar: El costo de envo se mostrar como "Por determinar" y se calcular segn la ubicacin del destinatario':' To be determined: Shipping cost will show as "To be determined" and will be calculated based on recipient location'),x.shippingType==="calculated"&&(e==="es"?" Calculado: Envo gratis si el pedido supera el umbral, de lo contrario se determinar segn ubicacin":" Calculated: Free shipping if order exceeds threshold, otherwise determined by location")]})})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:t("settings.financial.currencies")}),a.jsxs(ve,{onClick:qn,disabled:ie,variant:"outline",size:"sm",children:[a.jsx(Cs,{className:"w-4 h-4 mr-2"}),ie?e==="es"?"Cargando...":"Loading...":e==="es"?"Cargar Tasas Oficiales":"Load Official Rates"]})]}),B&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:[a.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:e==="es"?"Tasas Oficiales (Referencia)":"Official Rates (Reference)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-sm",children:Object.entries(B).map(([P,U])=>a.jsxs("div",{className:"bg-white p-2 rounded flex justify-between",children:[a.jsxs("span",{className:"font-bold",children:[P,":"]}),a.jsx("span",{className:"font-mono",children:Number(U).toFixed(4)})]},P))}),a.jsx("p",{className:"text-xs text-gray-600 mt-2",children:e==="es"?"Tasas de referencia. Configure las tasas de cambio en la seccin de Exchange Rates.":"Reference rates. Configure exchange rates in the Exchange Rates section."})]}),a.jsx("div",{className:"space-y-2 mb-6",children:M.map(P=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"font-bold w-16",children:P.code}),a.jsx("span",{className:"flex-1",children:e==="es"?P.name_es:P.name_en}),a.jsx("span",{className:"w-12 text-center",children:P.symbol}),P.is_base&&a.jsx("span",{className:"text-xs text-white px-2 py-1 rounded font-semibold",style:{background:u.useGradient?`linear-gradient(to right, ${u.primaryColor}, ${u.secondaryColor})`:u.primaryColor},children:"Base"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ve,{variant:"outline",size:"icon",onClick:()=>xc(P),children:a.jsx(Ol,{className:"h-4 w-4"})}),a.jsx(ve,{variant:"destructive",size:"icon",onClick:()=>ia(P.id),children:a.jsx(Do,{className:"h-4 w-4"})})]})]},P.id))}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:W?e==="es"?"Editar Moneda":"Edit Currency":e==="es"?"Nueva Moneda":"New Currency"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.code")}),a.jsx("input",{value:z.code,onChange:P=>ue({...z,code:P.target.value.toUpperCase()}),placeholder:"USD",className:"input-style w-full",maxLength:3,disabled:W!==null})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.nameES")}),a.jsx("input",{value:z.name_es,onChange:P=>ue({...z,name_es:P.target.value}),placeholder:"Dlar",className:"input-style w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.nameEN")}),a.jsx("input",{value:z.name_en,onChange:P=>ue({...z,name_en:P.target.value}),placeholder:"Dollar",className:"input-style w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:t("settings.financial.symbol")}),a.jsx("input",{value:z.symbol,onChange:P=>ue({...z,symbol:P.target.value}),placeholder:"$",className:"input-style w-full",maxLength:3})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:z.is_base,onChange:P=>ue({...z,is_base:P.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Moneda Base":"Base Currency"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e==="es"?'La moneda base se usa como referencia. Configure las tasas de cambio en la seccin "Tasas de Cambio".':'The base currency is used as reference. Configure exchange rates in the "Exchange Rates" section.'})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ve,{onClick:Gn,className:"flex-1",style:ct(u),children:W?a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),t("settings.financial.updateCurrency")]}):a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),t("settings.financial.addCurrency")]})}),W&&a.jsx(ve,{variant:"outline",onClick:oa,children:e==="es"?"Cancelar":"Cancel"})]})]})]}),a.jsx("div",{className:"mt-6 text-right",children:a.jsxs(ve,{onClick:Hn,style:ct(u),children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),t("settings.financial.save")]})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-effect p-6 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold",style:Ye(u),children:e==="es"?"Tasas de Cambio":"Exchange Rates"}),a.jsxs(ve,{onClick:()=>ht(!vt),style:ct(u),children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),e==="es"?"Nueva Tasa":"New Rate"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:e==="es"?"Configure las tasas de cambio entre diferentes monedas. Las tasas se usan para convertir precios y totales.":"Configure exchange rates between different currencies. Rates are used to convert prices and totals."}),vt&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:e==="es"?"Nueva Tasa de Cambio":"New Exchange Rate"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Desde Moneda":"From Currency"}),a.jsxs("select",{value:De.fromCurrencyId,onChange:P=>yr({...De,fromCurrencyId:P.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar...":"Select..."}),M.map(P=>a.jsxs("option",{value:P.id,children:[P.code," - ",e==="es"?P.name_es:P.name_en]},P.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Hacia Moneda":"To Currency"}),a.jsxs("select",{value:De.toCurrencyId,onChange:P=>yr({...De,toCurrencyId:P.target.value}),className:"input-style w-full",children:[a.jsx("option",{value:"",children:e==="es"?"Seleccionar...":"Select..."}),M.map(P=>a.jsxs("option",{value:P.id,children:[P.code," - ",e==="es"?P.name_es:P.name_en]},P.id))]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium",children:e==="es"?"Tasa":"Rate"}),B&&De.toCurrencyId&&(()=>{const P=M.find(we=>we.id===De.toCurrencyId),U=M.find(we=>we.id===De.fromCurrencyId);return P&&U&&B[P.code]?a.jsxs("span",{className:"text-xs text-blue-600",children:["Ref: ",B[P.code].toFixed(6)]}):null})()]}),a.jsx("input",{type:"number",step:"0.000001",value:De.rate,onChange:P=>yr({...De,rate:P.target.value}),placeholder:"1.0",className:"input-style w-full"}),B&&De.toCurrencyId&&(()=>{const P=M.find(U=>U.id===De.toCurrencyId);return P&&B[P.code]?a.jsx("button",{type:"button",onClick:()=>yr({...De,rate:B[P.code].toString()}),className:"text-xs text-blue-600 hover:text-blue-800 underline mt-1",children:e==="es"?"Usar tasa oficial":"Use official rate"}):null})()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e==="es"?"Fecha Efectiva":"Effective Date"}),a.jsx("input",{type:"date",value:De.effectiveDate,onChange:P=>yr({...De,effectiveDate:P.target.value}),className:"input-style w-full"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ve,{onClick:cn,className:"flex-1",style:ct(u),children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),e==="es"?"Guardar Tasa":"Save Rate"]}),a.jsx(ve,{variant:"outline",onClick:()=>{ht(!1),yr({fromCurrencyId:"",toCurrencyId:"",rate:"",effectiveDate:new Date().toISOString().split("T")[0]})},children:e==="es"?"Cancelar":"Cancel"})]})]}),Ve?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):ke.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:e==="es"?"No hay tasas de cambio configuradas. Cree una nueva tasa usando el botn de arriba.":"No exchange rates configured. Create a new rate using the button above."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Desde":"From"}),a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Hacia":"To"}),a.jsx("th",{className:"text-right py-2 px-3",children:e==="es"?"Tasa":"Rate"}),a.jsx("th",{className:"text-left py-2 px-3",children:e==="es"?"Fecha":"Date"}),a.jsx("th",{className:"text-center py-2 px-3",children:e==="es"?"Acciones":"Actions"})]})}),a.jsx("tbody",{children:ke.map(P=>a.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"py-2 px-3",children:[a.jsx("span",{className:"font-bold",children:P.from_currency.code}),a.jsx("span",{className:"text-xs text-gray-600 ml-1",children:e==="es"?P.from_currency.name_es:P.from_currency.name_en})]}),a.jsxs("td",{className:"py-2 px-3",children:[a.jsx("span",{className:"font-bold",children:P.to_currency.code}),a.jsx("span",{className:"text-xs text-gray-600 ml-1",children:e==="es"?P.to_currency.name_es:P.to_currency.name_en})]}),a.jsx("td",{className:"text-right py-2 px-3 font-mono",children:Number(P.rate).toFixed(6)}),a.jsx("td",{className:"py-2 px-3 text-sm text-gray-600",children:new Date(P.effective_date).toLocaleDateString(e==="es"?"es-ES":"en-US")}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(ve,{variant:"destructive",size:"icon",onClick:()=>aa(P.id),children:a.jsx(Do,{className:"h-4 w-4"})})})})]},P.id))})]})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(RE,{className:"mr-3 text-purple-600"}),t("settings.visual.title")]}),a.jsxs("div",{className:"mb-8 pb-8 border-b",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[a.jsx(VE,{className:"mr-3 text-indigo-600"}),e==="es"?"Personalizacin de Apariencia":"Appearance Customization"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e==="es"?"Logo de la Empresa":"Company Logo"}),A&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("div",{className:"relative w-40 h-40 rounded-lg overflow-hidden border-2 border-gray-300 bg-white p-2 flex items-center justify-center",children:a.jsx("img",{src:A,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})})}),a.jsx("input",{type:"file",accept:"image/png,image/svg+xml,image/webp",onChange:la,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: PNG o SVG con fondo transparente, 200x200px, mx 2MB":"Recommended: PNG or SVG with transparent background, 200x200px, max 2MB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Nombre de la Empresa":"Company Name"}),a.jsx("input",{type:"text",value:k.companyName,onChange:P=>_(U=>({...U,companyName:P.target.value})),placeholder:"PapuEnvos",className:"w-full input-style"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Se mostrar en el encabezado y en el ttulo de la pgina":"Will be displayed in the header and page title"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color Primario":"Primary Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.primaryColor,onChange:P=>_(U=>({...U,primaryColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.primaryColor,onChange:P=>_(U=>({...U,primaryColor:P.target.value})),placeholder:"#2563eb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color Secundario":"Secondary Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.secondaryColor,onChange:P=>_(U=>({...U,secondaryColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.secondaryColor,onChange:P=>_(U=>({...U,secondaryColor:P.target.value})),placeholder:"#9333ea",className:"flex-1 input-style font-mono text-sm"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:k.useGradient,onChange:P=>_(U=>({...U,useGradient:P.target.checked})),className:"rounded w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Usar gradiente en elementos de marca":"Use gradient in brand elements"})]})}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores del Encabezado":"Header Colors"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Fondo":"Background Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.headerBgColor,onChange:P=>_(U=>({...U,headerBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.headerBgColor,onChange:P=>_(U=>({...U,headerBgColor:P.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Texto":"Text Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.headerTextColor,onChange:P=>_(U=>({...U,headerTextColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.headerTextColor,onChange:P=>_(U=>({...U,headerTextColor:P.target.value})),placeholder:"#1f2937",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e==="es"?"Ttulos y Encabezados":"Headings and Titles"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e==="es"?"Colores para ttulos principales de pginas y secciones":"Colors for main page and section titles"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Ttulos":"Heading Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.headingColor,onChange:P=>_(U=>({...U,headingColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.headingColor,onChange:P=>_(U=>({...U,headingColor:P.target.value})),placeholder:"#1f2937",className:"flex-1 input-style font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Color slido cuando el gradiente est desactivado":"Solid color when gradient is disabled"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:k.useHeadingGradient,onChange:P=>_(U=>({...U,useHeadingGradient:P.target.checked})),className:"rounded w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Usar gradiente de marca en ttulos":"Use brand gradient in headings"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Aplica el gradiente de colores primario y secundario a los ttulos principales":"Applies the primary and secondary color gradient to main headings"})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores de Botones":"Button Colors"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo del Botn":"Button Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.buttonBgColor,onChange:P=>_(U=>({...U,buttonBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.buttonBgColor,onChange:P=>_(U=>({...U,buttonBgColor:P.target.value})),placeholder:"#2563eb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Texto del Botn":"Button Text"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.buttonTextColor,onChange:P=>_(U=>({...U,buttonTextColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.buttonTextColor,onChange:P=>_(U=>({...U,buttonTextColor:P.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Hover del Botn":"Button Hover"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.buttonHoverBgColor,onChange:P=>_(U=>({...U,buttonHoverBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.buttonHoverBgColor,onChange:P=>_(U=>({...U,buttonHoverBgColor:P.target.value})),placeholder:"#1d4ed8",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:e==="es"?"Botones Destructivos (Eliminar)":"Destructive Buttons (Delete)"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e==="es"?"Colores para acciones peligrosas como eliminar elementos":"Colors for dangerous actions like deleting items"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo":"Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.destructiveBgColor,onChange:P=>_(U=>({...U,destructiveBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.destructiveBgColor,onChange:P=>_(U=>({...U,destructiveBgColor:P.target.value})),placeholder:"#dc2626",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Texto":"Text"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.destructiveTextColor,onChange:P=>_(U=>({...U,destructiveTextColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.destructiveTextColor,onChange:P=>_(U=>({...U,destructiveTextColor:P.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hover"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.destructiveHoverBgColor,onChange:P=>_(U=>({...U,destructiveHoverBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.destructiveHoverBgColor,onChange:P=>_(U=>({...U,destructiveHoverBgColor:P.target.value})),placeholder:"#b91c1c",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:e==="es"?"Colores Adicionales":"Additional Colors"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Color de Acento":"Accent Color"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.accentColor,onChange:P=>_(U=>({...U,accentColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.accentColor,onChange:P=>_(U=>({...U,accentColor:P.target.value})),placeholder:"#9333ea",className:"flex-1 input-style font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e==="es"?"Para badges, enlaces y elementos destacados":"For badges, links and highlighted elements"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo de Pgina":"Page Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.pageBgColor,onChange:P=>_(U=>({...U,pageBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.pageBgColor,onChange:P=>_(U=>({...U,pageBgColor:P.target.value})),placeholder:"#f9fafb",className:"flex-1 input-style font-mono text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Fondo de Tarjetas":"Card Background"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"color",value:k.cardBgColor,onChange:P=>_(U=>({...U,cardBgColor:P.target.value})),className:"h-12 w-20 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:k.cardBgColor,onChange:P=>_(U=>({...U,cardBgColor:P.target.value})),placeholder:"#ffffff",className:"flex-1 input-style font-mono text-sm"})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"mb-4 p-4 rounded-lg shadow-md",style:{backgroundColor:k.headerBgColor},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[A?a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx("img",{src:A,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}):a.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center",style:{background:k.useGradient?`linear-gradient(to right, ${k.primaryColor}, ${k.secondaryColor})`:k.primaryColor},children:a.jsx(Er,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"text-lg font-bold",style:{backgroundImage:k.useGradient?`linear-gradient(to right, ${k.primaryColor}, ${k.secondaryColor})`:`linear-gradient(to right, ${k.primaryColor}, ${k.primaryColor})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:k.companyName||"PapuEnvos"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm",style:{color:k.headerTextColor},children:e==="es"?"Men":"Menu"})})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:k.buttonBgColor,color:k.buttonTextColor},onMouseEnter:P=>P.currentTarget.style.backgroundColor=k.buttonHoverBgColor,onMouseLeave:P=>P.currentTarget.style.backgroundColor=k.buttonBgColor,children:e==="es"?"Botn Estndar":"Standard Button"}),a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold text-white",style:{background:k.useGradient?`linear-gradient(to right, ${k.primaryColor}, ${k.secondaryColor})`:k.primaryColor},children:e==="es"?"Botn con Gradiente":"Gradient Button"}),a.jsx("div",{className:"px-6 py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:k.destructiveBgColor,color:k.destructiveTextColor},onMouseEnter:P=>P.currentTarget.style.backgroundColor=k.destructiveHoverBgColor,onMouseLeave:P=>P.currentTarget.style.backgroundColor=k.destructiveBgColor,children:e==="es"?"Botn Eliminar":"Delete Button"})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap items-center",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:`${k.accentColor}20`,color:k.accentColor},children:e==="es"?"Badge de Acento":"Accent Badge"}),a.jsx("span",{className:"font-semibold bg-clip-text text-transparent",style:{backgroundImage:k.useGradient?`linear-gradient(to right, ${k.primaryColor}, ${k.secondaryColor})`:`linear-gradient(to right, ${k.primaryColor}, ${k.primaryColor})`},children:e==="es"?"Texto con Gradiente":"Gradient Text"})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs(ve,{onClick:ca,style:ct(u),children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),e==="es"?"Guardar Personalizacin":"Save Customization"]})})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:t("settings.visual.slides")}),a.jsxs(ve,{onClick:ua,style:ct(u),children:[a.jsx(bs,{className:"mr-2 h-4 w-4"}),t("settings.visual.addSlide")]})]}),a.jsx("div",{className:"space-y-4",children:te?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:e==="es"?"Cargando diapositivas...":"Loading slides..."})}):H.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:e==="es"?"No hay diapositivas. Agrega una para comenzar.":"No slides. Add one to get started."})}):H.map(P=>a.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[D===P.id&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600 mb-2 bg-blue-50 p-2 rounded",children:[a.jsx(Mn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"font-medium",children:e==="es"?"Guardando...":"Saving..."})]}),ce===P.id&&D!==P.id&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-2 bg-green-50 p-2 rounded",children:[a.jsx(hf,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:e==="es"?"Guardado ":"Saved "})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.order")}),a.jsx("input",{type:"number",value:P.display_order??0,onChange:U=>$i(P.id,U.target.value),className:"w-full input-style",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.linkUrl")}),a.jsx("input",{type:"url",value:P.link_url||"",onChange:U=>qr(P.id,{link_url:U.target.value}),placeholder:"https://...",className:"w-full input-style"})]})]}),(P.image_url||he[P.id])&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e==="es"?"Vista Previa:":"Preview:"}),a.jsx("div",{className:"relative w-full aspect-[16/9] max-w-2xl rounded-lg overflow-hidden border-2 border-gray-300 bg-gray-100",children:a.jsx("img",{src:he[P.id]||P.image_url,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("settings.visual.image")}),a.jsx("input",{type:"url",value:P.image_url||"",onChange:U=>qr(P.id,{image_url:U.target.value}),placeholder:"https://... or upload below",className:"w-full input-style mb-2"}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:U=>Xn(P.id,U),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e==="es"?"Recomendado: 1920x1080px (16:9), mx 5MB":"Recommended: 1920x1080px (16:9), max 5MB"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.mainText")," (ES)"]}),a.jsx("input",{type:"text",value:P.title_es||"",onChange:U=>Kn(P.id,"title_es",U.target.value),placeholder:"Ttulo principal en espaol",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.mainText")," (EN)"]}),a.jsx("input",{type:"text",value:P.title_en||"",onChange:U=>Kn(P.id,"title_en",U.target.value),placeholder:"Main title in English",className:"w-full input-style"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.secondaryText")," (ES)"]}),a.jsx("input",{type:"text",value:P.subtitle_es||"",onChange:U=>Kn(P.id,"subtitle_es",U.target.value),placeholder:"Subttulo en espaol",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("settings.visual.secondaryText")," (EN)"]}),a.jsx("input",{type:"text",value:P.subtitle_en||"",onChange:U=>Kn(P.id,"subtitle_en",U.target.value),placeholder:"Subtitle in English",className:"w-full input-style"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`slide-active-${P.id}`,checked:P.is_active??!0,onChange:U=>qr(P.id,{is_active:U.target.checked})}),a.jsx("label",{htmlFor:`slide-active-${P.id}`,className:"text-sm font-medium",children:t("settings.visual.active")})]}),a.jsxs(ve,{variant:"destructive",size:"sm",onClick:()=>Qn(P.id),children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),e==="es"?"Eliminar":"Delete"]})]})]},P.id))})]})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(KE,{className:"mr-3",style:{color:u.primaryColor||"#2563eb"}}),e==="es"?"Zonas de Envo":"Shipping Zones"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e==="es"?"Configura el costo de envo por provincia. Las provincias con costo $0 no aparecern en el selector de envo.":"Configure shipping cost by province. Provinces with $0 cost will not appear in the shipping selector."}),qe?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Mn,{className:"h-6 w-6 animate-spin",style:{color:u.primaryColor}})}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ye.map(P=>a.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:P.is_active?u.primaryColor||"#2563eb":"#e5e7eb",backgroundColor:P.is_active?`${u.primaryColor||"#2563eb"}08`:"transparent"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($E,{className:"h-4 w-4",style:{color:u.primaryColor}}),a.jsx("span",{className:"font-medium",children:P.province_name})]}),$e===P.id&&a.jsx(Mn,{className:"h-4 w-4 animate-spin",style:{color:u.primaryColor}})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:P.free_shipping||!1,onChange:U=>Os(P.id,{...P,free_shipping:U.target.checked,shipping_cost:U.target.checked?0:P.shipping_cost,is_active:!0}),className:"rounded"}),a.jsx("span",{className:"text-sm",children:e==="es"?"Envo Gratis":"Free Shipping"})]}),!P.free_shipping&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:e==="es"?"Costo de envo ($)":"Shipping cost ($)"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:P.shipping_cost||0,onChange:U=>{const we=parseFloat(U.target.value)||0;Oe(Ue=>Ue.map(Ge=>Ge.id===P.id?{...Ge,shipping_cost:we}:Ge))},onBlur:U=>{const we=parseFloat(U.target.value)||0;we!==P.shipping_cost&&Os(P.id,{...P,shipping_cost:we,is_active:we>0})},className:"input-style w-full text-sm",placeholder:"0.00"})]}),a.jsx("div",{className:"flex items-center gap-2 text-xs",children:P.free_shipping?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${u.successColor||"#10b981"}20`,color:u.successColor||"#10b981"},children:e==="es"?" Gratis":" Free"}):P.shipping_cost>0?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${u.primaryColor||"#2563eb"}20`,color:u.primaryColor||"#2563eb"},children:e==="es"?" Activo":" Active"}):a.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-500",children:e==="es"?"No disponible":"Not available"})})]})]},P.id))})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(SE,{className:"mr-3",style:{color:u.primaryColor||"#2563eb"}}),e==="es"?"Configuracin de Remesas":"Remittance Configuration"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e==="es"?"Configure las monedas y mtodos de pago disponibles para las remesas.":"Configure available currencies and payment methods for remittances."}),J?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Mn,{className:"animate-spin h-6 w-6 text-gray-400"})}):a.jsx("div",{className:"space-y-6",children:T.map(P=>a.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:u.borderColor||"#e5e7eb"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:u.useGradient?`linear-gradient(to right, ${u.primaryColor||"#2563eb"}, ${u.secondaryColor||"#9333ea"})`:u.primaryColor||"#2563eb"},children:a.jsx("span",{className:"text-white font-bold text-sm",children:P.currency})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:P.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[P.currency==="MN"&&(e==="es"?"Moneda Nacional":"National Currency"),P.currency==="USD"&&(e==="es"?"Dlar Estadounidense":"US Dollar"),P.currency==="MLC"&&(e==="es"?"Moneda Libremente Convertible":"Freely Convertible Currency")]})]})]}),Ae===P.id&&a.jsx(Mn,{className:"animate-spin h-5 w-5 text-gray-400"})]}),a.jsxs("label",{className:"flex items-center gap-2 mb-4 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:P.enabled!==!1,onChange:U=>Is(P.id,{enabled:U.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium",children:e==="es"?"Habilitar esta moneda":"Enable this currency"})]}),P.enabled!==!1&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-3",children:e==="es"?"Mtodos de Pago Disponibles:":"Available Payment Methods:"}),a.jsx("div",{className:"space-y-2",children:P.paymentMethods?.map(U=>a.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:u.borderColor||"#e5e7eb"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:U.enabled!==!1,onChange:()=>Li(P.id,U.id),className:"rounded"}),a.jsx(PE,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium",children:U.name})]}),U.enabled!==!1?a.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:`${u.successColor||"#10b981"}20`,color:u.successColor||"#10b981"},children:e==="es"?" Activo":" Active"}):a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-500",children:e==="es"?"Desactivado":"Disabled"})]},U.id))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",style:{borderColor:u.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:e==="es"?"Mtodos activos:":"Active methods:"}),a.jsxs("span",{className:"font-semibold",children:[P.paymentMethods?.filter(U=>U.enabled!==!1).length||0," / ",P.paymentMethods?.length||0]})]})})]},P.id))})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass-effect p-8 rounded-2xl",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[a.jsx(NE,{className:"mr-3 text-green-600"}),t("settings.notifications.title")]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("settings.notifications.whatsapp")}),a.jsx("input",{type:"tel",value:j.whatsapp,onChange:P=>C({...j,whatsapp:P.target.value}),placeholder:"+1234567890",className:"w-full input-style"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("settings.notifications.adminEmail")}),a.jsx("input",{type:"email",value:j.adminEmail,onChange:P=>C({...j,adminEmail:P.target.value}),placeholder:"admin@example.com",className:"w-full input-style"})]})]}),a.jsx("div",{className:"mt-6 text-right",children:a.jsxs(ve,{onClick:wc,style:ct(u),children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),t("settings.notifications.save")]})})]})]})]})})},SO=()=>({adminPhone:"+53XXXXXXXXX",supportPhone:"+53XXXXXXXXX",businessName:"PapuEnvos"}),NO=t=>{if(!t)return"";let e=t.replace(/\D/g,"");return e.startsWith("1")?e=e.substring(1):e.startsWith("53")||e.startsWith("0")&&(e=e.substring(1)),e},cb=(t,e="")=>{const r=NO(t),s=encodeURIComponent(e);return`https://wa.me/${r}?text=${s}`},kO=(t,e="es")=>{const r=SO(),s={es:` *Nuevo Pago Recibido - ${r.businessName}*

 Pedido: ${t.order_number}
 Total: ${t.total_amount} ${t.currency?.code||"USD"}
 Cliente: ${t.user_profile?.full_name||"N/A"}
 Email: ${t.user_profile?.email||"N/A"}
 Provincia: ${t.shipping_zone?.province_name||"N/A"}
 Mtodo: ${t.payment_method}
 Comprobante: ${t.payment_proof_url?"Adjunto":"No adjunto"}

 Fecha: ${new Date(t.created_at).toLocaleString("es-CU")}

Por favor, revisa y valida el pago en el panel de administracin.`,en:` *New Payment Received - ${r.businessName}*

 Order: ${t.order_number}
 Total: ${t.total_amount} ${t.currency?.code||"USD"}
 Customer: ${t.user_profile?.full_name||"N/A"}
 Email: ${t.user_profile?.email||"N/A"}
 Province: ${t.shipping_zone?.province_name||"N/A"}
 Method: ${t.payment_method}
 Proof: ${t.payment_proof_url?"Attached":"Not attached"}

 Date: ${new Date(t.created_at).toLocaleString("en-US")}

Please review and validate the payment in the admin panel.`};return cb(r.adminPhone,s[e]||s.es)},EO=async()=>{const t=new Date().toISOString().slice(0,10).replace(/-/g,""),{data:e,error:r}=await ae.from("orders").select("order_number").like("order_number",`ORD-${t}-%`).order("created_at",{ascending:!1}).limit(1);if(r)return console.error("Error generating order number:",r),`ORD-${t}-${Date.now().toString().slice(-5)}`;let s=1;if(e&&e.length>0){const l=e[0].order_number;s=parseInt(l.split("-")[2])+1}const o=s.toString().padStart(5,"0");return`ORD-${t}-${o}`},PO=async(t,e)=>{try{const s={order_number:await EO(),user_id:t.userId,order_type:t.orderType||"product",status:"pending",subtotal:t.subtotal,discount_amount:t.discountAmount||0,shipping_cost:t.shippingCost||0,tax_amount:t.taxAmount||0,total_amount:t.totalAmount,currency_id:t.currencyId,shipping_address:t.shippingAddress||null,recipient_info:t.recipientInfo||null,delivery_instructions:t.deliveryInstructions||"",payment_method:t.paymentMethod||"zelle",payment_status:"pending",payment_reference:t.paymentReference||"",payment_proof_url:t.paymentProofUrl||null,shipping_zone_id:t.shippingZoneId||null,zelle_account_id:t.zelleAccountId||null,notes:t.notes||"",offer_id:t.offerId||null},{data:o,error:l}=await ae.from("orders").insert(s).select().single();if(l)throw l;const u=e.map(m=>({order_id:o.id,item_type:m.itemType,item_id:m.itemId,item_name_es:m.nameEs,item_name_en:m.nameEn,quantity:m.quantity,unit_price:m.unitPrice,total_price:m.totalPrice,inventory_id:m.inventoryId||null,remittance_amount:m.remittanceAmount||null,exchange_rate:m.exchangeRate||null,recipient_data:m.recipientData||null})),{data:d,error:h}=await ae.from("order_items").insert(u).select();if(h)throw h;for(const m of e)m.itemType==="product"&&m.inventoryId&&await TO(m.inventoryId,m.quantity);return{success:!0,order:{...o,items:d}}}catch(r){return console.error("Error creating order:",r),{success:!1,error:r.message}}},TO=async(t,e)=>{try{const{data:r,error:s}=await ae.from("inventory").select("reserved_quantity").eq("id",t).single();if(s)throw s;const o=(r.reserved_quantity||0)+e,{error:l}=await ae.from("inventory").update({reserved_quantity:o}).eq("id",t);if(l)throw l;return await ae.from("inventory_movements").insert({inventory_id:t,movement_type:"reserved",quantity_change:-e,reference_type:"order",notes:"Reserved for order"}),{success:!0}}catch(r){return console.error("Error reserving inventory:",r),{success:!1,error:r.message}}},AO=async(t,e={})=>{try{let r=ae.from("orders").select(`
        *,
        order_items (*),
        currencies (code, symbol),
        shipping_zones (province_name, shipping_cost)
      `).eq("user_id",t).order("created_at",{ascending:!1});e.status&&(r=r.eq("status",e.status)),e.payment_status&&(r=r.eq("payment_status",e.payment_status));const{data:s,error:o}=await r;if(o)throw o;return{success:!0,orders:s||[]}}catch(r){return console.error("Error fetching user orders:",r),{success:!1,error:r.message,orders:[]}}},RO=async t=>{try{const{data:e,error:r}=await ae.from("orders").select(`
        *,
        order_items (*),
        currencies (code, symbol),
        shipping_zones (province_name, shipping_cost),
        validated_by_user:validated_by (
          email,
          user_profiles (full_name)
        )
      `).eq("id",t).single();if(r)throw r;return{success:!0,order:e}}catch(e){return console.error("Error fetching order:",e),{success:!1,error:e.message}}},OO=async(t,e)=>{try{const r=t.name.split(".").pop(),o=`payment-proofs/${`payment-proof-${e}-${Date.now()}.${r}`}`,{data:l,error:u}=await ae.storage.from("order-documents").upload(o,t,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:d}=ae.storage.from("order-documents").getPublicUrl(o),{error:h}=await ae.from("orders").update({payment_proof_url:d.publicUrl}).eq("id",e);if(h)throw h;return{success:!0,url:d.publicUrl}}catch(r){return console.error("Error uploading payment proof:",r),{success:!1,error:r.message}}},MO=({onNavigate:t})=>{const{t:e,language:r}=Yt(),{cart:s,updateCartQuantity:o,removeFromCart:l,clearCart:u,financialSettings:d,zelleAccounts:h,visualSettings:m,businessInfo:p}=Vt(),{isAuthenticated:y,user:x}=gr(),[w,j]=b.useState("cart"),[C,N]=b.useState({fullName:"",phone:"",province:"",municipality:"",address:""}),[O,k]=b.useState(null),[_,A]=b.useState(null),[F,M]=b.useState(!1),[I,W]=b.useState(!1),[Z,B]=b.useState([]),[ge,ie]=b.useState([]),[X,z]=b.useState(0),[ue,he]=b.useState("USD"),[le,H]=b.useState([]),[ee,te]=b.useState(null),[E,D]=b.useState(null),[K,ce]=b.useState(null),xe=Q=>{if(Q.products){const ke=parseFloat(Q.baseTotalPrice||0),Re=parseFloat(Q.profitMargin||d.comboProfit||35)/100;return ke*(1+Re)}else{const ke=parseFloat(Q.base_price||Q.basePrice||0),Re=parseFloat(d.productProfit||40)/100;return ke*(1+Re)}},pe=s.reduce((Q,ke)=>Q+xe(ke)*ke.quantity,0);b.useEffect(()=>{be(),ye()},[]),b.useEffect(()=>{if(C.province){const Q=CO(C.province);ie(Q),N(ke=>({...ke,municipality:""}))}else ie([])},[C.province]),b.useEffect(()=>{C.province&&qe(C.province)},[C.province,pe]),b.useEffect(()=>{Oe()},[ue,pe,X]);const be=async()=>{try{const Q=await gO();if(Q.success){const ke=Q.zones.filter(Re=>Re.free_shipping||parseFloat(Re.shipping_cost)>0);B(ke)}}catch(Q){console.error("Error loading shipping zones:",Q)}},ye=async()=>{try{const{data:Q,error:ke}=await ab();!ke&&Q&&H(Q)}catch(Q){console.error("Error loading currencies:",Q)}},Oe=async()=>{if(ue==="USD"){te(pe),D(X),ce(pe+X);return}try{const{data:Q,error:ke}=await Nv(pe,"USD",ue),{data:Re,error:Ve}=await Nv(X,"USD",ue);!ke&&!Ve?(te(Q),D(Re),ce(Q+Re)):(te(pe),D(X),ce(pe+X))}catch(Q){console.error("Error converting currency:",Q),te(pe),D(X),ce(pe+X)}},qe=async Q=>{try{const ke=await xO(Q,pe);ke.success&&z(ke.cost)}catch(ke){console.error("Error calculating shipping:",ke),z(0)}},Y=(pe+X).toFixed(2),$e=`PO-${Date.now()}`,Ce=h.find(Q=>Q.forProducts&&Q.active),T=()=>{if(!y){se({title:e("auth.loginRequired"),description:e("auth.loginToCheckout"),variant:"destructive"});return}j("recipient")},de=()=>{j("payment")},J=Q=>{navigator.clipboard.writeText(Q),se({title:`${Q} ${e("cart.payment.copy")}!`})},Te=async Q=>{const ke=Q.target.files?.[0];if(!ke)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(ke.type)){se({title:r==="es"?"Tipo de archivo invlido":"Invalid file type",description:r==="es"?"Solo se permiten imgenes JPG, PNG o WebP":"Only JPG, PNG or WebP images are allowed",variant:"destructive"});return}if(ke.size>5*1024*1024){se({title:r==="es"?"Archivo muy grande":"File too large",description:r==="es"?"El tamao mximo es 5MB":"Maximum size is 5MB",variant:"destructive"});return}M(!0);try{const Ve=await ob(ke,"payment_proof");if(!Ve.success)throw new Error(Ve.error||"Error processing image");A(Ve.base64),k(Ve.blob),se({title:r==="es"?" Comprobante cargado":" Proof uploaded",description:r==="es"?"La imagen se ha cargado correctamente":"Image uploaded successfully"})}catch(Ve){console.error("Error uploading payment proof:",Ve),se({title:r==="es"?"Error al cargar":"Upload error",description:Ve.message,variant:"destructive"})}finally{M(!1)}},Ae=async()=>{if(!O){se({title:r==="es"?"Comprobante requerido":"Proof required",description:r==="es"?"Por favor sube el comprobante de pago":"Please upload payment proof",variant:"destructive"});return}if(!x){se({title:r==="es"?"Error de autenticacin":"Authentication error",description:r==="es"?"Por favor inicia sesin para continuar":"Please log in to continue",variant:"destructive"});return}W(!0);try{const Q=le.find(De=>De.code===ue);if(!Q)throw new Error("Currency not found");const ke=Z.find(De=>De.province_name===C.province),Re=s.map(De=>({itemType:De.type||"product",itemId:De.id,nameEs:De.name_es||De.name,nameEn:De.name_en||De.name,quantity:De.quantity,unitPrice:xe(De),totalPrice:xe(De)*De.quantity,inventoryId:De.inventory_id||null})),Ve={userId:x.id,orderType:"product",subtotal:pe,shippingCost:X,totalAmount:pe+X,currencyId:Q.id,recipientInfo:JSON.stringify(C),paymentMethod:"zelle",shippingZoneId:ke?.id||null,zelleAccountId:h?.[0]?.id||null},it=await PO(Ve,Re);if(!it.success)throw new Error(it.error||"Error creating order");const vt=it.order,ht=await OO(O,vt.id);if(ht.success||console.error("Error uploading payment proof:",ht.error),p?.whatsapp){const De=kO({...vt,currency:Q,user_profile:{full_name:C.fullName,email:x.email},shipping_zone:ke,payment_proof_url:ht.url},r)}se({title:r==="es"?" Pedido confirmado":" Order confirmed",description:r==="es"?`Tu pedido ${vt.order_number} ha sido creado. Recibirs una notificacin cuando sea validado.`:`Your order ${vt.order_number} has been created. You'll receive a notification when it's validated.`}),u(),t("user-panel")}catch(Q){console.error("Error confirming payment:",Q),se({title:r==="es"?"Error al procesar":"Processing error",description:Q.message||(r==="es"?"No se pudo procesar tu pedido. Por favor intenta de nuevo.":"Could not process your order. Please try again."),variant:"destructive"})}finally{W(!1)}};return w==="recipient"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:Ye(m),children:r==="es"?"Datos de Entrega":"Delivery Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Nombre completo":"Full name"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",placeholder:r==="es"?"Ingrese el nombre completo del destinatario":"Enter recipient full name",value:C.fullName,onChange:Q=>N({...C,fullName:Q.target.value}),className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Telfono":"Phone"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",placeholder:r==="es"?"Ej: +53 5 234 5678":"Ex: +53 5 234 5678",value:C.phone,onChange:Q=>N({...C,phone:Q.target.value}),className:"input-style w-full",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Provincia":"Province"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:C.province,onChange:Q=>N({...C,province:Q.target.value}),className:"input-style w-full",required:!0,children:[a.jsx("option",{value:"",children:r==="es"?"Seleccione una provincia":"Select a province"}),Z.map(Q=>a.jsxs("option",{value:Q.province_name,children:[Q.province_name,Q.free_shipping?` - ${r==="es"?"Envo Gratis":"Free Shipping"}`:` - $${parseFloat(Q.shipping_cost).toFixed(2)}`]},Q.id))]})]}),C.province&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Municipio":"Municipality"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:C.municipality,onChange:Q=>N({...C,municipality:Q.target.value}),className:"input-style w-full",required:!0,children:[a.jsx("option",{value:"",children:r==="es"?"Seleccione un municipio":"Select a municipality"}),ge.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[r==="es"?"Direccin completa":"Full address"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{placeholder:r==="es"?"Calle, nmero, entre calles, edificio, apartamento, etc.":"Street, number, between streets, building, apartment, etc.",value:C.address,onChange:Q=>N({...C,address:Q.target.value}),className:"input-style w-full min-h-[100px]",required:!0})]}),C.province&&a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:r==="es"?"Costo de envo":"Shipping cost"}),a.jsx("p",{className:"text-lg font-bold",style:{color:m.primaryColor},children:X===0?r==="es"?"Envo Gratis!":"Free Shipping!":`$${X.toFixed(2)}`})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(ve,{variant:"outline",onClick:()=>j("cart"),className:"flex-1",children:r==="es"?"Atrs":"Back"}),a.jsx(ve,{onClick:de,style:ct(m),className:"flex-1",disabled:!C.fullName||!C.phone||!C.province||!C.municipality||!C.address,children:r==="es"?"Continuar al Pago":"Continue to Payment"})]})]})}):w==="payment"?a.jsx("div",{className:"container mx-auto max-w-2xl py-8 px-4",children:a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-effect p-8 rounded-2xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",style:Ye(m),children:e("cart.payment.title")}),a.jsxs("div",{className:"p-4 rounded-lg mb-6",style:QR(m,"info"),children:[a.jsx("h2",{className:"font-semibold text-lg mb-2",children:e("cart.payment.instructionsTitle")}),a.jsx("p",{className:"text-sm",children:e("cart.payment.instructions")})]}),Ce?a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsx("h3",{className:"font-semibold",children:e("cart.payment.accountInfo")}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",Ce.email]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[e("settings.zelle.name"),":"]})," ",Ce.name]})]}):a.jsx("p",{className:"text-red-500",children:"No Zelle account available."}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{children:[e("cart.payment.purchaseId"),": ",a.jsx("strong",{className:"font-mono",children:$e})]}),a.jsxs(ve,{onClick:()=>J($e),variant:"outline",children:[a.jsx(Oy,{className:"mr-2 h-4 w-4"}),e("cart.payment.copy")]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{children:[e("cart.payment.amount"),": ",a.jsxs("strong",{className:"text-2xl",style:{color:m.successColor||"#10b981"},children:["$",Y]})]}),a.jsxs(ve,{onClick:()=>J(Y),variant:"outline",children:[a.jsx(Oy,{className:"mr-2 h-4 w-4"}),e("cart.payment.copy")]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e("cart.payment.uploadProof")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),_?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2",style:{borderColor:m.successColor||"#10b981"},children:[a.jsx("img",{src:_,alt:"Payment proof",className:"w-full h-64 object-contain bg-gray-50"}),a.jsx("div",{className:"absolute top-2 right-2 p-2 rounded-full",style:{backgroundColor:m.successColor||"#10b981"},children:a.jsx(B0,{className:"h-5 w-5 text-white"})})]}),a.jsxs(ve,{variant:"outline",onClick:()=>{k(null),A(null)},className:"w-full",children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),r==="es"?"Cambiar imagen":"Change image"]})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:Te,className:"hidden",disabled:F}),a.jsx("div",{className:"flex justify-center px-6 py-8 border-2 border-dashed rounded-lg hover:border-gray-400 transition-colors",style:{borderColor:m.borderColor||"#d1d5db"},children:a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx(q0,{className:"mx-auto h-12 w-12",style:{color:F?m.primaryColor:"#9ca3af"}}),a.jsx("div",{className:"text-sm",children:F?a.jsx("p",{className:"font-medium",style:{color:m.primaryColor},children:r==="es"?"Procesando imagen...":"Processing image..."}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-medium",style:{color:m.primaryColor},children:r==="es"?"Haz clic para subir":"Click to upload"}),a.jsx("p",{className:"text-gray-500",children:r==="es"?"JPG, PNG o WebP (mx. 5MB)":"JPG, PNG or WebP (max 5MB)"})]})})]})})]})]}),p?.whatsapp&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:r==="es"?"Tienes dudas sobre el pago? Contctanos por WhatsApp":"Questions about payment? Contact us via WhatsApp"}),a.jsxs(ve,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-50",onClick:()=>{const Q=r==="es"?`Hola! Tengo una consulta sobre mi pago. Total: ${le.find(ke=>ke.code===ue)?.symbol||"$"}${K!==null?K.toFixed(2):(pe+X).toFixed(2)} ${ue}`:`Hello! I have a question about my payment. Total: ${le.find(ke=>ke.code===ue)?.symbol||"$"}${K!==null?K.toFixed(2):(pe+X).toFixed(2)} ${ue}`;window.open(cb(p.whatsapp,Q),"_blank")},children:[a.jsx(UE,{className:"mr-2 h-5 w-5"}),r==="es"?"Contactar por WhatsApp":"Contact via WhatsApp"]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ve,{variant:"outline",onClick:()=>j("recipient"),className:"flex-1",disabled:I,children:r==="es"?"Atrs":"Back"}),a.jsx(ve,{onClick:Ae,className:"flex-1",size:"lg",style:ct(m),disabled:!O||F||I,children:I?r==="es"?"Procesando...":"Processing...":e("cart.payment.confirm")})]})]})}):a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(m),children:e("cart.title")})}),s.length===0?a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[a.jsx(zo,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:e("cart.empty")}),a.jsx(ve,{onClick:()=>t("products"),style:ct(m),children:e("cart.browse")})]}):a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map(Q=>{const ke=xe(Q),Re=ke*Q.quantity,Ve=r==="es"?Q.name_es||Q.name||"Producto":Q.name_en||Q.name||"Product",it=Q.image_url||Q.image||"https://images.unsplash.com/photo-1635865165118-917ed9e20936",vt=!!Q.products;return a.jsx(me.div,{layout:!0,className:"glass-effect p-4 rounded-2xl",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{className:"w-24 h-24 rounded-lg object-cover flex-shrink-0",alt:Ve,src:it}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 mb-1",children:[Ve,vt&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"COMBO"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[r==="es"?"Precio unitario: ":"Unit price: ",a.jsxs("span",{className:"font-semibold",style:{color:m.accentColor||"#9333ea"},children:["$",ke.toFixed(2)]})]}),a.jsxs("p",{className:"text-base font-bold text-gray-900",children:["Subtotal: ","$",Re.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsx(ve,{size:"icon",variant:"outline",onClick:()=>o(Q.id,Q.quantity-1),className:"h-8 w-8",children:a.jsx(BE,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-8 text-center font-semibold",children:Q.quantity}),a.jsx(ve,{size:"icon",variant:"outline",onClick:()=>o(Q.id,Q.quantity+1),className:"h-8 w-8",children:a.jsx(bs,{className:"h-4 w-4"})})]}),a.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>l(Q.id),className:"flex-shrink-0",children:a.jsx(Un,{className:"h-5 w-5 text-red-500"})})]})},Q.id)})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-6 rounded-2xl space-y-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:e("cart.summary")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:r==="es"?"Moneda":"Currency"}),a.jsx("select",{value:ue,onChange:Q=>he(Q.target.value),className:"input-style w-full",children:le.length>0?le.map(Q=>a.jsxs("option",{value:Q.code,children:[Q.code," - ",r==="es"?Q.name_es:Q.name_en]},Q.code)):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"USD",children:"USD - Dlar Estadounidense"}),a.jsx("option",{value:"EUR",children:"EUR - Euro"}),a.jsx("option",{value:"CUP",children:"CUP - Peso Cubano"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:e("cart.subtotal")}),a.jsxs("span",{className:"font-semibold",children:[le.find(Q=>Q.code===ue)?.symbol||"$",ee!==null?ee.toFixed(2):pe.toFixed(2)," ",ue]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:e("cart.shipping")}),a.jsx("span",{className:"text-sm font-semibold",children:(E!==null?E:X)===0?r==="es"?"Gratis":"Free":`${le.find(Q=>Q.code===ue)?.symbol||"$"}${(E!==null?E:X).toFixed(2)} ${ue}`})]}),a.jsx("div",{className:"border-t my-2"}),a.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[a.jsx("span",{children:e("cart.total")}),a.jsxs("span",{style:{color:m.primaryColor||"#2563eb"},children:[le.find(Q=>Q.code===ue)?.symbol||"$",K!==null?K.toFixed(2):(pe+X).toFixed(2)," ",ue]})]})]}),a.jsx(ve,{onClick:T,className:"w-full",size:"lg",style:ct(m),children:e("cart.checkout")})]})})]})]})})},IO=({onNavigate:t})=>{const{t:e}=Yt(),{login:r,signInWithGoogle:s}=gr(),{visualSettings:o}=Vt(),[l,u]=b.useState(""),[d,h]=b.useState(""),m=async()=>{try{console.log("Attempting login with:",{email:l});const y=await r(l,d);if(console.log("Login attempt result:",y),y){console.log("Login successful, checking session...");const{data:{session:x}}=await supabase.auth.getSession();console.log("Current session:",x),x?.user?(console.log("User profile:",await getUserProfile(x.user.id)),se({title:"Login Successful",description:"Welcome back!",variant:"default"}),t("dashboard")):(console.error("Session not established after successful login"),se({title:"Login Error",description:"Session could not be established",variant:"destructive"}))}}catch(y){console.error("Login error:",y),se({title:"Login Error",description:y.message||"An unexpected error occurred",variant:"destructive"})}},p=async()=>{try{se({title:"Connecting to Google...",description:"Please wait while we redirect you.",variant:"default"}),await s();const y=se({title:"Redirecting...",description:"Please complete the sign in process with Google.",variant:"default"});setTimeout(()=>{y.dismiss()},2e3)}catch(y){console.error("Google login error:",y),se({title:"Login Error",description:y.message||"Failed to sign in with Google",variant:"destructive"})}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 glass-effect p-10 rounded-2xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold",style:Ye(o),children:e("auth.loginTitle")}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("auth.loginSubtitle")})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(LE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",autoComplete:"email",required:!0,value:l,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e("auth.email")})]}),a.jsxs("div",{className:"relative",children:[a.jsx(IE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:d,onChange:y=>h(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e("auth.password")})]}),a.jsx("div",{children:a.jsxs(ve,{onClick:m,className:"w-full group relative flex justify-center py-3 px-4",style:{background:o.useGradient?`linear-gradient(to right, ${o.primaryColor||"#2563eb"}, ${o.secondaryColor||"#9333ea"})`:o.buttonBgColor||"#2563eb",color:o.buttonTextColor||"#ffffff",border:"none"},children:[a.jsx(z0,{className:"w-5 h-5 mr-2"}),e("auth.login")]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("auth.or")})})]}),a.jsx("div",{children:a.jsxs(ve,{onClick:p,variant:"outline",className:"w-full group relative flex justify-center py-3 px-4",style:{borderColor:o.primaryColor||"#2563eb",color:o.primaryColor||"#2563eb"},children:[a.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:a.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 21.2 172.9 56.9L368.7 128C338.8 102.3 298.2 88 248 88c-86.5 0-157.2 70.2-157.2 156.8s70.7 156.8 157.2 156.8c99.9 0 133-67.8 138.3-103.3H248v-67.3h239.1c1.3 12.2 2.2 24.2 2.2 36.8z"})}),e("auth.loginWithGoogle")]})}),a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Admin: admin@test.com / test123 ",a.jsx("br",{}),"User: user@test.com / test123"]})]})]})})},DO=({onNavigate:t})=>{const{user:e,userProfile:r}=gr(),{t:s,language:o}=Yt(),{visualSettings:l}=Vt(),[u,d]=b.useState([]),[h,m]=b.useState(!0),[p,y]=b.useState(null),[x,w]=b.useState(!1),[j,C]=b.useState(!1);b.useEffect(()=>{if(!e){t("login");return}N()},[e]);const N=async()=>{if(e?.id){m(!0);try{const I=await AO(e.id);I.success&&d(I.orders)}catch(I){console.error("Error loading orders:",I)}finally{m(!1)}}},O=async I=>{C(!0),w(!0);try{const W=await RO(I);W.success&&y(W.order)}catch(W){console.error("Error loading order details:",W)}finally{C(!1)}},k=(I,W)=>W==="validated"||I==="completed"?a.jsx(B0,{className:"h-5 w-5",style:{color:l.successColor||"#10b981"}}):W==="rejected"||I==="cancelled"?a.jsx(JE,{className:"h-5 w-5",style:{color:l.errorColor||"#ef4444"}}):W==="pending"||I==="pending"?a.jsx(mf,{className:"h-5 w-5",style:{color:l.warningColor||"#f59e0b"}}):a.jsx(mf,{className:"h-5 w-5",style:{color:l.textSecondaryColor||"#6b7280"}}),_=(I,W)=>W==="validated"?o==="es"?"Validado":"Validated":W==="rejected"?o==="es"?"Rechazado":"Rejected":W==="pending"?o==="es"?"Pendiente":"Pending":I==="processing"?o==="es"?"En proceso":"Processing":I==="completed"?o==="es"?"Completado":"Completed":o==="es"?"Pendiente":"Pending",A=I=>{switch(I){case"product":return a.jsx(_s,{className:"h-4 w-4"});case"combo":return a.jsx(Er,{className:"h-4 w-4"});case"remittance":return a.jsx(Cs,{className:"h-4 w-4"});default:return a.jsx(_s,{className:"h-4 w-4"})}},F=I=>{switch(I){case"product":return o==="es"?"Producto":"Product";case"combo":return"Combo";case"remittance":return o==="es"?"Remesa":"Remittance";default:return I}};if(!e)return null;const M=r?.full_name||e.email?.split("@")[0]||"Usuario";return a.jsxs("div",{className:"min-h-screen py-8 px-4",style:KR(l),children:[a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",style:Ye(l),children:s("userPanel.title")}),a.jsx("p",{className:"text-xl",style:gt(l,"secondary"),children:o==="es"?`Bienvenido, ${M}`:`Welcome, ${M}`})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-8 rounded-2xl",style:_v(l),children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",style:gt(l,"primary"),children:[a.jsx("div",{className:"p-2 rounded-lg mr-3",style:{background:l.useGradient?`linear-gradient(to right, ${l.primaryColor||"#2563eb"}, ${l.secondaryColor||"#9333ea"})`:l.primaryColor||"#2563eb"},children:a.jsx(Er,{className:"h-5 w-5 text-white"})}),s("userPanel.myOrders")]}),h?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(My,{className:"h-8 w-8 animate-spin",style:{color:l.primaryColor}})}):u.length>0?a.jsx("div",{className:"space-y-4",children:u.map(I=>a.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer",style:{borderColor:l.borderColor||"#e5e7eb"},onClick:()=>O(I.id),children:a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px]",children:[a.jsx("p",{className:"font-semibold mb-1",style:gt(l,"primary"),children:I.order_number}),a.jsx("p",{className:"text-sm",style:gt(l,"muted"),children:new Date(I.created_at).toLocaleDateString(o==="es"?"es-ES":"en-US",{year:"numeric",month:"long",day:"numeric"})}),I.shipping_zones&&a.jsxs("p",{className:"text-xs mt-1",style:gt(l,"muted"),children:[" ",I.shipping_zones.province_name]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold mb-1",style:{color:l.primaryColor},children:["$",parseFloat(I.total_amount).toFixed(2)," ",I.currencies?.code||"USD"]}),a.jsxs("p",{className:"text-xs",style:gt(l,"muted"),children:[I.order_items?.length||0," ",o==="es"?"artculos":"items"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-3 py-1.5 rounded-full flex items-center gap-2 text-sm font-medium",style:Bd(I.payment_status||I.status,l),children:[k(I.status,I.payment_status),a.jsx("span",{children:_(I.status,I.payment_status)})]}),a.jsx(ve,{size:"sm",variant:"ghost",children:a.jsx(ql,{className:"h-4 w-4"})})]})]})},I.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Er,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"text-lg mb-2",style:gt(l,"secondary"),children:s("userPanel.noOrders")}),a.jsx("p",{className:"text-sm",style:gt(l,"muted"),children:o==="es"?"Comienza a comprar para ver tus pedidos aqu":"Start shopping to see your orders here"})]})]})]}),a.jsx(Pi,{children:x&&a.jsxs(a.Fragment,{children:[a.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>{w(!1),y(null)}}),a.jsx(me.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:I=>I.stopPropagation(),children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto p-6 rounded-2xl shadow-2xl",style:_v(l),children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold mb-2",style:Ye(l),children:o==="es"?"Detalles del Pedido":"Order Details"}),p&&a.jsx("p",{className:"text-sm",style:gt(l,"muted"),children:p.order_number})]}),a.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>{w(!1),y(null)},children:a.jsx(Un,{className:"h-5 w-5"})})]}),j?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(My,{className:"h-8 w-8 animate-spin",style:{color:l.primaryColor}})}):p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:gt(l,"muted"),children:o==="es"?"Fecha":"Date"}),a.jsx("p",{className:"text-sm",style:gt(l,"primary"),children:new Date(p.created_at).toLocaleDateString(o==="es"?"es-ES":"en-US")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:gt(l,"muted"),children:o==="es"?"Estado":"Status"}),a.jsx("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium",style:Bd(p.payment_status||p.status,l),children:_(p.status,p.payment_status)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:gt(l,"muted"),children:o==="es"?"Provincia":"Province"}),a.jsx("p",{className:"text-sm",style:gt(l,"primary"),children:p.shipping_zones?.province_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:gt(l,"muted"),children:"Total"}),a.jsxs("p",{className:"text-lg font-bold",style:{color:l.primaryColor},children:["$",parseFloat(p.total_amount).toFixed(2)," ",p.currencies?.code||"USD"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",style:gt(l,"primary"),children:o==="es"?"Artculos":"Items"}),a.jsx("div",{className:"space-y-3",children:p.order_items?.map((I,W)=>a.jsx("div",{className:"p-3 rounded-lg border",style:{borderColor:l.borderColor||"#e5e7eb"},children:a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:"p-2 rounded",style:Af(l,"default"),children:A(I.item_type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium mb-1",style:gt(l,"primary"),children:o==="es"?I.item_name_es:I.item_name_en}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",style:gt(l,"muted"),children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:Af(l,"info"),children:F(I.item_type)}),a.jsxs("span",{children:[o==="es"?"Cantidad":"Qty",": ",I.quantity]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",style:gt(l,"primary"),children:["$",parseFloat(I.total_price).toFixed(2)]}),a.jsxs("p",{className:"text-xs",style:gt(l,"muted"),children:["$",parseFloat(I.unit_price).toFixed(2)," c/u"]})]})]})},W))})]}),p.payment_proof_url&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",style:gt(l,"primary"),children:o==="es"?"Comprobante de Pago":"Payment Proof"}),a.jsx("img",{src:p.payment_proof_url,alt:"Payment proof",className:"w-full rounded-lg border",style:{borderColor:l.borderColor||"#e5e7eb"}})]}),p.rejection_reason&&a.jsxs("div",{className:"p-4 rounded-lg",style:Bd("rejected",l),children:[a.jsx("p",{className:"font-medium mb-1",children:o==="es"?"Motivo de Rechazo":"Rejection Reason"}),a.jsx("p",{className:"text-sm",children:p.rejection_reason})]})]}):null]})})]})})]})},Po=["jtheoden@gmail.com","jtheoden@googlemail.com"],LO=()=>{const{t}=Yt(),{user:e}=gr(),{visualSettings:r}=Vt(),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(""),m=async()=>{u(!0);try{const{data:N,error:O}=await ae.from("user_profiles").select("id, email, role, is_enabled, full_name, avatar_url, created_at").order("created_at",{ascending:!1});if(O)throw O;o(N||[])}catch(N){console.error("Error fetching users:",N),se({title:t("users.fetchError"),description:N.message,variant:"destructive"})}finally{u(!1)}};b.useEffect(()=>{m()},[]);const p=async(N,O)=>{try{const k=s.find(A=>A.id===N);if(Po.includes(k?.email))throw new Error(t("users.cannotModifySuperAdmin"));const{error:_}=await ae.from("user_profiles").update({role:O}).eq("id",N);if(_)throw _;await m(),se({title:t("users.roleUpdated"),description:t("users.roleUpdatedSuccess")})}catch(k){console.error("Error updating user role:",k),se({title:t("users.roleUpdateError"),description:k.message,variant:"destructive"})}},y=async(N,O)=>{try{const k=s.find(A=>A.id===N);if(Po.includes(k?.email))throw new Error(t("users.cannotModifySuperAdmin"));const{error:_}=await ae.from("user_profiles").update({is_enabled:O}).eq("id",N);if(_)throw _;await m(),se({title:t(O?"users.userEnabled":"users.userDisabled"),description:t("users.statusUpdateSuccess")})}catch(k){console.error("Error updating user status:",k),se({title:t("users.statusUpdateError"),description:k.message,variant:"destructive"})}},x=async N=>{const O=s.find(_=>_.id===N);if(Po.includes(O?.email)){se({title:t("users.deleteError"),description:t("users.cannotModifySuperAdmin"),variant:"destructive"});return}const k=t("users.confirmDelete",{email:O?.email});if(window.confirm(k))try{const{error:_}=await ae.from("user_profiles").delete().eq("id",N);if(_)throw _;const{error:A}=await ae.auth.admin.deleteUser(N);A&&console.warn("Could not delete from auth.users:",A),await m(),se({title:t("users.userDeleted"),description:t("users.userDeletedSuccess")})}catch(_){console.error("Error deleting user:",_),se({title:t("users.deleteError"),description:_.message,variant:"destructive"})}},w=Po.includes(e?.email),j=s.filter(N=>N.email?.toLowerCase().includes(d.toLowerCase())||N.full_name?.toLowerCase().includes(d.toLowerCase())),C=N=>{switch(N){case"super_admin":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:Ye(r),children:t("users.management")}),a.jsx("p",{className:"text-gray-600",children:t("users.managementDescription")})]}),a.jsxs(ve,{onClick:m,disabled:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(Mn,{className:`w-4 h-4 ${l?"animate-spin":""}`}),t("users.refresh")]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-96",children:[a.jsx(W0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:`${t("users.table.email")}, ${t("users.table.name")}...`,value:d,onChange:N=>h(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"px-4 py-2 glass-effect rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[t("users.total"),":"]}),a.jsx("span",{className:"ml-2 font-bold",children:s.length})]}),a.jsxs("div",{className:"px-4 py-2 glass-effect rounded-xl",children:[a.jsxs("span",{className:"text-gray-600",children:[t("users.table.active"),":"]}),a.jsx("span",{className:"ml-2 font-bold text-green-600",children:s.filter(N=>N.is_enabled).length})]})]})]})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-effect rounded-2xl overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.email")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.name")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.role")}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.status")}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:t("users.table.actions")})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l?a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[a.jsx(Mn,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500",children:t("users.loadingUsers")})]})}):j.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center",children:[a.jsx(dc,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a.jsx("p",{className:"text-gray-500",children:t(d?"users.noUsersFound":"users.noUsers")})]})}):j.map((N,O)=>{const k=Po.includes(N.email);return a.jsxs(me.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.05},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-semibold",children:N.email?.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.email})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:N.full_name||"-"})}),a.jsx("td",{className:"px-6 py-4",children:k?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[a.jsx(kd,{className:"w-3 h-3 mr-1"}),t("users.superAdmin")]}):w?a.jsxs("select",{value:N.role||"user",onChange:_=>p(N.id,_.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 focus:ring-2 focus:ring-blue-500 ${C(N.role)}`,children:[a.jsx("option",{value:"user",children:t("users.roles.user")}),a.jsx("option",{value:"admin",children:t("users.roles.admin")})]}):a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${C(N.role)}`,children:t(`users.roles.${N.role||"user"}`)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${N.is_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.is_enabled?t("users.table.active"):t("users.table.inactive")})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!k&&w&&a.jsxs(a.Fragment,{children:[a.jsx(ve,{variant:N.is_enabled?"outline":"default",size:"sm",onClick:()=>y(N.id,!N.is_enabled),className:"flex items-center gap-2",title:N.is_enabled?t("users.disableUser"):t("users.enableUser"),children:N.is_enabled?a.jsxs(a.Fragment,{children:[a.jsx(XE,{className:"w-4 h-4"}),t("users.disable")]}):a.jsxs(a.Fragment,{children:[a.jsx(QE,{className:"w-4 h-4"}),t("users.enable")]})}),a.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>x(N.id),className:"flex items-center gap-2",style:{backgroundColor:r.destructiveBgColor||"#dc2626",color:r.destructiveTextColor||"#ffffff",borderColor:r.destructiveBgColor||"#dc2626"},onMouseEnter:_=>_.currentTarget.style.backgroundColor=r.destructiveHoverBgColor||"#b91c1c",onMouseLeave:_=>_.currentTarget.style.backgroundColor=r.destructiveBgColor||"#dc2626",title:t("users.deleteUser"),children:[a.jsx(Do,{className:"w-4 h-4"}),t("users.delete")]})]}),k&&a.jsxs("span",{className:"text-xs text-gray-400 italic flex items-center gap-1",children:[a.jsx(kd,{className:"w-3 h-3"}),t("users.protected")]})]})})]},N.id)})})]})})}),a.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(kd,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsxs("p",{className:"font-semibold mb-1",children:[t("users.rolesPermissions.title"),":"]}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.user"),":"]})," ",t("users.rolesPermissions.userDesc")]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.admin"),":"]})," ",t("users.rolesPermissions.adminDesc")]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("users.roles.super_admin"),":"]})," ",t("users.rolesPermissions.superAdminDesc")]})]})]})]})}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(gi,{className:"w-5 h-5 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsxs("p",{className:"font-semibold mb-1",children:[t("users.securityNote.title"),":"]}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:t("users.securityNote.superAdminProtected")}),a.jsx("li",{children:t("users.securityNote.onlySuperAdminManage")}),a.jsx("li",{children:t("users.securityNote.deletionPermanent")})]})]})]})})]})]})})},Ev="papuenvios_supabase_auth_handled",$O=({onNavigate:t})=>{const[e,r]=b.useState(!0),[s,o]=b.useState(null);return b.useEffect(()=>{let l=!0;return(async()=>{try{if(console.log("[AuthCallback] start handling callback",{href:window.location.href,hash:window.location.hash,search:window.location.search}),sessionStorage.getItem(Ev)==="1"){console.warn("[AuthCallback] already handled in this session"),l&&r(!1);const{data:{session:h}}=await ae.auth.getSession();h?.user&&t&&t("dashboard");return}sessionStorage.setItem(Ev,"1");let d=null;if(typeof ae.auth.getSessionFromUrl=="function"){const{data:h,error:m}=await ae.auth.getSessionFromUrl({storeSession:!0});m?console.warn("[AuthCallback] getSessionFromUrl returned error",m):d=h?.session}if(!d){const{data:{session:h},error:m}=await ae.auth.getSession();m&&console.warn("[AuthCallback] getSession returned error",m),d=h}if(!d){await new Promise(m=>setTimeout(m,800));const{data:{session:h}}=await ae.auth.getSession();d=h}if(!d?.user)throw new Error("No se pudo establecer la sesin de usuario");console.log("[AuthCallback] Auth success for:",d.user.email);try{window.history.replaceState({},document.title,window.location.pathname)}catch{}se({title:"Bienvenido!",description:`Has iniciado sesin como ${d.user.email}`}),t&&setTimeout(()=>t("dashboard"),150)}catch(d){console.error("[AuthCallback] error:",d);const h=d?.message||String(d);o(h),se({title:"Error de Autenticacin",description:h,variant:"destructive"}),setTimeout(()=>{t&&t("login")},1800)}finally{l&&r(!1)}})(),()=>{l=!1}},[t]),e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6 bg-white rounded shadow",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"mt-4",children:"Completando autenticacin..."})]})}):s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6 bg-white rounded shadow",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Error de Autenticacin"}),a.jsx("p",{className:"mt-2 text-red-600",children:s})]})}):null},sa=(t,e)=>s=>{const{user:o,loading:l,checkRole:u,userRole:d}=gr();return l?a.jsx(rb,{}):o?u(e)?a.jsx(t,{...s}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Acceso restringido"}),a.jsxs("p",{className:"text-gray-600",children:["No tienes permisos para ver esta pgina. Rol requerido: ",e,". Tu rol: ",d||"ninguno","."]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:a.jsxs("div",{className:"glass-effect p-8 rounded-2xl text-center max-w-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Autenticacin requerida"}),a.jsx("p",{className:"text-gray-600",children:"Debes iniciar sesin para acceder a esta pgina."})]})})};function FO(){const{visualSettings:t}=Vt();return b.useEffect(()=>{document.title=t.companyName||"PapuEnvos"},[t.companyName]),a.jsxs($1,{children:[a.jsxs("title",{children:[t.companyName||"PapuEnvos"," - Plataforma de Comercio Digital"]}),a.jsx("meta",{name:"description",content:"Plataforma completa de comercio digital con vendedores independientes, remesas y gestin de ganancias"})]})}const UO=sa(LO,"admin"),BO=sa(oO,"admin"),VO=sa(lO,"admin"),zO=sa(jO,"admin"),WO=sa(DO,"user");function qO(){const[t,e]=b.useState(!0),[r,s]=b.useState("home"),[o,l]=b.useState({itemId:null,itemType:null});b.useEffect(()=>{const h=window.location.pathname,m=new URLSearchParams(window.location.search),p=new URLSearchParams(window.location.hash.substring(1));(h==="/auth/callback"||m.has("access_token")||p.has("access_token")||m.has("code"))&&s("auth/callback");const y=h.match(/^\/product\/([^/]+)$/),x=h.match(/^\/combo\/([^/]+)$/);y?(s("product-detail"),l({itemId:y[1],itemType:"product"})):x&&(s("product-detail"),l({itemId:x[1],itemType:"combo"}));const w=setTimeout(()=>{e(!1)},2500);return()=>clearTimeout(w)},[]);const u=(h,m={})=>{if(s(h),h==="product-detail"&&m.itemId&&m.itemType){l({itemId:m.itemId,itemType:m.itemType});const p=`/${m.itemType}/${m.itemId}`;window.history.pushState({},"",p)}else h==="home"&&window.location.pathname!=="/"?window.history.pushState({},"","/"):h!=="home"&&window.location.pathname==="/"&&window.history.pushState({},"",`/${h}`)},d=()=>{switch(r){case"home":return a.jsx(jv,{onNavigate:u});case"products":return a.jsx(ZR,{onNavigate:u});case"product-detail":return a.jsx(tO,{onNavigate:u,itemId:o.itemId,itemType:o.itemType});case"remittances":return a.jsx(iO,{onNavigate:u});case"dashboard":return a.jsx(BO,{onNavigate:u});case"admin":return a.jsx(VO,{onNavigate:u});case"settings":return a.jsx(zO,{onNavigate:u});case"cart":return a.jsx(MO,{onNavigate:u});case"login":return a.jsx(IO,{onNavigate:u});case"user-panel":return a.jsx(WO,{onNavigate:u});case"user-management":return a.jsx(UO,{onNavigate:u});case"auth/callback":return a.jsx($O,{onNavigate:u});default:return a.jsx(jv,{onNavigate:u})}};return a.jsx(IT,{children:a.jsx(Lv,{children:a.jsx(zR,{children:a.jsx(HR,{children:a.jsx(OT,{children:a.jsxs("div",{className:"min-h-screen",children:[a.jsx(FO,{}),a.jsx(Pi,{mode:"wait",children:t?a.jsx(MT,{},"loading"):a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen",children:[r!=="auth/callback"&&a.jsx(GR,{currentPage:r,onNavigate:u}),a.jsx("main",{className:r!=="auth/callback"?"pt-20":"",children:a.jsx(Pi,{mode:"wait",children:a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d()},r)})})]},"main")}),a.jsx(iP,{})]})})})})})})}d1.createRoot(document.getElementById("root")).render(a.jsx(Je.StrictMode,{children:a.jsx(qO,{})}));
